/* =========================================================
   Variáveis (Design Tokens)
   ========================================================= */
:root {
  --bg-900:#0f1113;
  --bg-800:#1a1d20;
  --bg-700:#202428;
  --text:#f1f5f9;
  --muted:#a7b0b7;
  --green:#00c053;
  --red:#e74c3c;
}

/* =========================================================
   Layout base
   ========================================================= */
.board {
  min-height:100vh;
  display:flex;
  background:var(--bg-900);
}

.sidebar {
  width:250px;
  min-height:100vh;
  background:linear-gradient(180deg,#007a4d,#003822);
}

.sidebar .nav-link {
  font-size:.95rem;
  padding:8px 12px;
  border-radius:8px;
  transition:.2s;
}

.sidebar .nav-link:hover {
  background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);
  transform:translateX(4px);
}

.nav-link.active {
  background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);
  font-weight:700;
  color:#00ff88!important;
  border-left:4px solid #00ff88;
  border-radius:8px 0 0 8px;
}

.main {
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  color:var(--text);
  background:#000;
}

/* =========================================================
   Topbar
   ========================================================= */
.topbar {
  width:100%;
  max-width:920px;
  display:grid;
  grid-template-columns:1fr auto auto;
  align-items:center;
  gap:10px;
  padding:18px 16px 6px;
}

.brand .logo {
  font:700 24px/1 Poppins,sans-serif;
}

.brand .muted {
  color:#b7c2c9;
}

.month-nav {
  display:flex;
  align-items:center;
  gap:8px;
  justify-self:center;
}

.month {
  font-weight:600;
  color:#cbd5dc;
}

.actions {
  justify-self:end;
  display:flex;
  gap:6px;
}

.icon-btn {
  width:36px;
  height:36px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,.1);
  background:#121518;
  color:#fff;
  display:grid;
  place-items:center;
  transition:.2s;
}

.icon-btn:hover {
  background:#171a1d;
  border-color:rgba(255,255,255,.2);
}

.menu-wrap {
  position:relative;
}

.menu-card {
  position:absolute;
  top:44px;
  right:0;
  background:#101315;
  border:1px solid rgba(255,255,255,.12);
  border-radius:10px;
  min-width:180px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
  z-index:20;
}

.menu-item {
  display:block;
  width:100%;
  text-align:left;
  padding:10px 12px;
  background:transparent;
  border:0;
  color:#e6eef4;
}

.menu-item:hover {
  background:#161a1e;
}

.menu-item.danger {
  color:#ffb0b0;
}

/* =========================================================
   Donut (gráfico)
   ========================================================= */
.ring-area {
  width:100%;
  display:grid;
  place-items:center;
}

.ring-wrap {
  position:relative;
  width:min(72vw,520px);
  aspect-ratio:1/1;
  display:grid;
  place-items:center;
}

#ringChart {
  width:100%!important;
  height:100%!important;
}

.ring-center {
  position:absolute;
  inset:0;
  display:grid;
  place-items: center;
  pointer-events:none;
}

.ring-center .in-label {
  color:#20d07f;
  font-weight:800;
}

.ring-center .out-label {
  margin-top:4px;
  color:#ff7f72;
  font-weight:700;
}

.orbit {
  position:absolute;
  inset:0;
}

.bubble {
  --R:calc(50% + 180px);
  position:absolute;
  left:50%;
  top:50%;
  transform:
    rotate(calc(360deg*var(--i)/var(--n)))
    translateX(var(--R))
    rotate(calc(-360deg*var(--i)/var(--n)));
  transform-origin:0 0;
  display:flex;
  align-items:center;
  gap:6px;
  color:#d8e2e8;
}

.bubble .emoji {
  font-size:20px;
}

/* =========================================================
   Saldo + botões fixos
   ========================================================= */
.saldo-bar {
  width:100%;
  display:grid;
  place-items:center;
  margin:8px 0 10px;
}

.saldo-row {
  display:flex;
  align-items:center;
  gap:16px;
}

.saldo-chip {
  background:#122018;
  border:1px solid rgba(0,192,83,.35);
  color:#bfe9cf;
  padding:10px 18px;
  border-radius:10px;
  display:flex;
  gap:8px;
  align-items:baseline;
}

.saldo-chip strong {
  color:var(--green);
}

.mini-fab {
  width:64px;
  height:64px;
  border-radius:50%;
  border:6px solid rgba(255,255,255,.08);
  background:#0f1113;
  color:#fff;
  font:700 30px/1 Poppins,sans-serif;
  display:grid;
  place-items:center;
  box-shadow:0 8px 30px rgba(0,0,0,.4);
}

.mini-fab.plus  { border-color:rgba(0,192,83,.35); }
.mini-fab.minus { border-color:rgba(255,120,90,.35); }

/* =========================================================
   Lista (histórico)
   ========================================================= */
.history {
  width:100%;
  max-width:920px;
  padding:8px 16px 110px;
}

.rowi {
  display:grid;
  grid-template-columns:1fr auto 40px;
  align-items:center;
  gap:12px;
  padding:10px 12px;
  border-radius:12px;
  background:#14181b;
  border:1px solid rgba(255,255,255,.06);
  margin-bottom:8px;
}

.rowi .cat   { font-weight:600; }
.rowi .muted { color:#93a0ab;  }

.right.in  { color:#22d085; font-weight:700; }
.right.out { color:#ff7f72; font-weight:700; }

.trash {
  width:34px;
  height:34px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background:#101315;
  color:#dfe6ea;
  display:grid;
  place-items:center;
}

/* =========================================================
   FAB inteligentes (quando saldo sai de vista)
   ========================================================= */
.fab-smart {
  position:fixed;
  right:18px;
  bottom:18px;
  display:flex;
  flex-direction:column;
  gap:10px;
  opacity:0;
  pointer-events:none;
  transform:translateY(10px);
  transition:.25s;
  z-index:30;
}

.fab-smart.floating {
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}

.fab.small {
  width:64px;
  height:64px;
  border-radius:50%;
  border:6px solid rgba(255,255,255,.08);
  background:#0f1113;
  color:#fff;
  font:700 28px/1 Poppins,sans-serif;
  display:grid;
  place-items:center;
}

.fab.small.plus  { border-color:rgba(0,192,83,.35); }
.fab.small.minus { border-color:rgba(255,120,90,.35); }

/* =========================================================
   Modais
   ========================================================= */
.modal {
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  background:rgba(0,0,0,.55);
  z-index:1000;
}

.modal-card {
  width:min(92vw,520px);
  background:#101315;
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  padding:18px;
  color:var(--text);
}

.modal-card.confirm {
  width:420px;
  text-align:center;
}

.grid {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.grid label {
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:.92rem;
  color:#dfe6ea;
}

.grid label.full { grid-column:1/-1; }

input,
select {
  background:#161a1e;
  color:var(--text);
  border:1px solid rgba(255,255,255,.12);
  border-radius:8px;
  padding:8px 10px;
}

.modal-actions {
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin-top:10px;
}

.btn {
  padding:8px 14px;
  border-radius:10px;
  border:1px solid transparent;
}

.btn.ghost {
  border-color:rgba(255,255,255,.18);
  color:#dfe6ea;
  background:#121518;
}

.btn.solid {
  background:var(--green);
  color:#0b1410;
  font-weight:700;
}

.btn.danger {
  background:#ff6b6b;
  color:#130c0c;
  font-weight:700;
}

/* =========================================================
   Responsivo
   ========================================================= */
@media(max-width:600px){
  .grid { grid-template-columns:1fr; }
  .bubble { --R:calc(50% + 130px); }
}
