var j8=Object.create;var tI=Object.defineProperty,B8=Object.defineProperties,U8=Object.getOwnPropertyDescriptor,$8=Object.getOwnPropertyDescriptors,z8=Object.getOwnPropertyNames,Kk=Object.getOwnPropertySymbols,Qk=Object.getPrototypeOf,Xk=Object.prototype.hasOwnProperty,H8=Object.prototype.propertyIsEnumerable,q8=Reflect.get;var Yk=(n,e,t)=>e in n?tI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Y=(n,e)=>{for(var t in e||={})Xk.call(e,t)&&Yk(n,t,e[t]);if(Kk)for(var t of Kk(e))H8.call(e,t)&&Yk(n,t,e[t]);return n},ge=(n,e)=>B8(n,$8(e));var W8=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var G8=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of z8(e))!Xk.call(n,r)&&r!==t&&tI(n,r,{get:()=>e[r],enumerable:!(i=U8(e,r))||i.enumerable});return n};var K8=(n,e,t)=>(t=n!=null?j8(Qk(n)):{},G8(e||!n||!n.__esModule?tI(t,"default",{value:n,enumerable:!0}):t,n));var Ks=(n,e,t)=>q8(Qk(n),t,e);var A=(n,e,t)=>new Promise((i,r)=>{var o=c=>{try{a(t.next(c))}catch(l){r(l)}},s=c=>{try{a(t.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Jk=W8((nI,iI)=>{"use strict";(function(n,e){typeof nI=="object"&&typeof iI<"u"?iI.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).bootstrap=e()})(nI,function(){"use strict";let n=new Map,e={set(w,f,_){n.has(w)||n.set(w,new Map);let T=n.get(w);T.has(f)||T.size===0?T.set(f,_):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(T.keys())[0]}.`)},get:(w,f)=>n.has(w)&&n.get(w).get(f)||null,remove(w,f){if(!n.has(w))return;let _=n.get(w);_.delete(f),_.size===0&&n.delete(w)}},t="transitionend",i=w=>(w&&window.CSS&&window.CSS.escape&&(w=w.replace(/#([^\s"#']+)/g,(f,_)=>`#${CSS.escape(_)}`)),w),r=w=>w==null?`${w}`:Object.prototype.toString.call(w).match(/\s([a-z]+)/i)[1].toLowerCase(),o=w=>{w.dispatchEvent(new Event(t))},s=w=>!(!w||typeof w!="object")&&(w.jquery!==void 0&&(w=w[0]),w.nodeType!==void 0),a=w=>s(w)?w.jquery?w[0]:w:typeof w=="string"&&w.length>0?document.querySelector(i(w)):null,c=w=>{if(!s(w)||w.getClientRects().length===0)return!1;let f=getComputedStyle(w).getPropertyValue("visibility")==="visible",_=w.closest("details:not([open])");if(!_)return f;if(_!==w){let T=w.closest("summary");if(T&&T.parentNode!==_||T===null)return!1}return f},l=w=>!w||w.nodeType!==Node.ELEMENT_NODE||!!w.classList.contains("disabled")||(w.disabled!==void 0?w.disabled:w.hasAttribute("disabled")&&w.getAttribute("disabled")!=="false"),u=w=>{if(!document.documentElement.attachShadow)return null;if(typeof w.getRootNode=="function"){let f=w.getRootNode();return f instanceof ShadowRoot?f:null}return w instanceof ShadowRoot?w:w.parentNode?u(w.parentNode):null},h=()=>{},p=w=>{w.offsetHeight},g=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],E=()=>document.documentElement.dir==="rtl",b=w=>{var f;f=()=>{let _=g();if(_){let T=w.NAME,j=_.fn[T];_.fn[T]=w.jQueryInterface,_.fn[T].Constructor=w,_.fn[T].noConflict=()=>(_.fn[T]=j,w.jQueryInterface)}},document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(let _ of y)_()}),y.push(f)):f()},M=(w,f=[],_=w)=>typeof w=="function"?w.call(...f):_,O=(w,f,_=!0)=>{if(!_)return void M(w);let T=(Q=>{if(!Q)return 0;let{transitionDuration:te,transitionDelay:ae}=window.getComputedStyle(Q),_e=Number.parseFloat(te),ve=Number.parseFloat(ae);return _e||ve?(te=te.split(",")[0],ae=ae.split(",")[0],1e3*(Number.parseFloat(te)+Number.parseFloat(ae))):0})(f)+5,j=!1,U=({target:Q})=>{Q===f&&(j=!0,f.removeEventListener(t,U),M(w))};f.addEventListener(t,U),setTimeout(()=>{j||o(f)},T)},B=(w,f,_,T)=>{let j=w.length,U=w.indexOf(f);return U===-1?!_&&T?w[j-1]:w[0]:(U+=_?1:-1,T&&(U=(U+j)%j),w[Math.max(0,Math.min(U,j-1))])},q=/[^.]*(?=\..*)\.|.*/,H=/\..*/,G=/::\d+$/,R={},x=1,P={mouseenter:"mouseover",mouseleave:"mouseout"},N=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function F(w,f){return f&&`${f}::${x++}`||w.uidEvent||x++}function V(w){let f=F(w);return w.uidEvent=f,R[f]=R[f]||{},R[f]}function k(w,f,_=null){return Object.values(w).find(T=>T.callable===f&&T.delegationSelector===_)}function jt(w,f,_){let T=typeof f=="string",j=T?_:f||_,U=xn(w);return N.has(U)||(U=w),[T,j,U]}function tt(w,f,_,T,j){if(typeof f!="string"||!w)return;let[U,Q,te]=jt(f,_,T);f in P&&(Q=(Ue=>function(Fe){if(!Fe.relatedTarget||Fe.relatedTarget!==Fe.delegateTarget&&!Fe.delegateTarget.contains(Fe.relatedTarget))return Ue.call(this,Fe)})(Q));let ae=V(w),_e=ae[te]||(ae[te]={}),ve=k(_e,Q,U?_:null);if(ve)return void(ve.oneOff=ve.oneOff&&j);let pe=F(Q,f.replace(q,"")),We=U?(function(Me,Ue,Fe){return function $e(Pt){let Ut=Me.querySelectorAll(Ue);for(let{target:Je}=Pt;Je&&Je!==this;Je=Je.parentNode)for(let gt of Ut)if(gt===Je)return nr(Pt,{delegateTarget:Je}),$e.oneOff&&J.off(Me,Pt.type,Ue,Fe),Fe.apply(Je,[Pt])}})(w,_,Q):(function(Me,Ue){return function Fe($e){return nr($e,{delegateTarget:Me}),Fe.oneOff&&J.off(Me,$e.type,Ue),Ue.apply(Me,[$e])}})(w,Q);We.delegationSelector=U?_:null,We.callable=Q,We.oneOff=j,We.uidEvent=pe,_e[pe]=We,w.addEventListener(te,We,U)}function vt(w,f,_,T,j){let U=k(f[_],T,j);U&&(w.removeEventListener(_,U,!!j),delete f[_][U.uidEvent])}function wt(w,f,_,T){let j=f[_]||{};for(let[U,Q]of Object.entries(j))U.includes(T)&&vt(w,f,_,Q.callable,Q.delegationSelector)}function xn(w){return w=w.replace(H,""),P[w]||w}let J={on(w,f,_,T){tt(w,f,_,T,!1)},one(w,f,_,T){tt(w,f,_,T,!0)},off(w,f,_,T){if(typeof f!="string"||!w)return;let[j,U,Q]=jt(f,_,T),te=Q!==f,ae=V(w),_e=ae[Q]||{},ve=f.startsWith(".");if(U===void 0){if(ve)for(let pe of Object.keys(ae))wt(w,ae,pe,f.slice(1));for(let[pe,We]of Object.entries(_e)){let Me=pe.replace(G,"");te&&!f.includes(Me)||vt(w,ae,Q,We.callable,We.delegationSelector)}}else{if(!Object.keys(_e).length)return;vt(w,ae,Q,U,j?_:null)}},trigger(w,f,_){if(typeof f!="string"||!w)return null;let T=g(),j=null,U=!0,Q=!0,te=!1;f!==xn(f)&&T&&(j=T.Event(f,_),T(w).trigger(j),U=!j.isPropagationStopped(),Q=!j.isImmediatePropagationStopped(),te=j.isDefaultPrevented());let ae=nr(new Event(f,{bubbles:U,cancelable:!0}),_);return te&&ae.preventDefault(),Q&&w.dispatchEvent(ae),ae.defaultPrevented&&j&&j.preventDefault(),ae}};function nr(w,f={}){for(let[_,T]of Object.entries(f))try{w[_]=T}catch{Object.defineProperty(w,_,{configurable:!0,get:()=>T})}return w}function Rs(w){if(w==="true")return!0;if(w==="false")return!1;if(w===Number(w).toString())return Number(w);if(w===""||w==="null")return null;if(typeof w!="string")return w;try{return JSON.parse(decodeURIComponent(w))}catch{return w}}function On(w){return w.replace(/[A-Z]/g,f=>`-${f.toLowerCase()}`)}let dt={setDataAttribute(w,f,_){w.setAttribute(`data-bs-${On(f)}`,_)},removeDataAttribute(w,f){w.removeAttribute(`data-bs-${On(f)}`)},getDataAttributes(w){if(!w)return{};let f={},_=Object.keys(w.dataset).filter(T=>T.startsWith("bs")&&!T.startsWith("bsConfig"));for(let T of _){let j=T.replace(/^bs/,"");j=j.charAt(0).toLowerCase()+j.slice(1),f[j]=Rs(w.dataset[T])}return f},getDataAttribute:(w,f)=>Rs(w.getAttribute(`data-bs-${On(f)}`))};class yi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(f){return f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f}_mergeConfigObj(f,_){let T=s(_)?dt.getDataAttribute(_,"config"):{};return Y(Y(Y(Y({},this.constructor.Default),typeof T=="object"?T:{}),s(_)?dt.getDataAttributes(_):{}),typeof f=="object"?f:{})}_typeCheckConfig(f,_=this.constructor.DefaultType){for(let[T,j]of Object.entries(_)){let U=f[T],Q=s(U)?"element":r(U);if(!new RegExp(j).test(Q))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${T}" provided type "${Q}" but expected type "${j}".`)}}}class rn extends yi{constructor(f,_){super(),(f=a(f))&&(this._element=f,this._config=this._getConfig(_),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(let f of Object.getOwnPropertyNames(this))this[f]=null}_queueCallback(f,_,T=!0){O(f,_,T)}_getConfig(f){return f=this._mergeConfigObj(f,this._element),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}static getInstance(f){return e.get(a(f),this.DATA_KEY)}static getOrCreateInstance(f,_={}){return this.getInstance(f)||new this(f,typeof _=="object"?_:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(f){return`${f}${this.EVENT_KEY}`}}let ir=w=>{let f=w.getAttribute("data-bs-target");if(!f||f==="#"){let _=w.getAttribute("href");if(!_||!_.includes("#")&&!_.startsWith("."))return null;_.includes("#")&&!_.startsWith("#")&&(_=`#${_.split("#")[1]}`),f=_&&_!=="#"?_.trim():null}return f?f.split(",").map(_=>i(_)).join(","):null},we={find:(w,f=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(f,w)),findOne:(w,f=document.documentElement)=>Element.prototype.querySelector.call(f,w),children:(w,f)=>[].concat(...w.children).filter(_=>_.matches(f)),parents(w,f){let _=[],T=w.parentNode.closest(f);for(;T;)_.push(T),T=T.parentNode.closest(f);return _},prev(w,f){let _=w.previousElementSibling;for(;_;){if(_.matches(f))return[_];_=_.previousElementSibling}return[]},next(w,f){let _=w.nextElementSibling;for(;_;){if(_.matches(f))return[_];_=_.nextElementSibling}return[]},focusableChildren(w){let f=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(_=>`${_}:not([tabindex^="-"])`).join(",");return this.find(f,w).filter(_=>!l(_)&&c(_))},getSelectorFromElement(w){let f=ir(w);return f&&we.findOne(f)?f:null},getElementFromSelector(w){let f=ir(w);return f?we.findOne(f):null},getMultipleElementsFromSelector(w){let f=ir(w);return f?we.find(f):[]}},td=(w,f="hide")=>{let _=`click.dismiss${w.EVENT_KEY}`,T=w.NAME;J.on(document,_,`[data-bs-dismiss="${T}"]`,function(j){if(["A","AREA"].includes(this.tagName)&&j.preventDefault(),l(this))return;let U=we.getElementFromSelector(this)||this.closest(`.${T}`);w.getOrCreateInstance(U)[f]()})},x_=".bs.alert",nd=`close${x_}`,id=`closed${x_}`;class ks extends rn{static get NAME(){return"alert"}close(){if(J.trigger(this._element,nd).defaultPrevented)return;this._element.classList.remove("show");let f=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),J.trigger(this._element,id),this.dispose()}static jQueryInterface(f){return this.each(function(){let _=ks.getOrCreateInstance(this);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f](this)}})}}td(ks,"close"),b(ks);let rd='[data-bs-toggle="button"]';class Os extends rn{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(f){return this.each(function(){let _=Os.getOrCreateInstance(this);f==="toggle"&&_[f]()})}}J.on(document,"click.bs.button.data-api",rd,w=>{w.preventDefault();let f=w.target.closest(rd);Os.getOrCreateInstance(f).toggle()}),b(Os);let No=".bs.swipe",D_=`touchstart${No}`,T_=`touchmove${No}`,OC=`touchend${No}`,S_=`pointerdown${No}`,A_=`pointerup${No}`,Hf={endCallback:null,leftCallback:null,rightCallback:null},M_={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class od extends yi{constructor(f,_){super(),this._element=f,f&&od.isSupported()&&(this._config=this._getConfig(_),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Hf}static get DefaultType(){return M_}static get NAME(){return"swipe"}dispose(){J.off(this._element,No)}_start(f){this._supportPointerEvents?this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX):this._deltaX=f.touches[0].clientX}_end(f){this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX-this._deltaX),this._handleSwipe(),M(this._config.endCallback)}_move(f){this._deltaX=f.touches&&f.touches.length>1?0:f.touches[0].clientX-this._deltaX}_handleSwipe(){let f=Math.abs(this._deltaX);if(f<=40)return;let _=f/this._deltaX;this._deltaX=0,_&&M(_>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,S_,f=>this._start(f)),J.on(this._element,A_,f=>this._end(f)),this._element.classList.add("pointer-event")):(J.on(this._element,D_,f=>this._start(f)),J.on(this._element,T_,f=>this._move(f)),J.on(this._element,OC,f=>this._end(f)))}_eventIsPointerPenTouch(f){return this._supportPointerEvents&&(f.pointerType==="pen"||f.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let br=".bs.carousel",sd=".data-api",qf="ArrowLeft",Wn="ArrowRight",_n="next",Qr="prev",Ns="left",ul="right",NC=`slide${br}`,Fs=`slid${br}`,P_=`keydown${br}`,R_=`mouseenter${br}`,Wf=`mouseleave${br}`,FC=`dragstart${br}`,LC=`load${br}${sd}`,Gf=`click${br}${sd}`,Kf="carousel",dl="active",Ra=".active",ad=".carousel-item",Yf=Ra+ad,Ls={[qf]:ul,[Wn]:Ns},k_={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cd={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vs extends rn{constructor(f,_){super(f,_),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Kf&&this.cycle()}static get Default(){return k_}static get DefaultType(){return cd}static get NAME(){return"carousel"}next(){this._slide(_n)}nextWhenVisible(){!document.hidden&&c(this._element)&&this.next()}prev(){this._slide(Qr)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?J.one(this._element,Fs,()=>this.cycle()):this.cycle())}to(f){let _=this._getItems();if(f>_.length-1||f<0)return;if(this._isSliding)return void J.one(this._element,Fs,()=>this.to(f));let T=this._getItemIndex(this._getActive());if(T===f)return;let j=f>T?_n:Qr;this._slide(j,_[f])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(f){return f.defaultInterval=f.interval,f}_addEventListeners(){this._config.keyboard&&J.on(this._element,P_,f=>this._keydown(f)),this._config.pause==="hover"&&(J.on(this._element,R_,()=>this.pause()),J.on(this._element,Wf,()=>this._maybeEnableCycle())),this._config.touch&&od.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let _ of we.find(".carousel-item img",this._element))J.on(_,FC,T=>T.preventDefault());let f={leftCallback:()=>this._slide(this._directionToOrder(Ns)),rightCallback:()=>this._slide(this._directionToOrder(ul)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new od(this._element,f)}_keydown(f){if(/input|textarea/i.test(f.target.tagName))return;let _=Ls[f.key];_&&(f.preventDefault(),this._slide(this._directionToOrder(_)))}_getItemIndex(f){return this._getItems().indexOf(f)}_setActiveIndicatorElement(f){if(!this._indicatorsElement)return;let _=we.findOne(Ra,this._indicatorsElement);_.classList.remove(dl),_.removeAttribute("aria-current");let T=we.findOne(`[data-bs-slide-to="${f}"]`,this._indicatorsElement);T&&(T.classList.add(dl),T.setAttribute("aria-current","true"))}_updateInterval(){let f=this._activeElement||this._getActive();if(!f)return;let _=Number.parseInt(f.getAttribute("data-bs-interval"),10);this._config.interval=_||this._config.defaultInterval}_slide(f,_=null){if(this._isSliding)return;let T=this._getActive(),j=f===_n,U=_||B(this._getItems(),T,j,this._config.wrap);if(U===T)return;let Q=this._getItemIndex(U),te=pe=>J.trigger(this._element,pe,{relatedTarget:U,direction:this._orderToDirection(f),from:this._getItemIndex(T),to:Q});if(te(NC).defaultPrevented||!T||!U)return;let ae=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Q),this._activeElement=U;let _e=j?"carousel-item-start":"carousel-item-end",ve=j?"carousel-item-next":"carousel-item-prev";U.classList.add(ve),p(U),T.classList.add(_e),U.classList.add(_e),this._queueCallback(()=>{U.classList.remove(_e,ve),U.classList.add(dl),T.classList.remove(dl,ve,_e),this._isSliding=!1,te(Fs)},T,this._isAnimated()),ae&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return we.findOne(Yf,this._element)}_getItems(){return we.find(ad,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(f){return E()?f===Ns?Qr:_n:f===Ns?_n:Qr}_orderToDirection(f){return E()?f===Qr?Ns:ul:f===Qr?ul:Ns}static jQueryInterface(f){return this.each(function(){let _=Vs.getOrCreateInstance(this,f);if(typeof f!="number"){if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}}else _.to(f)})}}J.on(document,Gf,"[data-bs-slide], [data-bs-slide-to]",function(w){let f=we.getElementFromSelector(this);if(!f||!f.classList.contains(Kf))return;w.preventDefault();let _=Vs.getOrCreateInstance(f),T=this.getAttribute("data-bs-slide-to");return T?(_.to(T),void _._maybeEnableCycle()):dt.getDataAttribute(this,"slide")==="next"?(_.next(),void _._maybeEnableCycle()):(_.prev(),void _._maybeEnableCycle())}),J.on(window,LC,()=>{let w=we.find('[data-bs-ride="carousel"]');for(let f of w)Vs.getOrCreateInstance(f)}),b(Vs);let Xr=".bs.collapse",O_=`show${Xr}`,Xn=`shown${Xr}`,N_=`hide${Xr}`,hl=`hidden${Xr}`,fl=`click${Xr}.data-api`,Qf="show",ka="collapse",Jr="collapsing",VC=`:scope .${ka} .${ka}`,Xf='[data-bs-toggle="collapse"]',ld={parent:null,toggle:!0},F_={parent:"(null|element)",toggle:"boolean"};class Fo extends rn{constructor(f,_){super(f,_),this._isTransitioning=!1,this._triggerArray=[];let T=we.find(Xf);for(let j of T){let U=we.getSelectorFromElement(j),Q=we.find(U).filter(te=>te===this._element);U!==null&&Q.length&&this._triggerArray.push(j)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ld}static get DefaultType(){return F_}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let f=[];if(this._config.parent&&(f=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(j=>j!==this._element).map(j=>Fo.getOrCreateInstance(j,{toggle:!1}))),f.length&&f[0]._isTransitioning||J.trigger(this._element,O_).defaultPrevented)return;for(let j of f)j.hide();let _=this._getDimension();this._element.classList.remove(ka),this._element.classList.add(Jr),this._element.style[_]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let T=`scroll${_[0].toUpperCase()+_.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(ka,Qf),this._element.style[_]="",J.trigger(this._element,Xn)},this._element,!0),this._element.style[_]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,N_).defaultPrevented)return;let f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,p(this._element),this._element.classList.add(Jr),this._element.classList.remove(ka,Qf);for(let _ of this._triggerArray){let T=we.getElementFromSelector(_);T&&!this._isShown(T)&&this._addAriaAndCollapsedClass([_],!1)}this._isTransitioning=!0,this._element.style[f]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Jr),this._element.classList.add(ka),J.trigger(this._element,hl)},this._element,!0)}_isShown(f=this._element){return f.classList.contains(Qf)}_configAfterMerge(f){return f.toggle=!!f.toggle,f.parent=a(f.parent),f}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;let f=this._getFirstLevelChildren(Xf);for(let _ of f){let T=we.getElementFromSelector(_);T&&this._addAriaAndCollapsedClass([_],this._isShown(T))}}_getFirstLevelChildren(f){let _=we.find(VC,this._config.parent);return we.find(f,this._config.parent).filter(T=>!_.includes(T))}_addAriaAndCollapsedClass(f,_){if(f.length)for(let T of f)T.classList.toggle("collapsed",!_),T.setAttribute("aria-expanded",_)}static jQueryInterface(f){let _={};return typeof f=="string"&&/show|hide/.test(f)&&(_.toggle=!1),this.each(function(){let T=Fo.getOrCreateInstance(this,_);if(typeof f=="string"){if(T[f]===void 0)throw new TypeError(`No method named "${f}"`);T[f]()}})}}J.on(document,fl,Xf,function(w){(w.target.tagName==="A"||w.delegateTarget&&w.delegateTarget.tagName==="A")&&w.preventDefault();for(let f of we.getMultipleElementsFromSelector(this))Fo.getOrCreateInstance(f,{toggle:!1}).toggle()}),b(Fo);var Dn="top",dn="bottom",ai="right",Gn="left",Oa="auto",Lo=[Dn,dn,ai,Gn],Vo="start",js="end",L_="clippingParents",Na="viewport",Bs="popper",ud="reference",Us=Lo.reduce(function(w,f){return w.concat([f+"-"+Vo,f+"-"+js])},[]),Zr=[].concat(Lo,[Oa]).reduce(function(w,f){return w.concat([f,f+"-"+Vo,f+"-"+js])},[]),dd="beforeRead",V_="read",Jf="afterRead",Zf="beforeMain",ep="main",hd="afterMain",fd="beforeWrite",tp="write",np="afterWrite",j_=[dd,V_,Jf,Zf,ep,hd,fd,tp,np];function Er(w){return w?(w.nodeName||"").toLowerCase():null}function ci(w){if(w==null)return window;if(w.toString()!=="[object Window]"){var f=w.ownerDocument;return f&&f.defaultView||window}return w}function jo(w){return w instanceof ci(w).Element||w instanceof Element}function Ri(w){return w instanceof ci(w).HTMLElement||w instanceof HTMLElement}function eo(w){return typeof ShadowRoot<"u"&&(w instanceof ci(w).ShadowRoot||w instanceof ShadowRoot)}let rr={name:"applyStyles",enabled:!0,phase:"write",fn:function(w){var f=w.state;Object.keys(f.elements).forEach(function(_){var T=f.styles[_]||{},j=f.attributes[_]||{},U=f.elements[_];Ri(U)&&Er(U)&&(Object.assign(U.style,T),Object.keys(j).forEach(function(Q){var te=j[Q];te===!1?U.removeAttribute(Q):U.setAttribute(Q,te===!0?"":te)}))})},effect:function(w){var f=w.state,_={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,_.popper),f.styles=_,f.elements.arrow&&Object.assign(f.elements.arrow.style,_.arrow),function(){Object.keys(f.elements).forEach(function(T){var j=f.elements[T],U=f.attributes[T]||{},Q=Object.keys(f.styles.hasOwnProperty(T)?f.styles[T]:_[T]).reduce(function(te,ae){return te[ae]="",te},{});Ri(j)&&Er(j)&&(Object.assign(j.style,Q),Object.keys(U).forEach(function(te){j.removeAttribute(te)}))})}},requires:["computeStyles"]};function bi(w){return w.split("-")[0]}var wr=Math.max,pl=Math.min,ht=Math.round;function Fa(){var w=navigator.userAgentData;return w!=null&&w.brands&&Array.isArray(w.brands)?w.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function La(){return!/^((?!chrome|android).)*safari/i.test(Fa())}function Cr(w,f,_){f===void 0&&(f=!1),_===void 0&&(_=!1);var T=w.getBoundingClientRect(),j=1,U=1;f&&Ri(w)&&(j=w.offsetWidth>0&&ht(T.width)/w.offsetWidth||1,U=w.offsetHeight>0&&ht(T.height)/w.offsetHeight||1);var Q=(jo(w)?ci(w):window).visualViewport,te=!La()&&_,ae=(T.left+(te&&Q?Q.offsetLeft:0))/j,_e=(T.top+(te&&Q?Q.offsetTop:0))/U,ve=T.width/j,pe=T.height/U;return{width:ve,height:pe,top:_e,right:ae+ve,bottom:_e+pe,left:ae,x:ae,y:_e}}function ip(w){var f=Cr(w),_=w.offsetWidth,T=w.offsetHeight;return Math.abs(f.width-_)<=1&&(_=f.width),Math.abs(f.height-T)<=1&&(T=f.height),{x:w.offsetLeft,y:w.offsetTop,width:_,height:T}}function rp(w,f){var _=f.getRootNode&&f.getRootNode();if(w.contains(f))return!0;if(_&&eo(_)){var T=f;do{if(T&&w.isSameNode(T))return!0;T=T.parentNode||T.host}while(T)}return!1}function to(w){return ci(w).getComputedStyle(w)}function jC(w){return["table","td","th"].indexOf(Er(w))>=0}function Bo(w){return((jo(w)?w.ownerDocument:w.document)||window.document).documentElement}function pd(w){return Er(w)==="html"?w:w.assignedSlot||w.parentNode||(eo(w)?w.host:null)||Bo(w)}function Va(w){return Ri(w)&&to(w).position!=="fixed"?w.offsetParent:null}function ki(w){for(var f=ci(w),_=Va(w);_&&jC(_)&&to(_).position==="static";)_=Va(_);return _&&(Er(_)==="html"||Er(_)==="body"&&to(_).position==="static")?f:_||(function(T){var j=/firefox/i.test(Fa());if(/Trident/i.test(Fa())&&Ri(T)&&to(T).position==="fixed")return null;var U=pd(T);for(eo(U)&&(U=U.host);Ri(U)&&["html","body"].indexOf(Er(U))<0;){var Q=to(U);if(Q.transform!=="none"||Q.perspective!=="none"||Q.contain==="paint"||["transform","perspective"].indexOf(Q.willChange)!==-1||j&&Q.willChange==="filter"||j&&Q.filter&&Q.filter!=="none")return U;U=U.parentNode}return null})(w)||f}function gd(w){return["top","bottom"].indexOf(w)>=0?"x":"y"}function ja(w,f,_){return wr(w,pl(f,_))}function op(w){return Object.assign({},{top:0,right:0,bottom:0,left:0},w)}function $s(w,f){return f.reduce(function(_,T){return _[T]=w,_},{})}let B_={name:"arrow",enabled:!0,phase:"main",fn:function(w){var f,_=w.state,T=w.name,j=w.options,U=_.elements.arrow,Q=_.modifiersData.popperOffsets,te=bi(_.placement),ae=gd(te),_e=[Gn,ai].indexOf(te)>=0?"height":"width";if(U&&Q){var ve=(function(Rt,xt){return op(typeof(Rt=typeof Rt=="function"?Rt(Object.assign({},xt.rects,{placement:xt.placement})):Rt)!="number"?Rt:$s(Rt,Lo))})(j.padding,_),pe=ip(U),We=ae==="y"?Dn:Gn,Me=ae==="y"?dn:ai,Ue=_.rects.reference[_e]+_.rects.reference[ae]-Q[ae]-_.rects.popper[_e],Fe=Q[ae]-_.rects.reference[ae],$e=ki(U),Pt=$e?ae==="y"?$e.clientHeight||0:$e.clientWidth||0:0,Ut=Ue/2-Fe/2,Je=ve[We],gt=Pt-pe[_e]-ve[Me],Ke=Pt/2-pe[_e]/2+Ut,st=ja(Je,Ke,gt),It=ae;_.modifiersData[T]=((f={})[It]=st,f.centerOffset=st-Ke,f)}},effect:function(w){var f=w.state,_=w.options.element,T=_===void 0?"[data-popper-arrow]":_;T!=null&&(typeof T!="string"||(T=f.elements.popper.querySelector(T)))&&rp(f.elements.popper,T)&&(f.elements.arrow=T)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ba(w){return w.split("-")[1]}var BC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function no(w){var f,_=w.popper,T=w.popperRect,j=w.placement,U=w.variation,Q=w.offsets,te=w.position,ae=w.gpuAcceleration,_e=w.adaptive,ve=w.roundOffsets,pe=w.isFixed,We=Q.x,Me=We===void 0?0:We,Ue=Q.y,Fe=Ue===void 0?0:Ue,$e=typeof ve=="function"?ve({x:Me,y:Fe}):{x:Me,y:Fe};Me=$e.x,Fe=$e.y;var Pt=Q.hasOwnProperty("x"),Ut=Q.hasOwnProperty("y"),Je=Gn,gt=Dn,Ke=window;if(_e){var st=ki(_),It="clientHeight",Rt="clientWidth";st===ci(_)&&to(st=Bo(_)).position!=="static"&&te==="absolute"&&(It="scrollHeight",Rt="scrollWidth"),(j===Dn||(j===Gn||j===ai)&&U===js)&&(gt=dn,Fe-=(pe&&st===Ke&&Ke.visualViewport?Ke.visualViewport.height:st[It])-T.height,Fe*=ae?1:-1),j!==Gn&&(j!==Dn&&j!==dn||U!==js)||(Je=ai,Me-=(pe&&st===Ke&&Ke.visualViewport?Ke.visualViewport.width:st[Rt])-T.width,Me*=ae?1:-1)}var xt,vn=Object.assign({position:te},_e&&BC),or=ve===!0?(function(ro,Ei){var Tr=ro.x,Sr=ro.y,hn=Ei.devicePixelRatio||1;return{x:ht(Tr*hn)/hn||0,y:ht(Sr*hn)/hn||0}})({x:Me,y:Fe},ci(_)):{x:Me,y:Fe};return Me=or.x,Fe=or.y,ae?Object.assign({},vn,((xt={})[gt]=Ut?"0":"",xt[Je]=Pt?"0":"",xt.transform=(Ke.devicePixelRatio||1)<=1?"translate("+Me+"px, "+Fe+"px)":"translate3d("+Me+"px, "+Fe+"px, 0)",xt)):Object.assign({},vn,((f={})[gt]=Ut?Fe+"px":"",f[Je]=Pt?Me+"px":"",f.transform="",f))}let sp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(w){var f=w.state,_=w.options,T=_.gpuAcceleration,j=T===void 0||T,U=_.adaptive,Q=U===void 0||U,te=_.roundOffsets,ae=te===void 0||te,_e={placement:bi(f.placement),variation:Ba(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:j,isFixed:f.options.strategy==="fixed"};f.modifiersData.popperOffsets!=null&&(f.styles.popper=Object.assign({},f.styles.popper,no(Object.assign({},_e,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:Q,roundOffsets:ae})))),f.modifiersData.arrow!=null&&(f.styles.arrow=Object.assign({},f.styles.arrow,no(Object.assign({},_e,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ae})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}};var md={passive:!0};let zs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(w){var f=w.state,_=w.instance,T=w.options,j=T.scroll,U=j===void 0||j,Q=T.resize,te=Q===void 0||Q,ae=ci(f.elements.popper),_e=[].concat(f.scrollParents.reference,f.scrollParents.popper);return U&&_e.forEach(function(ve){ve.addEventListener("scroll",_.update,md)}),te&&ae.addEventListener("resize",_.update,md),function(){U&&_e.forEach(function(ve){ve.removeEventListener("scroll",_.update,md)}),te&&ae.removeEventListener("resize",_.update,md)}},data:{}};var _d={left:"right",right:"left",bottom:"top",top:"bottom"};function gl(w){return w.replace(/left|right|bottom|top/g,function(f){return _d[f]})}var ml={start:"end",end:"start"};function Ua(w){return w.replace(/start|end/g,function(f){return ml[f]})}function vd(w){var f=ci(w);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function _l(w){return Cr(Bo(w)).left+vd(w).scrollLeft}function Bt(w){var f=to(w),_=f.overflow,T=f.overflowX,j=f.overflowY;return/auto|scroll|overlay|hidden/.test(_+j+T)}function U_(w){return["html","body","#document"].indexOf(Er(w))>=0?w.ownerDocument.body:Ri(w)&&Bt(w)?w:U_(pd(w))}function vl(w,f){var _;f===void 0&&(f=[]);var T=U_(w),j=T===((_=w.ownerDocument)==null?void 0:_.body),U=ci(T),Q=j?[U].concat(U.visualViewport||[],Bt(T)?T:[]):T,te=f.concat(Q);return j?te:te.concat(vl(pd(Q)))}function yd(w){return Object.assign({},w,{left:w.x,top:w.y,right:w.x+w.width,bottom:w.y+w.height})}function ap(w,f,_){return f===Na?yd((function(T,j){var U=ci(T),Q=Bo(T),te=U.visualViewport,ae=Q.clientWidth,_e=Q.clientHeight,ve=0,pe=0;if(te){ae=te.width,_e=te.height;var We=La();(We||!We&&j==="fixed")&&(ve=te.offsetLeft,pe=te.offsetTop)}return{width:ae,height:_e,x:ve+_l(T),y:pe}})(w,_)):jo(f)?(function(T,j){var U=Cr(T,!1,j==="fixed");return U.top=U.top+T.clientTop,U.left=U.left+T.clientLeft,U.bottom=U.top+T.clientHeight,U.right=U.left+T.clientWidth,U.width=T.clientWidth,U.height=T.clientHeight,U.x=U.left,U.y=U.top,U})(f,_):yd((function(T){var j,U=Bo(T),Q=vd(T),te=(j=T.ownerDocument)==null?void 0:j.body,ae=wr(U.scrollWidth,U.clientWidth,te?te.scrollWidth:0,te?te.clientWidth:0),_e=wr(U.scrollHeight,U.clientHeight,te?te.scrollHeight:0,te?te.clientHeight:0),ve=-Q.scrollLeft+_l(T),pe=-Q.scrollTop;return to(te||U).direction==="rtl"&&(ve+=wr(U.clientWidth,te?te.clientWidth:0)-ae),{width:ae,height:_e,x:ve,y:pe}})(Bo(w)))}function cp(w){var f,_=w.reference,T=w.element,j=w.placement,U=j?bi(j):null,Q=j?Ba(j):null,te=_.x+_.width/2-T.width/2,ae=_.y+_.height/2-T.height/2;switch(U){case Dn:f={x:te,y:_.y-T.height};break;case dn:f={x:te,y:_.y+_.height};break;case ai:f={x:_.x+_.width,y:ae};break;case Gn:f={x:_.x-T.width,y:ae};break;default:f={x:_.x,y:_.y}}var _e=U?gd(U):null;if(_e!=null){var ve=_e==="y"?"height":"width";switch(Q){case Vo:f[_e]=f[_e]-(_[ve]/2-T[ve]/2);break;case js:f[_e]=f[_e]+(_[ve]/2-T[ve]/2)}}return f}function io(w,f){f===void 0&&(f={});var _=f,T=_.placement,j=T===void 0?w.placement:T,U=_.strategy,Q=U===void 0?w.strategy:U,te=_.boundary,ae=te===void 0?L_:te,_e=_.rootBoundary,ve=_e===void 0?Na:_e,pe=_.elementContext,We=pe===void 0?Bs:pe,Me=_.altBoundary,Ue=Me!==void 0&&Me,Fe=_.padding,$e=Fe===void 0?0:Fe,Pt=op(typeof $e!="number"?$e:$s($e,Lo)),Ut=We===Bs?ud:Bs,Je=w.rects.popper,gt=w.elements[Ue?Ut:We],Ke=(function(Ei,Tr,Sr,hn){var zo=Tr==="clippingParents"?(function(Lt){var wi=vl(pd(Lt)),Ar=["absolute","fixed"].indexOf(to(Lt).position)>=0&&Ri(Lt)?ki(Lt):Lt;return jo(Ar)?wi.filter(function(Ha){return jo(Ha)&&rp(Ha,Ar)&&Er(Ha)!=="body"}):[]})(Ei):[].concat(Tr),Ho=[].concat(zo,[Sr]),xd=Ho[0],Kn=Ho.reduce(function(Lt,wi){var Ar=ap(Ei,wi,hn);return Lt.top=wr(Ar.top,Lt.top),Lt.right=pl(Ar.right,Lt.right),Lt.bottom=pl(Ar.bottom,Lt.bottom),Lt.left=wr(Ar.left,Lt.left),Lt},ap(Ei,xd,hn));return Kn.width=Kn.right-Kn.left,Kn.height=Kn.bottom-Kn.top,Kn.x=Kn.left,Kn.y=Kn.top,Kn})(jo(gt)?gt:gt.contextElement||Bo(w.elements.popper),ae,ve,Q),st=Cr(w.elements.reference),It=cp({reference:st,element:Je,placement:j}),Rt=yd(Object.assign({},Je,It)),xt=We===Bs?Rt:st,vn={top:Ke.top-xt.top+Pt.top,bottom:xt.bottom-Ke.bottom+Pt.bottom,left:Ke.left-xt.left+Pt.left,right:xt.right-Ke.right+Pt.right},or=w.modifiersData.offset;if(We===Bs&&or){var ro=or[j];Object.keys(vn).forEach(function(Ei){var Tr=[ai,dn].indexOf(Ei)>=0?1:-1,Sr=[Dn,dn].indexOf(Ei)>=0?"y":"x";vn[Ei]+=ro[Sr]*Tr})}return vn}function $_(w,f){f===void 0&&(f={});var _=f,T=_.placement,j=_.boundary,U=_.rootBoundary,Q=_.padding,te=_.flipVariations,ae=_.allowedAutoPlacements,_e=ae===void 0?Zr:ae,ve=Ba(T),pe=ve?te?Us:Us.filter(function(Ue){return Ba(Ue)===ve}):Lo,We=pe.filter(function(Ue){return _e.indexOf(Ue)>=0});We.length===0&&(We=pe);var Me=We.reduce(function(Ue,Fe){return Ue[Fe]=io(w,{placement:Fe,boundary:j,rootBoundary:U,padding:Q})[bi(Fe)],Ue},{});return Object.keys(Me).sort(function(Ue,Fe){return Me[Ue]-Me[Fe]})}let Ir={name:"flip",enabled:!0,phase:"main",fn:function(w){var f=w.state,_=w.options,T=w.name;if(!f.modifiersData[T]._skip){for(var j=_.mainAxis,U=j===void 0||j,Q=_.altAxis,te=Q===void 0||Q,ae=_.fallbackPlacements,_e=_.padding,ve=_.boundary,pe=_.rootBoundary,We=_.altBoundary,Me=_.flipVariations,Ue=Me===void 0||Me,Fe=_.allowedAutoPlacements,$e=f.options.placement,Pt=bi($e),Ut=ae||(Pt!==$e&&Ue?(function(Lt){if(bi(Lt)===Oa)return[];var wi=gl(Lt);return[Ua(Lt),wi,Ua(wi)]})($e):[gl($e)]),Je=[$e].concat(Ut).reduce(function(Lt,wi){return Lt.concat(bi(wi)===Oa?$_(f,{placement:wi,boundary:ve,rootBoundary:pe,padding:_e,flipVariations:Ue,allowedAutoPlacements:Fe}):wi)},[]),gt=f.rects.reference,Ke=f.rects.popper,st=new Map,It=!0,Rt=Je[0],xt=0;xt<Je.length;xt++){var vn=Je[xt],or=bi(vn),ro=Ba(vn)===Vo,Ei=[Dn,dn].indexOf(or)>=0,Tr=Ei?"width":"height",Sr=io(f,{placement:vn,boundary:ve,rootBoundary:pe,altBoundary:We,padding:_e}),hn=Ei?ro?ai:Gn:ro?dn:Dn;gt[Tr]>Ke[Tr]&&(hn=gl(hn));var zo=gl(hn),Ho=[];if(U&&Ho.push(Sr[or]<=0),te&&Ho.push(Sr[hn]<=0,Sr[zo]<=0),Ho.every(function(Lt){return Lt})){Rt=vn,It=!1;break}st.set(vn,Ho)}if(It)for(var xd=function(Lt){var wi=Je.find(function(Ar){var Ha=st.get(Ar);if(Ha)return Ha.slice(0,Lt).every(function(sv){return sv})});if(wi)return Rt=wi,"break"},Kn=Ue?3:1;Kn>0&&xd(Kn)!=="break";Kn--);f.placement!==Rt&&(f.modifiersData[T]._skip=!0,f.placement=Rt,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function lp(w,f,_){return _===void 0&&(_={x:0,y:0}),{top:w.top-f.height-_.y,right:w.right-f.width+_.x,bottom:w.bottom-f.height+_.y,left:w.left-f.width-_.x}}function z_(w){return[Dn,ai,dn,Gn].some(function(f){return w[f]>=0})}let $a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(w){var f=w.state,_=w.name,T=f.rects.reference,j=f.rects.popper,U=f.modifiersData.preventOverflow,Q=io(f,{elementContext:"reference"}),te=io(f,{altBoundary:!0}),ae=lp(Q,T),_e=lp(te,j,U),ve=z_(ae),pe=z_(_e);f.modifiersData[_]={referenceClippingOffsets:ae,popperEscapeOffsets:_e,isReferenceHidden:ve,hasPopperEscaped:pe},f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-reference-hidden":ve,"data-popper-escaped":pe})}},up={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(w){var f=w.state,_=w.options,T=w.name,j=_.offset,U=j===void 0?[0,0]:j,Q=Zr.reduce(function(ve,pe){return ve[pe]=(function(We,Me,Ue){var Fe=bi(We),$e=[Gn,Dn].indexOf(Fe)>=0?-1:1,Pt=typeof Ue=="function"?Ue(Object.assign({},Me,{placement:We})):Ue,Ut=Pt[0],Je=Pt[1];return Ut=Ut||0,Je=(Je||0)*$e,[Gn,ai].indexOf(Fe)>=0?{x:Je,y:Ut}:{x:Ut,y:Je}})(pe,f.rects,U),ve},{}),te=Q[f.placement],ae=te.x,_e=te.y;f.modifiersData.popperOffsets!=null&&(f.modifiersData.popperOffsets.x+=ae,f.modifiersData.popperOffsets.y+=_e),f.modifiersData[T]=Q}},yl={name:"popperOffsets",enabled:!0,phase:"read",fn:function(w){var f=w.state,_=w.name;f.modifiersData[_]=cp({reference:f.rects.reference,element:f.rects.popper,placement:f.placement})},data:{}},bl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(w){var f=w.state,_=w.options,T=w.name,j=_.mainAxis,U=j===void 0||j,Q=_.altAxis,te=Q!==void 0&&Q,ae=_.boundary,_e=_.rootBoundary,ve=_.altBoundary,pe=_.padding,We=_.tether,Me=We===void 0||We,Ue=_.tetherOffset,Fe=Ue===void 0?0:Ue,$e=io(f,{boundary:ae,rootBoundary:_e,padding:pe,altBoundary:ve}),Pt=bi(f.placement),Ut=Ba(f.placement),Je=!Ut,gt=gd(Pt),Ke=gt==="x"?"y":"x",st=f.modifiersData.popperOffsets,It=f.rects.reference,Rt=f.rects.popper,xt=typeof Fe=="function"?Fe(Object.assign({},f.rects,{placement:f.placement})):Fe,vn=typeof xt=="number"?{mainAxis:xt,altAxis:xt}:Object.assign({mainAxis:0,altAxis:0},xt),or=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,ro={x:0,y:0};if(st){if(U){var Ei,Tr=gt==="y"?Dn:Gn,Sr=gt==="y"?dn:ai,hn=gt==="y"?"height":"width",zo=st[gt],Ho=zo+$e[Tr],xd=zo-$e[Sr],Kn=Me?-Rt[hn]/2:0,Lt=Ut===Vo?It[hn]:Rt[hn],wi=Ut===Vo?-Rt[hn]:-It[hn],Ar=f.elements.arrow,Ha=Me&&Ar?ip(Ar):{width:0,height:0},sv=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Fk=sv[Tr],Lk=sv[Sr],av=ja(0,It[hn],Ha[hn]),P8=Je?It[hn]/2-Kn-av-Fk-vn.mainAxis:Lt-av-Fk-vn.mainAxis,R8=Je?-It[hn]/2+Kn+av+Lk+vn.mainAxis:wi+av+Lk+vn.mainAxis,JC=f.elements.arrow&&ki(f.elements.arrow),k8=JC?gt==="y"?JC.clientTop||0:JC.clientLeft||0:0,Vk=(Ei=or?.[gt])!=null?Ei:0,O8=zo+R8-Vk,jk=ja(Me?pl(Ho,zo+P8-Vk-k8):Ho,zo,Me?wr(xd,O8):xd);st[gt]=jk,ro[gt]=jk-zo}if(te){var Bk,N8=gt==="x"?Dn:Gn,F8=gt==="x"?dn:ai,Sl=st[Ke],cv=Ke==="y"?"height":"width",Uk=Sl+$e[N8],$k=Sl-$e[F8],ZC=[Dn,Gn].indexOf(Pt)!==-1,zk=(Bk=or?.[Ke])!=null?Bk:0,Hk=ZC?Uk:Sl-It[cv]-Rt[cv]-zk+vn.altAxis,qk=ZC?Sl+It[cv]+Rt[cv]-zk-vn.altAxis:$k,Wk=Me&&ZC?(function(L8,V8,eI){var Gk=ja(L8,V8,eI);return Gk>eI?eI:Gk})(Hk,Sl,qk):ja(Me?Hk:Uk,Sl,Me?qk:$k);st[Ke]=Wk,ro[Ke]=Wk-Sl}f.modifiersData[T]=ro}},requiresIfExists:["offset"]};function H_(w,f,_){_===void 0&&(_=!1);var T,j,U=Ri(f),Q=Ri(f)&&(function(pe){var We=pe.getBoundingClientRect(),Me=ht(We.width)/pe.offsetWidth||1,Ue=ht(We.height)/pe.offsetHeight||1;return Me!==1||Ue!==1})(f),te=Bo(f),ae=Cr(w,Q,_),_e={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(U||!U&&!_)&&((Er(f)!=="body"||Bt(te))&&(_e=(T=f)!==ci(T)&&Ri(T)?{scrollLeft:(j=T).scrollLeft,scrollTop:j.scrollTop}:vd(T)),Ri(f)?((ve=Cr(f,!0)).x+=f.clientLeft,ve.y+=f.clientTop):te&&(ve.x=_l(te))),{x:ae.left+_e.scrollLeft-ve.x,y:ae.top+_e.scrollTop-ve.y,width:ae.width,height:ae.height}}function bd(w){var f=new Map,_=new Set,T=[];function j(U){_.add(U.name),[].concat(U.requires||[],U.requiresIfExists||[]).forEach(function(Q){if(!_.has(Q)){var te=f.get(Q);te&&j(te)}}),T.push(U)}return w.forEach(function(U){f.set(U.name,U)}),w.forEach(function(U){_.has(U.name)||j(U)}),T}var q_={placement:"bottom",modifiers:[],strategy:"absolute"};function dp(){for(var w=arguments.length,f=new Array(w),_=0;_<w;_++)f[_]=arguments[_];return!f.some(function(T){return!(T&&typeof T.getBoundingClientRect=="function")})}function Uo(w){w===void 0&&(w={});var f=w,_=f.defaultModifiers,T=_===void 0?[]:_,j=f.defaultOptions,U=j===void 0?q_:j;return function(Q,te,ae){ae===void 0&&(ae=U);var _e,ve,pe={placement:"bottom",orderedModifiers:[],options:Object.assign({},q_,U),modifiersData:{},elements:{reference:Q,popper:te},attributes:{},styles:{}},We=[],Me=!1,Ue={state:pe,setOptions:function($e){var Pt=typeof $e=="function"?$e(pe.options):$e;Fe(),pe.options=Object.assign({},U,pe.options,Pt),pe.scrollParents={reference:jo(Q)?vl(Q):Q.contextElement?vl(Q.contextElement):[],popper:vl(te)};var Ut,Je,gt=(function(Ke){var st=bd(Ke);return j_.reduce(function(It,Rt){return It.concat(st.filter(function(xt){return xt.phase===Rt}))},[])})((Ut=[].concat(T,pe.options.modifiers),Je=Ut.reduce(function(Ke,st){var It=Ke[st.name];return Ke[st.name]=It?Object.assign({},It,st,{options:Object.assign({},It.options,st.options),data:Object.assign({},It.data,st.data)}):st,Ke},{}),Object.keys(Je).map(function(Ke){return Je[Ke]})));return pe.orderedModifiers=gt.filter(function(Ke){return Ke.enabled}),pe.orderedModifiers.forEach(function(Ke){var st=Ke.name,It=Ke.options,Rt=It===void 0?{}:It,xt=Ke.effect;if(typeof xt=="function"){var vn=xt({state:pe,name:st,instance:Ue,options:Rt});We.push(vn||function(){})}}),Ue.update()},forceUpdate:function(){if(!Me){var $e=pe.elements,Pt=$e.reference,Ut=$e.popper;if(dp(Pt,Ut)){pe.rects={reference:H_(Pt,ki(Ut),pe.options.strategy==="fixed"),popper:ip(Ut)},pe.reset=!1,pe.placement=pe.options.placement,pe.orderedModifiers.forEach(function(xt){return pe.modifiersData[xt.name]=Object.assign({},xt.data)});for(var Je=0;Je<pe.orderedModifiers.length;Je++)if(pe.reset!==!0){var gt=pe.orderedModifiers[Je],Ke=gt.fn,st=gt.options,It=st===void 0?{}:st,Rt=gt.name;typeof Ke=="function"&&(pe=Ke({state:pe,options:It,name:Rt,instance:Ue})||pe)}else pe.reset=!1,Je=-1}}},update:(_e=function(){return new Promise(function($e){Ue.forceUpdate(),$e(pe)})},function(){return ve||(ve=new Promise(function($e){Promise.resolve().then(function(){ve=void 0,$e(_e())})})),ve}),destroy:function(){Fe(),Me=!0}};if(!dp(Q,te))return Ue;function Fe(){We.forEach(function($e){return $e()}),We=[]}return Ue.setOptions(ae).then(function($e){!Me&&ae.onFirstUpdate&&ae.onFirstUpdate($e)}),Ue}}var W_=Uo(),G_=Uo({defaultModifiers:[zs,yl,sp,rr]}),El=Uo({defaultModifiers:[zs,yl,sp,rr,up,Ir,bl,B_,$a]});let Ed=Object.freeze(Object.defineProperty({__proto__:null,afterMain:hd,afterRead:Jf,afterWrite:np,applyStyles:rr,arrow:B_,auto:Oa,basePlacements:Lo,beforeMain:Zf,beforeRead:dd,beforeWrite:fd,bottom:dn,clippingParents:L_,computeStyles:sp,createPopper:El,createPopperBase:W_,createPopperLite:G_,detectOverflow:io,end:js,eventListeners:zs,flip:Ir,hide:$a,left:Gn,main:ep,modifierPhases:j_,offset:up,placements:Zr,popper:Bs,popperGenerator:Uo,popperOffsets:yl,preventOverflow:bl,read:V_,reference:ud,right:ai,start:Vo,top:Dn,variationPlacements:Us,viewport:Na,write:tp},Symbol.toStringTag,{value:"Module"})),hp="dropdown",xr=".bs.dropdown",wd=".data-api",K_="ArrowUp",$o="ArrowDown",Y_=`hide${xr}`,Q_=`hidden${xr}`,X_=`show${xr}`,J_=`shown${xr}`,wl=`click${xr}${wd}`,li=`keydown${xr}${wd}`,Z_=`keyup${xr}${wd}`,Hs="show",Oi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',d=`${Oi}.${Hs}`,m=".dropdown-menu",v=E()?"top-end":"top-start",D=E()?"top-start":"top-end",$=E()?"bottom-end":"bottom-start",K=E()?"bottom-start":"bottom-end",se=E()?"left-start":"right-start",Ct=E()?"right-start":"left-start",Nn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},at={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Mt extends rn{constructor(f,_){super(f,_),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,m)[0]||we.prev(this._element,m)[0]||we.findOne(m,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Nn}static get DefaultType(){return at}static get NAME(){return hp}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;let f={relatedTarget:this._element};if(!J.trigger(this._element,X_,f).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let _ of[].concat(...document.body.children))J.on(_,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hs),this._element.classList.add(Hs),J.trigger(this._element,J_,f)}}hide(){if(l(this._element)||!this._isShown())return;let f={relatedTarget:this._element};this._completeHide(f)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(f){if(!J.trigger(this._element,Y_,f).defaultPrevented){if("ontouchstart"in document.documentElement)for(let _ of[].concat(...document.body.children))J.off(_,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hs),this._element.classList.remove(Hs),this._element.setAttribute("aria-expanded","false"),dt.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,Q_,f)}}_getConfig(f){if(typeof(f=super._getConfig(f)).reference=="object"&&!s(f.reference)&&typeof f.reference.getBoundingClientRect!="function")throw new TypeError(`${hp.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return f}_createPopper(){if(Ed===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let f=this._element;this._config.reference==="parent"?f=this._parent:s(this._config.reference)?f=a(this._config.reference):typeof this._config.reference=="object"&&(f=this._config.reference);let _=this._getPopperConfig();this._popper=El(f,this._menu,_)}_isShown(){return this._menu.classList.contains(Hs)}_getPlacement(){let f=this._parent;if(f.classList.contains("dropend"))return se;if(f.classList.contains("dropstart"))return Ct;if(f.classList.contains("dropup-center"))return"top";if(f.classList.contains("dropdown-center"))return"bottom";let _=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return f.classList.contains("dropup")?_?D:v:_?K:$}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){let{offset:f}=this._config;return typeof f=="string"?f.split(",").map(_=>Number.parseInt(_,10)):typeof f=="function"?_=>f(_,this._element):f}_getPopperConfig(){let f={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(dt.setDataAttribute(this._menu,"popper","static"),f.modifiers=[{name:"applyStyles",enabled:!1}]),Y(Y({},f),M(this._config.popperConfig,[void 0,f]))}_selectMenuItem({key:f,target:_}){let T=we.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(j=>c(j));T.length&&B(T,_,f===$o,!T.includes(_)).focus()}static jQueryInterface(f){return this.each(function(){let _=Mt.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}static clearMenus(f){if(f.button===2||f.type==="keyup"&&f.key!=="Tab")return;let _=we.find(d);for(let T of _){let j=Mt.getInstance(T);if(!j||j._config.autoClose===!1)continue;let U=f.composedPath(),Q=U.includes(j._menu);if(U.includes(j._element)||j._config.autoClose==="inside"&&!Q||j._config.autoClose==="outside"&&Q||j._menu.contains(f.target)&&(f.type==="keyup"&&f.key==="Tab"||/input|select|option|textarea|form/i.test(f.target.tagName)))continue;let te={relatedTarget:j._element};f.type==="click"&&(te.clickEvent=f),j._completeHide(te)}}static dataApiKeydownHandler(f){let _=/input|textarea/i.test(f.target.tagName),T=f.key==="Escape",j=[K_,$o].includes(f.key);if(!j&&!T||_&&!T)return;f.preventDefault();let U=this.matches(Oi)?this:we.prev(this,Oi)[0]||we.next(this,Oi)[0]||we.findOne(Oi,f.delegateTarget.parentNode),Q=Mt.getOrCreateInstance(U);if(j)return f.stopPropagation(),Q.show(),void Q._selectMenuItem(f);Q._isShown()&&(f.stopPropagation(),Q.hide(),U.focus())}}J.on(document,li,Oi,Mt.dataApiKeydownHandler),J.on(document,li,m,Mt.dataApiKeydownHandler),J.on(document,wl,Mt.clearMenus),J.on(document,Z_,Mt.clearMenus),J.on(document,wl,Oi,function(w){w.preventDefault(),Mt.getOrCreateInstance(this).toggle()}),b(Mt);let Fn="backdrop",qs="show",Ni=`mousedown.bs.${Fn}`,Cd={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},fp={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ak extends yi{constructor(f){super(),this._config=this._getConfig(f),this._isAppended=!1,this._element=null}static get Default(){return Cd}static get DefaultType(){return fp}static get NAME(){return Fn}show(f){if(!this._config.isVisible)return void M(f);this._append();let _=this._getElement();this._config.isAnimated&&p(_),_.classList.add(qs),this._emulateAnimation(()=>{M(f)})}hide(f){this._config.isVisible?(this._getElement().classList.remove(qs),this._emulateAnimation(()=>{this.dispose(),M(f)})):M(f)}dispose(){this._isAppended&&(J.off(this._element,Ni),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let f=document.createElement("div");f.className=this._config.className,this._config.isAnimated&&f.classList.add("fade"),this._element=f}return this._element}_configAfterMerge(f){return f.rootElement=a(f.rootElement),f}_append(){if(this._isAppended)return;let f=this._getElement();this._config.rootElement.append(f),J.on(f,Ni,()=>{M(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(f){O(f,this._getElement(),this._config.isAnimated)}}let ev=".bs.focustrap",EH=`focusin${ev}`,wH=`keydown.tab${ev}`,ck="backward",CH={autofocus:!0,trapElement:null},IH={autofocus:"boolean",trapElement:"element"};class lk extends yi{constructor(f){super(),this._config=this._getConfig(f),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return CH}static get DefaultType(){return IH}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,ev),J.on(document,EH,f=>this._handleFocusin(f)),J.on(document,wH,f=>this._handleKeydown(f)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,J.off(document,ev))}_handleFocusin(f){let{trapElement:_}=this._config;if(f.target===document||f.target===_||_.contains(f.target))return;let T=we.focusableChildren(_);T.length===0?_.focus():this._lastTabNavDirection===ck?T[T.length-1].focus():T[0].focus()}_handleKeydown(f){f.key==="Tab"&&(this._lastTabNavDirection=f.shiftKey?ck:"forward")}}let uk=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dk=".sticky-top",tv="padding-right",hk="margin-right";class UC{constructor(){this._element=document.body}getWidth(){let f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){let f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,tv,_=>_+f),this._setElementAttributes(uk,tv,_=>_+f),this._setElementAttributes(dk,hk,_=>_-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,tv),this._resetElementAttributes(uk,tv),this._resetElementAttributes(dk,hk)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,_,T){let j=this.getWidth();this._applyManipulationCallback(f,U=>{if(U!==this._element&&window.innerWidth>U.clientWidth+j)return;this._saveInitialAttribute(U,_);let Q=window.getComputedStyle(U).getPropertyValue(_);U.style.setProperty(_,`${T(Number.parseFloat(Q))}px`)})}_saveInitialAttribute(f,_){let T=f.style.getPropertyValue(_);T&&dt.setDataAttribute(f,_,T)}_resetElementAttributes(f,_){this._applyManipulationCallback(f,T=>{let j=dt.getDataAttribute(T,_);j!==null?(dt.removeDataAttribute(T,_),T.style.setProperty(_,j)):T.style.removeProperty(_)})}_applyManipulationCallback(f,_){if(s(f))_(f);else for(let T of we.find(f,this._element))_(T)}}let Dr=".bs.modal",xH=`hide${Dr}`,DH=`hidePrevented${Dr}`,fk=`hidden${Dr}`,pk=`show${Dr}`,TH=`shown${Dr}`,SH=`resize${Dr}`,AH=`click.dismiss${Dr}`,MH=`mousedown.dismiss${Dr}`,PH=`keydown.dismiss${Dr}`,RH=`click${Dr}.data-api`,gk="modal-open",mk="show",$C="modal-static",kH={backdrop:!0,focus:!0,keyboard:!0},OH={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Cl extends rn{constructor(f,_){super(f,_),this._dialog=we.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new UC,this._addEventListeners()}static get Default(){return kH}static get DefaultType(){return OH}static get NAME(){return"modal"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||this._isTransitioning||J.trigger(this._element,pk,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(gk),this._adjustDialog(),this._backdrop.show(()=>this._showElement(f)))}hide(){this._isShown&&!this._isTransitioning&&(J.trigger(this._element,xH).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mk),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){J.off(window,Dr),J.off(this._dialog,Dr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ak({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new lk({trapElement:this._element})}_showElement(f){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let _=we.findOne(".modal-body",this._dialog);_&&(_.scrollTop=0),p(this._element),this._element.classList.add(mk),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,TH,{relatedTarget:f})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,PH,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),J.on(window,SH,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,MH,f=>{J.one(this._element,AH,_=>{this._element===f.target&&this._element===_.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(gk),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,fk)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,DH).defaultPrevented)return;let f=this._element.scrollHeight>document.documentElement.clientHeight,_=this._element.style.overflowY;_==="hidden"||this._element.classList.contains($C)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add($C),this._queueCallback(()=>{this._element.classList.remove($C),this._queueCallback(()=>{this._element.style.overflowY=_},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let f=this._element.scrollHeight>document.documentElement.clientHeight,_=this._scrollBar.getWidth(),T=_>0;if(T&&!f){let j=E()?"paddingLeft":"paddingRight";this._element.style[j]=`${_}px`}if(!T&&f){let j=E()?"paddingRight":"paddingLeft";this._element.style[j]=`${_}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(f,_){return this.each(function(){let T=Cl.getOrCreateInstance(this,f);if(typeof f=="string"){if(T[f]===void 0)throw new TypeError(`No method named "${f}"`);T[f](_)}})}}J.on(document,RH,'[data-bs-toggle="modal"]',function(w){let f=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&w.preventDefault(),J.one(f,pk,T=>{T.defaultPrevented||J.one(f,fk,()=>{c(this)&&this.focus()})});let _=we.findOne(".modal.show");_&&Cl.getInstance(_).hide(),Cl.getOrCreateInstance(f).toggle(this)}),td(Cl),b(Cl);let Ws=".bs.offcanvas",_k=".data-api",NH=`load${Ws}${_k}`,vk="show",yk="showing",bk="hiding",Ek=".offcanvas.show",FH=`show${Ws}`,LH=`shown${Ws}`,VH=`hide${Ws}`,wk=`hidePrevented${Ws}`,Ck=`hidden${Ws}`,jH=`resize${Ws}`,BH=`click${Ws}${_k}`,UH=`keydown.dismiss${Ws}`,$H={backdrop:!0,keyboard:!0,scroll:!1},zH={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Gs extends rn{constructor(f,_){super(f,_),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $H}static get DefaultType(){return zH}static get NAME(){return"offcanvas"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||J.trigger(this._element,FH,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new UC().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yk),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(vk),this._element.classList.remove(yk),J.trigger(this._element,LH,{relatedTarget:f})},this._element,!0))}hide(){this._isShown&&(J.trigger(this._element,VH).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(bk),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(vk,bk),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new UC().reset(),J.trigger(this._element,Ck)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let f=!!this._config.backdrop;return new ak({className:"offcanvas-backdrop",isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?()=>{this._config.backdrop!=="static"?this.hide():J.trigger(this._element,wk)}:null})}_initializeFocusTrap(){return new lk({trapElement:this._element})}_addEventListeners(){J.on(this._element,UH,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():J.trigger(this._element,wk))})}static jQueryInterface(f){return this.each(function(){let _=Gs.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f](this)}})}}J.on(document,BH,'[data-bs-toggle="offcanvas"]',function(w){let f=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),l(this))return;J.one(f,Ck,()=>{c(this)&&this.focus()});let _=we.findOne(Ek);_&&_!==f&&Gs.getInstance(_).hide(),Gs.getOrCreateInstance(f).toggle(this)}),J.on(window,NH,()=>{for(let w of we.find(Ek))Gs.getOrCreateInstance(w).show()}),J.on(window,jH,()=>{for(let w of we.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(w).position!=="fixed"&&Gs.getOrCreateInstance(w).hide()}),td(Gs),b(Gs);let Ik={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},HH=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,WH=(w,f)=>{let _=w.nodeName.toLowerCase();return f.includes(_)?!HH.has(_)||!!qH.test(w.nodeValue):f.filter(T=>T instanceof RegExp).some(T=>T.test(_))},GH={allowList:Ik,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},KH={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},YH={entry:"(string|element|function|null)",selector:"(string|element)"};class QH extends yi{constructor(f){super(),this._config=this._getConfig(f)}static get Default(){return GH}static get DefaultType(){return KH}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(f=>this._resolvePossibleFunction(f)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(f){return this._checkContent(f),this._config.content=Y(Y({},this._config.content),f),this}toHtml(){let f=document.createElement("div");f.innerHTML=this._maybeSanitize(this._config.template);for(let[j,U]of Object.entries(this._config.content))this._setContent(f,U,j);let _=f.children[0],T=this._resolvePossibleFunction(this._config.extraClass);return T&&_.classList.add(...T.split(" ")),_}_typeCheckConfig(f){super._typeCheckConfig(f),this._checkContent(f.content)}_checkContent(f){for(let[_,T]of Object.entries(f))super._typeCheckConfig({selector:_,entry:T},YH)}_setContent(f,_,T){let j=we.findOne(T,f);j&&((_=this._resolvePossibleFunction(_))?s(_)?this._putElementInTemplate(a(_),j):this._config.html?j.innerHTML=this._maybeSanitize(_):j.textContent=_:j.remove())}_maybeSanitize(f){return this._config.sanitize?(function(_,T,j){if(!_.length)return _;if(j&&typeof j=="function")return j(_);let U=new window.DOMParser().parseFromString(_,"text/html"),Q=[].concat(...U.body.querySelectorAll("*"));for(let te of Q){let ae=te.nodeName.toLowerCase();if(!Object.keys(T).includes(ae)){te.remove();continue}let _e=[].concat(...te.attributes),ve=[].concat(T["*"]||[],T[ae]||[]);for(let pe of _e)WH(pe,ve)||te.removeAttribute(pe.nodeName)}return U.body.innerHTML})(f,this._config.allowList,this._config.sanitizeFn):f}_resolvePossibleFunction(f){return M(f,[void 0,this])}_putElementInTemplate(f,_){if(this._config.html)return _.innerHTML="",void _.append(f);_.textContent=f.textContent}}let XH=new Set(["sanitize","allowList","sanitizeFn"]),zC="fade",nv="show",JH=".tooltip-inner",xk=".modal",Dk="hide.bs.modal",pp="hover",HC="focus",qC="click",ZH={AUTO:"auto",TOP:"top",RIGHT:E()?"left":"right",BOTTOM:"bottom",LEFT:E()?"right":"left"},e8={allowList:Ik,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},t8={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Il extends rn{constructor(f,_){if(Ed===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(f,_),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return e8}static get DefaultType(){return t8}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(xk),Dk,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;let f=J.trigger(this._element,this.constructor.eventName("show")),_=(u(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(f.defaultPrevented||!_)return;this._disposePopper();let T=this._getTipElement();this._element.setAttribute("aria-describedby",T.getAttribute("id"));let{container:j}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(j.append(T),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(T),T.classList.add(nv),"ontouchstart"in document.documentElement)for(let U of[].concat(...document.body.children))J.on(U,"mouseover",h);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(nv),"ontouchstart"in document.documentElement)for(let f of[].concat(...document.body.children))J.off(f,"mouseover",h);this._activeTrigger[qC]=!1,this._activeTrigger[HC]=!1,this._activeTrigger[pp]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(f){let _=this._getTemplateFactory(f).toHtml();if(!_)return null;_.classList.remove(zC,nv),_.classList.add(`bs-${this.constructor.NAME}-auto`);let T=(j=>{do j+=Math.floor(1e6*Math.random());while(document.getElementById(j));return j})(this.constructor.NAME).toString();return _.setAttribute("id",T),this._isAnimated()&&_.classList.add(zC),_}setContent(f){this._newContent=f,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(f){return this._templateFactory?this._templateFactory.changeContent(f):this._templateFactory=new QH(ge(Y({},this._config),{content:f,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[JH]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(f){return this.constructor.getOrCreateInstance(f.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zC)}_isShown(){return this.tip&&this.tip.classList.contains(nv)}_createPopper(f){let _=M(this._config.placement,[this,f,this._element]),T=ZH[_.toUpperCase()];return El(this._element,f,this._getPopperConfig(T))}_getOffset(){let{offset:f}=this._config;return typeof f=="string"?f.split(",").map(_=>Number.parseInt(_,10)):typeof f=="function"?_=>f(_,this._element):f}_resolvePossibleFunction(f){return M(f,[this._element,this._element])}_getPopperConfig(f){let _={placement:f,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:T=>{this._getTipElement().setAttribute("data-popper-placement",T.state.placement)}}]};return Y(Y({},_),M(this._config.popperConfig,[void 0,_]))}_setListeners(){let f=this._config.trigger.split(" ");for(let _ of f)if(_==="click")J.on(this._element,this.constructor.eventName("click"),this._config.selector,T=>{let j=this._initializeOnDelegatedTarget(T);j._activeTrigger[qC]=!(j._isShown()&&j._activeTrigger[qC]),j.toggle()});else if(_!=="manual"){let T=_===pp?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),j=_===pp?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");J.on(this._element,T,this._config.selector,U=>{let Q=this._initializeOnDelegatedTarget(U);Q._activeTrigger[U.type==="focusin"?HC:pp]=!0,Q._enter()}),J.on(this._element,j,this._config.selector,U=>{let Q=this._initializeOnDelegatedTarget(U);Q._activeTrigger[U.type==="focusout"?HC:pp]=Q._element.contains(U.relatedTarget),Q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(xk),Dk,this._hideModalHandler)}_fixTitle(){let f=this._element.getAttribute("title");f&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",f),this._element.setAttribute("data-bs-original-title",f),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(f,_){clearTimeout(this._timeout),this._timeout=setTimeout(f,_)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(f){let _=dt.getDataAttributes(this._element);for(let T of Object.keys(_))XH.has(T)&&delete _[T];return f=Y(Y({},_),typeof f=="object"&&f?f:{}),f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f.container=f.container===!1?document.body:a(f.container),typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),typeof f.title=="number"&&(f.title=f.title.toString()),typeof f.content=="number"&&(f.content=f.content.toString()),f}_getDelegateConfig(){let f={};for(let[_,T]of Object.entries(this._config))this.constructor.Default[_]!==T&&(f[_]=T);return f.selector=!1,f.trigger="manual",f}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(f){return this.each(function(){let _=Il.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}}b(Il);let n8=".popover-header",i8=".popover-body",r8=ge(Y({},Il.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),o8=ge(Y({},Il.DefaultType),{content:"(null|string|element|function)"});class iv extends Il{static get Default(){return r8}static get DefaultType(){return o8}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[n8]:this._getTitle(),[i8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(f){return this.each(function(){let _=iv.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}}b(iv);let WC=".bs.scrollspy",s8=`activate${WC}`,Tk=`click${WC}`,a8=`load${WC}.data-api`,Id="active",GC="[href]",Sk=".nav-link",c8=`${Sk}, .nav-item > ${Sk}, .list-group-item`,l8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},u8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gp extends rn{constructor(f,_){super(f,_),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return l8}static get DefaultType(){return u8}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let f of this._observableSections.values())this._observer.observe(f)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(f){return f.target=a(f.target)||document.body,f.rootMargin=f.offset?`${f.offset}px 0px -30%`:f.rootMargin,typeof f.threshold=="string"&&(f.threshold=f.threshold.split(",").map(_=>Number.parseFloat(_))),f}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(J.off(this._config.target,Tk),J.on(this._config.target,Tk,GC,f=>{let _=this._observableSections.get(f.target.hash);if(_){f.preventDefault();let T=this._rootElement||window,j=_.offsetTop-this._element.offsetTop;if(T.scrollTo)return void T.scrollTo({top:j,behavior:"smooth"});T.scrollTop=j}}))}_getNewObserver(){let f={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(_=>this._observerCallback(_),f)}_observerCallback(f){let _=Q=>this._targetLinks.get(`#${Q.target.id}`),T=Q=>{this._previousScrollData.visibleEntryTop=Q.target.offsetTop,this._process(_(Q))},j=(this._rootElement||document.documentElement).scrollTop,U=j>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=j;for(let Q of f){if(!Q.isIntersecting){this._activeTarget=null,this._clearActiveClass(_(Q));continue}let te=Q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(U&&te){if(T(Q),!j)return}else U||te||T(Q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let f=we.find(GC,this._config.target);for(let _ of f){if(!_.hash||l(_))continue;let T=we.findOne(decodeURI(_.hash),this._element);c(T)&&(this._targetLinks.set(decodeURI(_.hash),_),this._observableSections.set(_.hash,T))}}_process(f){this._activeTarget!==f&&(this._clearActiveClass(this._config.target),this._activeTarget=f,f.classList.add(Id),this._activateParents(f),J.trigger(this._element,s8,{relatedTarget:f}))}_activateParents(f){if(f.classList.contains("dropdown-item"))we.findOne(".dropdown-toggle",f.closest(".dropdown")).classList.add(Id);else for(let _ of we.parents(f,".nav, .list-group"))for(let T of we.prev(_,c8))T.classList.add(Id)}_clearActiveClass(f){f.classList.remove(Id);let _=we.find(`${GC}.${Id}`,f);for(let T of _)T.classList.remove(Id)}static jQueryInterface(f){return this.each(function(){let _=gp.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}})}}J.on(window,a8,()=>{for(let w of we.find('[data-bs-spy="scroll"]'))gp.getOrCreateInstance(w)}),b(gp);let xl=".bs.tab",d8=`hide${xl}`,h8=`hidden${xl}`,f8=`show${xl}`,p8=`shown${xl}`,g8=`click${xl}`,m8=`keydown${xl}`,_8=`load${xl}`,v8="ArrowLeft",Ak="ArrowRight",y8="ArrowUp",Mk="ArrowDown",KC="Home",Pk="End",Dl="active",Rk="fade",YC="show",kk=".dropdown-toggle",QC=`:not(${kk})`,Ok='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',XC=`.nav-link${QC}, .list-group-item${QC}, [role="tab"]${QC}, ${Ok}`,b8=`.${Dl}[data-bs-toggle="tab"], .${Dl}[data-bs-toggle="pill"], .${Dl}[data-bs-toggle="list"]`;class Tl extends rn{constructor(f){super(f),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,m8,_=>this._keydown(_)))}static get NAME(){return"tab"}show(){let f=this._element;if(this._elemIsActive(f))return;let _=this._getActiveElem(),T=_?J.trigger(_,d8,{relatedTarget:f}):null;J.trigger(f,f8,{relatedTarget:_}).defaultPrevented||T&&T.defaultPrevented||(this._deactivate(_,f),this._activate(f,_))}_activate(f,_){f&&(f.classList.add(Dl),this._activate(we.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.removeAttribute("tabindex"),f.setAttribute("aria-selected",!0),this._toggleDropDown(f,!0),J.trigger(f,p8,{relatedTarget:_})):f.classList.add(YC)},f,f.classList.contains(Rk)))}_deactivate(f,_){f&&(f.classList.remove(Dl),f.blur(),this._deactivate(we.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.setAttribute("aria-selected",!1),f.setAttribute("tabindex","-1"),this._toggleDropDown(f,!1),J.trigger(f,h8,{relatedTarget:_})):f.classList.remove(YC)},f,f.classList.contains(Rk)))}_keydown(f){if(![v8,Ak,y8,Mk,KC,Pk].includes(f.key))return;f.stopPropagation(),f.preventDefault();let _=this._getChildren().filter(j=>!l(j)),T;if([KC,Pk].includes(f.key))T=_[f.key===KC?0:_.length-1];else{let j=[Ak,Mk].includes(f.key);T=B(_,f.target,j,!0)}T&&(T.focus({preventScroll:!0}),Tl.getOrCreateInstance(T).show())}_getChildren(){return we.find(XC,this._parent)}_getActiveElem(){return this._getChildren().find(f=>this._elemIsActive(f))||null}_setInitialAttributes(f,_){this._setAttributeIfNotExists(f,"role","tablist");for(let T of _)this._setInitialAttributesOnChild(T)}_setInitialAttributesOnChild(f){f=this._getInnerElement(f);let _=this._elemIsActive(f),T=this._getOuterElement(f);f.setAttribute("aria-selected",_),T!==f&&this._setAttributeIfNotExists(T,"role","presentation"),_||f.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(f,"role","tab"),this._setInitialAttributesOnTargetPanel(f)}_setInitialAttributesOnTargetPanel(f){let _=we.getElementFromSelector(f);_&&(this._setAttributeIfNotExists(_,"role","tabpanel"),f.id&&this._setAttributeIfNotExists(_,"aria-labelledby",`${f.id}`))}_toggleDropDown(f,_){let T=this._getOuterElement(f);if(!T.classList.contains("dropdown"))return;let j=(U,Q)=>{let te=we.findOne(U,T);te&&te.classList.toggle(Q,_)};j(kk,Dl),j(".dropdown-menu",YC),T.setAttribute("aria-expanded",_)}_setAttributeIfNotExists(f,_,T){f.hasAttribute(_)||f.setAttribute(_,T)}_elemIsActive(f){return f.classList.contains(Dl)}_getInnerElement(f){return f.matches(XC)?f:we.findOne(XC,f)}_getOuterElement(f){return f.closest(".nav-item, .list-group-item")||f}static jQueryInterface(f){return this.each(function(){let _=Tl.getOrCreateInstance(this);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}})}}J.on(document,g8,Ok,function(w){["A","AREA"].includes(this.tagName)&&w.preventDefault(),l(this)||Tl.getOrCreateInstance(this).show()}),J.on(window,_8,()=>{for(let w of we.find(b8))Tl.getOrCreateInstance(w)}),b(Tl);let za=".bs.toast",E8=`mouseover${za}`,w8=`mouseout${za}`,C8=`focusin${za}`,I8=`focusout${za}`,x8=`hide${za}`,D8=`hidden${za}`,T8=`show${za}`,S8=`shown${za}`,Nk="hide",rv="show",ov="showing",A8={animation:"boolean",autohide:"boolean",delay:"number"},M8={animation:!0,autohide:!0,delay:5e3};class mp extends rn{constructor(f,_){super(f,_),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return M8}static get DefaultType(){return A8}static get NAME(){return"toast"}show(){J.trigger(this._element,T8).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Nk),p(this._element),this._element.classList.add(rv,ov),this._queueCallback(()=>{this._element.classList.remove(ov),J.trigger(this._element,S8),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(J.trigger(this._element,x8).defaultPrevented||(this._element.classList.add(ov),this._queueCallback(()=>{this._element.classList.add(Nk),this._element.classList.remove(ov,rv),J.trigger(this._element,D8)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rv),super.dispose()}isShown(){return this._element.classList.contains(rv)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(f,_){switch(f.type){case"mouseover":case"mouseout":this._hasMouseInteraction=_;break;case"focusin":case"focusout":this._hasKeyboardInteraction=_}if(_)return void this._clearTimeout();let T=f.relatedTarget;this._element===T||this._element.contains(T)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,E8,f=>this._onInteraction(f,!0)),J.on(this._element,w8,f=>this._onInteraction(f,!1)),J.on(this._element,C8,f=>this._onInteraction(f,!0)),J.on(this._element,I8,f=>this._onInteraction(f,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(f){return this.each(function(){let _=mp.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f](this)}})}}return td(mp),b(mp),{Alert:ks,Button:Os,Carousel:Vs,Collapse:Fo,Dropdown:Mt,Modal:Cl,Offcanvas:Gs,Popover:iv,ScrollSpy:gp,Tab:Tl,Toast:mp,Tooltip:Il}})});var KRe=K8(Jk());var rI;function lv(){return rI}function qo(n){let e=rI;return rI=n,e}var Zk=Symbol("NotFound");function Dd(n){return n===Zk||n?.name==="\u0275NotFound"}var ui=null,uv=!1,oI=1,Y8=null,di=Symbol("SIGNAL");function ke(n){let e=ui;return ui=n,e}function pv(){return ui}var Al={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Td(n){if(uv)throw new Error("");if(ui===null)return;ui.consumerOnSignalRead(n);let e=ui.producersTail;if(e!==void 0&&e.producer===n)return;let t,i=ui.recomputing;if(i&&(t=e!==void 0?e.nextProducer:ui.producers,t!==void 0&&t.producer===n)){ui.producersTail=t,t.lastReadVersion=n.version;return}let r=n.consumersTail;if(r!==void 0&&r.consumer===ui&&(!i||X8(r,ui)))return;let o=Md(ui),s={producer:n,consumer:ui,nextProducer:t,prevConsumer:r,lastReadVersion:n.version,nextConsumer:void 0};ui.producersTail=s,e!==void 0?e.nextProducer=s:ui.producers=s,o&&iO(n,s)}function eO(){oI++}function gv(n){if(!(Md(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===oI)){if(!n.producerMustRecompute(n)&&!Ad(n)){fv(n);return}n.producerRecomputeValue(n),fv(n)}}function sI(n){if(n.consumers===void 0)return;let e=uv;uv=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||Q8(i)}}finally{uv=e}}function aI(){return ui?.consumerAllowSignalWrites!==!1}function Q8(n){n.dirty=!0,sI(n),n.consumerMarkedDirty?.(n)}function fv(n){n.dirty=!1,n.lastCleanEpoch=oI}function Ml(n){return n&&tO(n),ke(n)}function tO(n){n.producersTail=void 0,n.recomputing=!0}function Sd(n,e){ke(e),n&&nO(n)}function nO(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Md(n))do t=cI(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ad(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,i=e.lastReadVersion;if(i!==t.version||(gv(t),i!==t.version))return!0}return!1}function Pl(n){if(Md(n)){let e=n.producers;for(;e!==void 0;)e=cI(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iO(n,e){let t=n.consumersTail,i=Md(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!i)for(let r=n.producers;r!==void 0;r=r.nextProducer)iO(r.producer,r)}function cI(n){let e=n.producer,t=n.nextProducer,i=n.nextConsumer,r=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!Md(e)){let o=e.producers;for(;o!==void 0;)o=cI(o)}return t}function Md(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function mv(n){Y8?.(n)}function X8(n,e){let t=e.producersTail;if(t!==void 0){let i=e.producers;do{if(i===n)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function _v(n,e){return Object.is(n,e)}function vv(n,e){let t=Object.create(J8);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(gv(t),Td(t),t.value===_p)throw t.error;return t.value};return i[di]=t,mv(t),i}var dv=Symbol("UNSET"),hv=Symbol("COMPUTING"),_p=Symbol("ERRORED"),J8=ge(Y({},Al),{value:dv,dirty:!0,error:null,equal:_v,kind:"computed",producerMustRecompute(n){return n.value===dv||n.value===hv},producerRecomputeValue(n){if(n.value===hv)throw new Error("");let e=n.value;n.value=hv;let t=Ml(n),i,r=!1;try{i=n.computation(),ke(null),r=e!==dv&&e!==_p&&i!==_p&&n.equal(e,i)}catch(o){i=_p,n.error=o}finally{Sd(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function Z8(){throw new Error}var rO=Z8;function oO(n){rO(n)}function lI(n){rO=n}var e6=null;function uI(n,e){let t=Object.create(yv);t.value=n,e!==void 0&&(t.equal=e);let i=()=>sO(t);return i[di]=t,mv(t),[i,s=>Pd(t,s),s=>dI(t,s)]}function sO(n){return Td(n),n.value}function Pd(n,e){aI()||oO(n),n.equal(n.value,e)||(n.value=e,t6(n))}function dI(n,e){aI()||oO(n),Pd(n,e(n.value))}var yv=ge(Y({},Al),{equal:_v,value:void 0,kind:"signal"});function t6(n){n.version++,eO(),sI(n),e6?.(n)}function ze(n){return typeof n=="function"}function Rd(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bv=Rd(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var en=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ze(i))try{i()}catch(o){e=o instanceof bv?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{aO(o)}catch(s){e=e??[],s instanceof bv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new bv(e)}}add(e){var t;if(e&&e!==this)if(this.closed)aO(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Rl(t,e)}remove(e){let{_finalizers:t}=this;t&&Rl(t,e),e instanceof n&&e._removeParent(this)}};en.EMPTY=(()=>{let n=new en;return n.closed=!0,n})();var hI=en.EMPTY;function Ev(n){return n instanceof en||n&&"closed"in n&&ze(n.remove)&&ze(n.add)&&ze(n.unsubscribe)}function aO(n){ze(n)?n():n.unsubscribe()}var oo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kd={setTimeout(n,e,...t){let{delegate:i}=kd;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=kd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wv(n){kd.setTimeout(()=>{let{onUnhandledError:e}=oo;if(e)e(n);else throw n})}function vp(){}var cO=fI("C",void 0,void 0);function lO(n){return fI("E",void 0,n)}function uO(n){return fI("N",n,void 0)}function fI(n,e,t){return{kind:n,value:e,error:t}}var kl=null;function Od(n){if(oo.useDeprecatedSynchronousErrorHandling){let e=!kl;if(e&&(kl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=kl;if(kl=null,t)throw i}}else n()}function dO(n){oo.useDeprecatedSynchronousErrorHandling&&kl&&(kl.errorThrown=!0,kl.error=n)}var Ol=class extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ev(e)&&e.add(this)):this.destination=r6}static create(e,t,i){return new Nd(e,t,i)}next(e){this.isStopped?gI(uO(e),this):this._next(e)}error(e){this.isStopped?gI(lO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gI(cO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},n6=Function.prototype.bind;function pI(n,e){return n6.call(n,e)}var mI=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Cv(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Cv(i)}else Cv(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cv(t)}}},Nd=class extends Ol{constructor(e,t,i){super();let r;if(ze(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&oo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&pI(e.next,o),error:e.error&&pI(e.error,o),complete:e.complete&&pI(e.complete,o)}):r=e}this.destination=new mI(r)}};function Cv(n){oo.useDeprecatedSynchronousErrorHandling?dO(n):wv(n)}function i6(n){throw n}function gI(n,e){let{onStoppedNotification:t}=oo;t&&kd.setTimeout(()=>t(n,e))}var r6={closed:!0,next:vp,error:i6,complete:vp};var Fd=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sr(n){return n}function _I(...n){return vI(n)}function vI(n){return n.length===0?sr:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=s6(t)?t:new Nd(t,i,r);return Od(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=hO(i),new i((r,o)=>{let s=new Nd({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Fd](){return this}pipe(...t){return vI(t)(this)}toPromise(t){return t=hO(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function hO(n){var e;return(e=n??oo.Promise)!==null&&e!==void 0?e:Promise}function o6(n){return n&&ze(n.next)&&ze(n.error)&&ze(n.complete)}function s6(n){return n&&n instanceof Ol||o6(n)&&Ev(n)}function yI(n){return ze(n?.lift)}function ct(n){return e=>{if(yI(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(n,e,t,i,r){return new bI(n,e,t,i,r)}var bI=class extends Ol{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ld(){return ct((n,e)=>{let t=null;n._refCount++;let i=rt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Vd=class extends Oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yI(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;let t=this.getSubject();e.add(this.source.subscribe(rt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return Ld()(this)}};var fO=Rd(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var yn=(()=>{class n extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Iv(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new fO}next(t){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Od(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?hI:(this.currentObservers=null,o.push(t),new en(()=>{this.currentObservers=null,Rl(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new Oe;return t.source=this,t}}return n.create=(e,t)=>new Iv(e,t),n})(),Iv=class extends yn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:hI}};var Jn=class extends yn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var EI={now(){return(EI.delegate||Date).now()},delegate:void 0};var xv=class extends en{constructor(e,t){super()}schedule(e,t=0){return this}};var yp={setInterval(n,e,...t){let{delegate:i}=yp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=yp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var jd=class extends xv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return yp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&yp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rl(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bd=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Bd.now=EI.now;var Ud=class extends Bd{constructor(e,t=Bd.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var wI=new Ud(jd);var Dv=class extends jd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Tv=class extends Ud{};var CI=new Tv(Dv);var Fi=new Oe(n=>n.complete());function pO(n){return n&&ze(n.schedule)}function gO(n){return n[n.length-1]}function Sv(n){return ze(gO(n))?n.pop():void 0}function qa(n){return pO(gO(n))?n.pop():void 0}function II(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function _O(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(h){s(h)}}function c(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}function mO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nl(n){return this instanceof Nl?(this.v=n,this):new Nl(n)}function vO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(y){return Promise.resolve(y).then(g,h)}}function a(g,y){i[g]&&(r[g]=function(E){return new Promise(function(b,M){o.push([g,E,b,M])>1||c(g,E)})},y&&(r[g]=y(r[g])))}function c(g,y){try{l(i[g](y))}catch(E){p(o[0][3],E)}}function l(g){g.value instanceof Nl?Promise.resolve(g.value.v).then(u,h):p(o[0][2],g)}function u(g){c("next",g)}function h(g){c("throw",g)}function p(g,y){g(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function yO(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mO=="function"?mO(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Av=n=>n&&typeof n.length=="number"&&typeof n!="function";function Mv(n){return ze(n?.then)}function Pv(n){return ze(n[Fd])}function Rv(n){return Symbol.asyncIterator&&ze(n?.[Symbol.asyncIterator])}function kv(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function a6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ov=a6();function Nv(n){return ze(n?.[Ov])}function Fv(n){return vO(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Nl(t.read());if(r)return yield Nl(void 0);yield yield Nl(i)}}finally{t.releaseLock()}})}function Lv(n){return ze(n?.getReader)}function Tn(n){if(n instanceof Oe)return n;if(n!=null){if(Pv(n))return c6(n);if(Av(n))return l6(n);if(Mv(n))return u6(n);if(Rv(n))return bO(n);if(Nv(n))return d6(n);if(Lv(n))return h6(n)}throw kv(n)}function c6(n){return new Oe(e=>{let t=n[Fd]();if(ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function l6(n){return new Oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function u6(n){return new Oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wv)})}function d6(n){return new Oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bO(n){return new Oe(e=>{f6(n,e).catch(t=>e.error(t))})}function h6(n){return bO(Fv(n))}function f6(n,e){var t,i,r,o;return _O(this,void 0,void 0,function*(){try{for(t=yO(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Li(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Wa(n,e=0){return ct((t,i)=>{t.subscribe(rt(i,r=>Li(i,n,()=>i.next(r),e),()=>Li(i,n,()=>i.complete(),e),r=>Li(i,n,()=>i.error(r),e)))})}function Ga(n,e=0){return ct((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function EO(n,e){return Tn(n).pipe(Ga(e),Wa(e))}function wO(n,e){return Tn(n).pipe(Ga(e),Wa(e))}function CO(n,e){return new Oe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function IO(n,e){return new Oe(t=>{let i;return Li(t,e,()=>{i=n[Ov](),Li(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>ze(i?.return)&&i.return()})}function Vv(n,e){if(!n)throw new Error("Iterable cannot be null");return new Oe(t=>{Li(t,e,()=>{let i=n[Symbol.asyncIterator]();Li(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function xO(n,e){return Vv(Fv(n),e)}function DO(n,e){if(n!=null){if(Pv(n))return EO(n,e);if(Av(n))return CO(n,e);if(Mv(n))return wO(n,e);if(Rv(n))return Vv(n,e);if(Nv(n))return IO(n,e);if(Lv(n))return xO(n,e)}throw kv(n)}function tn(n,e){return e?DO(n,e):Tn(n)}function De(...n){let e=qa(n);return tn(n,e)}function $d(n,e){let t=ze(n)?n:()=>n,i=r=>r.error(t());return new Oe(e?r=>e.schedule(i,0,r):i)}function xI(n){return!!n&&(n instanceof Oe||ze(n.lift)&&ze(n.subscribe))}var Ys=Rd(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ge(n,e){return ct((t,i)=>{let r=0;t.subscribe(rt(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:p6}=Array;function g6(n,e){return p6(e)?n(...e):n(e)}function jv(n){return Ge(e=>g6(n,e))}var{isArray:m6}=Array,{getPrototypeOf:_6,prototype:v6,keys:y6}=Object;function Bv(n){if(n.length===1){let e=n[0];if(m6(e))return{args:e,keys:null};if(b6(e)){let t=y6(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function b6(n){return n&&typeof n=="object"&&_6(n)===v6}function Uv(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function bp(...n){let e=qa(n),t=Sv(n),{args:i,keys:r}=Bv(n);if(i.length===0)return tn([],e);let o=new Oe(E6(i,e,r?s=>Uv(r,s):sr));return t?o.pipe(jv(t)):o}function E6(n,e,t=sr){return i=>{TO(e,()=>{let{length:r}=n,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)TO(e,()=>{let l=tn(n[c],e),u=!1;l.subscribe(rt(i,h=>{o[c]=h,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function TO(n,e,t){n?Li(t,n,e):e()}function SO(n,e,t,i,r,o,s,a){let c=[],l=0,u=0,h=!1,p=()=>{h&&!c.length&&!l&&e.complete()},g=E=>l<i?y(E):c.push(E),y=E=>{o&&e.next(E),l++;let b=!1;Tn(t(E,u++)).subscribe(rt(e,M=>{r?.(M),o?g(M):e.next(M)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<i;){let M=c.shift();s?Li(e,s,()=>y(M)):y(M)}p()}catch(M){e.error(M)}}))};return n.subscribe(rt(e,g,()=>{h=!0,p()})),()=>{a?.()}}function bn(n,e,t=1/0){return ze(e)?bn((i,r)=>Ge((o,s)=>e(i,o,r,s))(Tn(n(i,r))),t):(typeof e=="number"&&(t=e),ct((i,r)=>SO(i,r,n,t)))}function zd(n=1/0){return bn(sr,n)}function AO(){return zd(1)}function Hd(...n){return AO()(tn(n,qa(n)))}function Ep(n){return new Oe(e=>{Tn(n()).subscribe(e)})}function DI(...n){let e=Sv(n),{args:t,keys:i}=Bv(n),r=new Oe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;Tn(t[u]).subscribe(rt(o,p=>{h||(h=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?Uv(i,a):a),o.complete())}))}});return e?r.pipe(jv(e)):r}function hi(n,e){return ct((t,i)=>{let r=0;t.subscribe(rt(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Qs(n){return ct((e,t)=>{let i=null,r=!1,o;i=e.subscribe(rt(t,void 0,void 0,s=>{o=Tn(n(s,Qs(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function MO(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(rt(s,u=>{let h=l++;c=a?n(c,u,h):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Wo(n,e){return ze(e)?bn(n,e,1):bn(n,1)}function Ka(n){return ct((e,t)=>{let i=!1;e.subscribe(rt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Xs(n){return n<=0?()=>Fi:ct((e,t)=>{let i=0;e.subscribe(rt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function $v(n=w6){return ct((e,t)=>{let i=!1;e.subscribe(rt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function w6(){return new Ys}function Fl(n){return ct((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Js(n,e){let t=arguments.length>=2;return i=>i.pipe(n?hi((r,o)=>n(r,o,i)):sr,Xs(1),t?Ka(e):$v(()=>new Ys))}function qd(n){return n<=0?()=>Fi:ct((e,t)=>{let i=[];e.subscribe(rt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function TI(n,e){let t=arguments.length>=2;return i=>i.pipe(n?hi((r,o)=>n(r,o,i)):sr,qd(1),t?Ka(e):$v(()=>new Ys))}function SI(n,e){return ct(MO(n,e,arguments.length>=2,!0))}function AI(...n){let e=qa(n);return ct((t,i)=>{(e?Hd(n,t,e):Hd(n,t)).subscribe(i)})}function Zn(n,e){return ct((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(rt(i,c=>{r?.unsubscribe();let l=0,u=o++;Tn(n(c,u)).subscribe(r=rt(i,h=>i.next(e?e(c,h,u,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function zv(n){return ct((e,t)=>{Tn(n).subscribe(rt(t,()=>t.complete(),vp)),!t.closed&&e.subscribe(t)})}function Yn(n,e,t){let i=ze(n)||e||t?{next:n,error:e,complete:t}:n;return i?ct((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(rt(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):sr}function PO(n){let e=ke(null);try{return n()}finally{ke(e)}}var RO=ge(Y({},Al),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function kO(n){if(n.dirty=!1,n.version>0&&!Ad(n))return;n.version++;let e=Ml(n);try{n.cleanup(),n.fn()}finally{Sd(n,e)}}var ea=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},UI=new ea("20.3.3");var Gv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",re=class extends Error{code;constructor(e,t){super(na(e,t)),this.code=e}};function C6(n){return`NG0${Math.abs(n)}`}function na(n,e){return`${C6(n)}${e?": "+e:""}`}var Pr=globalThis;function yt(n){for(let e in n)if(n[e]===yt)return e;throw Error("")}function FO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ta(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ta).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function $I(n,e){return n?e?`${n} ${e}`:n:e||""}var I6=yt({__forward_ref__:yt});function cr(n){return n.__forward_ref__=cr,n.toString=function(){return ta(this())},n}function ei(n){return zI(n)?n():n}function zI(n){return typeof n=="function"&&n.hasOwnProperty(I6)&&n.__forward_ref__===cr}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dp(n){return x6(n,Kv)}function HI(n){return Dp(n)!==null}function x6(n,e){return n.hasOwnProperty(e)&&n[e]||null}function D6(n){let e=n?.[Kv]??null;return e||null}function PI(n){return n&&n.hasOwnProperty(qv)?n[qv]:null}var Kv=yt({\u0275prov:yt}),qv=yt({\u0275inj:yt}),le=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qI(n){return n&&!!n.\u0275providers}var WI=yt({\u0275cmp:yt}),GI=yt({\u0275dir:yt}),KI=yt({\u0275pipe:yt}),YI=yt({\u0275mod:yt}),Cp=yt({\u0275fac:yt}),Ul=yt({__NG_ELEMENT_ID__:yt}),OO=yt({__NG_ENV_ID__:yt});function Xa(n){return typeof n=="string"?n:n==null?"":String(n)}function LO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xa(n)}var VO=yt({ngErrorCode:yt}),T6=yt({ngErrorMessage:yt}),S6=yt({ngTokenPath:yt});function QI(n,e){return jO("",-200,e)}function Yv(n,e){throw new re(-201,!1)}function jO(n,e,t){let i=new re(e,n);return i[VO]=e,i[T6]=n,t&&(i[S6]=t),i}function A6(n){return n[VO]}var RI;function BO(){return RI}function Ci(n){let e=RI;return RI=n,e}function XI(n,e,t){let i=Dp(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(e!==void 0)return e;Yv(n,"Injector")}var M6={},Ll=M6,kI="__NG_DI_FLAG__",OI=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=Vl(t)||0;try{return this.injector.get(e,i&8?null:Ll,i)}catch(r){if(Dd(r))return r;throw r}}};function P6(n,e=0){let t=lv();if(t===void 0)throw new re(-203,!1);if(t===null)return XI(n,void 0,e);{let i=R6(e),r=t.retrieve(n,i);if(Dd(r)){if(i.optional)return null;throw r}return r}}function be(n,e=0){return(BO()||P6)(ei(n),e)}function z(n,e){return be(n,Vl(e))}function Vl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function R6(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function NI(n){let e=[];for(let t=0;t<n.length;t++){let i=ei(n[t]);if(Array.isArray(i)){if(i.length===0)throw new re(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],c=k6(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(be(r,o))}else e.push(be(i))}return e}function UO(n,e){return n[kI]=e,n.prototype[kI]=e,n}function k6(n){return n[kI]}function Ya(n,e){let t=n.hasOwnProperty(Cp);return t?n[Cp]:null}function $O(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function zO(n){return n.flat(Number.POSITIVE_INFINITY)}function Qv(n,e){n.forEach(t=>Array.isArray(t)?Qv(t,e):e(t))}function JI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Tp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function HO(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function qO(n,e,t){let i=Gd(n,e);return i>=0?n[i|1]=t:(i=~i,HO(n,i,e,t)),i}function Xv(n,e){let t=Gd(n,e);if(t>=0)return n[t|1]}function Gd(n,e){return O6(n,e,1)}function O6(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var Ja={},ar=[],ia=new le(""),ZI=new le("",-1),ex=new le(""),Ip=class{get(e,t=Ll){if(t===Ll){let r=jO("",-201);throw r.name="\u0275NotFound",r}return t}};function tx(n){return n[YI]||null}function ra(n){return n[WI]||null}function nx(n){return n[GI]||null}function WO(n){return n[KI]||null}function Vi(n){return{\u0275providers:n}}function GO(...n){return{\u0275providers:ix(!0,n),\u0275fromNgModule:!0}}function ix(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Qv(e,s=>{let a=s;Wv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&KO(r,o),t}function KO(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];rx(r,o=>{e(o,i)})}}function Wv(n,e,t,i){if(n=ei(n),!n)return!1;let r=null,o=PI(n),s=!o&&ra(n);if(!o&&!s){let c=n.ngModule;if(o=PI(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=n}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Wv(l,e,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Qv(o.imports,u=>{Wv(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&KO(l,e)}if(!a){let l=Ya(r)||(()=>new r);e({provide:r,useFactory:l,deps:ar},r),e({provide:ex,useValue:r,multi:!0},r),e({provide:ia,useValue:()=>be(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=n;rx(c,u=>{e(u,l)})}}else return!1;return r!==n&&n.providers!==void 0}function rx(n,e){for(let t of n)qI(t)&&(t=t.\u0275providers),Array.isArray(t)?rx(t,e):e(t)}var N6=yt({provide:String,useValue:yt});function YO(n){return n!==null&&typeof n=="object"&&N6 in n}function F6(n){return!!(n&&n.useExisting)}function L6(n){return!!(n&&n.useFactory)}function jl(n){return typeof n=="function"}function QO(n){return!!n.useClass}var Sp=new le(""),Hv={},NO={},MI;function Ap(){return MI===void 0&&(MI=new Ip),MI}var on=class{},Bl=class extends on{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,LI(e,s=>this.processProvider(s)),this.records.set(ZI,Wd(void 0,this)),r.has("environment")&&this.records.set(on,Wd(void 0,this));let o=this.records.get(Sp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ex,ar,{self:!0}))}retrieve(e,t){let i=Vl(t)||0;try{return this.get(e,Ll,i)}catch(r){if(Dd(r))return r;throw r}}destroy(){wp(this),this._destroyed=!0;let e=ke(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return wp(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wp(this);let t=qo(this),i=Ci(void 0),r;try{return e()}finally{qo(t),Ci(i)}}get(e,t=Ll,i){if(wp(this),e.hasOwnProperty(OO))return e[OO](this);let r=Vl(i),o,s=qo(this),a=Ci(void 0);try{if(!(r&4)){let l=this.records.get(e);if(l===void 0){let u=$6(e)&&Dp(e);u&&this.injectableDefInScope(u)?l=Wd(FI(e),Hv):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&2?Ap():this.parent;return t=r&8&&t===Ll?null:t,c.get(e,t)}catch(c){let l=A6(c);throw l===-200||l===-201?new re(l,null):c}finally{Ci(a),qo(s)}}resolveInjectorInitializers(){let e=ke(null),t=qo(this),i=Ci(void 0),r;try{let o=this.get(ia,ar,{self:!0});for(let s of o)s()}finally{qo(t),Ci(i),ke(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(ta(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ei(e);let t=jl(e)?e:ei(e&&e.provide),i=j6(e);if(!jl(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Wd(void 0,Hv,!0),r.factory=()=>NI(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=ke(null);try{if(t.value===NO)throw QI(ta(e));return t.value===Hv&&(t.value=NO,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&U6(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ke(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ei(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function FI(n){let e=Dp(n),t=e!==null?e.factory:Ya(n);if(t!==null)return t;if(n instanceof le)throw new re(204,!1);if(n instanceof Function)return V6(n);throw new re(204,!1)}function V6(n){if(n.length>0)throw new re(204,!1);let t=D6(n);return t!==null?()=>t.factory(n):()=>new n}function j6(n){if(YO(n))return Wd(void 0,n.useValue);{let e=ox(n);return Wd(e,Hv)}}function ox(n,e,t){let i;if(jl(n)){let r=ei(n);return Ya(r)||FI(r)}else if(YO(n))i=()=>ei(n.useValue);else if(L6(n))i=()=>n.useFactory(...NI(n.deps||[]));else if(F6(n))i=(r,o)=>be(ei(n.useExisting),o!==void 0&&o&8?8:void 0);else{let r=ei(n&&(n.useClass||n.provide));if(B6(n))i=()=>new r(...NI(n.deps));else return Ya(r)||FI(r)}return i}function wp(n){if(n.destroyed)throw new re(205,!1)}function Wd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function B6(n){return!!n.deps}function U6(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $6(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function LI(n,e){for(let t of n)Array.isArray(t)?LI(t,e):t&&qI(t)?LI(t.\u0275providers,e):e(t)}function fn(n,e){let t;n instanceof Bl?(wp(n),t=n):t=new OI(n);let i,r=qo(t),o=Ci(void 0);try{return e()}finally{qo(r),Ci(o)}}function XO(){return BO()!==void 0||lv()!=null}var ao=0,Se=1,Ne=2,Ln=3,Rr=4,kr=5,Kd=6,Yd=7,En=8,Qd=9,Go=10,Gt=11,Xd=12,sx=13,$l=14,ur=15,Za=16,zl=17,Ko=18,Mp=19,ax=20,Zs=21,Jv=22,oa=23,dr=24,Hl=25,ti=26,wn=27,JO=1,cx=6,ec=7,Pp=8,ql=9,Sn=10;function Yo(n){return Array.isArray(n)&&typeof n[JO]=="object"}function co(n){return Array.isArray(n)&&n[JO]===!0}function lx(n){return(n.flags&4)!==0}function tc(n){return n.componentOffset>-1}function Rp(n){return(n.flags&1)===1}function Qo(n){return!!n.template}function Jd(n){return(n[Ne]&512)!==0}function Wl(n){return(n[Ne]&256)===256}var ZO="svg",eN="math";function Or(n){for(;Array.isArray(n);)n=n[ao];return n}function ux(n,e){return Or(e[n])}function lo(n,e){return Or(e[n.index])}function kp(n,e){return n.data[e]}function dx(n,e){return n[e]}function hx(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Nr(n,e){let t=e[n];return Yo(t)?t:t[ao]}function tN(n){return(n[Ne]&4)===4}function Zv(n){return(n[Ne]&128)===128}function nN(n){return co(n[Ln])}function Fr(n,e){return e==null?null:n[e]}function fx(n){n[zl]=0}function px(n){n[Ne]&1024||(n[Ne]|=1024,Zv(n)&&nc(n))}function iN(n,e){for(;n>0;)e=e[$l],n--;return e}function Op(n){return!!(n[Ne]&9216||n[dr]?.dirty)}function ey(n){n[Go].changeDetectionScheduler?.notify(8),n[Ne]&64&&(n[Ne]|=1024),Op(n)&&nc(n)}function nc(n){n[Go].changeDetectionScheduler?.notify(0);let e=Qa(n);for(;e!==null&&!(e[Ne]&8192||(e[Ne]|=8192,!Zv(e)));)e=Qa(e)}function gx(n,e){if(Wl(n))throw new re(911,!1);n[Zs]===null&&(n[Zs]=[]),n[Zs].push(e)}function rN(n,e){if(n[Zs]===null)return;let t=n[Zs].indexOf(e);t!==-1&&n[Zs].splice(t,1)}function Qa(n){let e=n[Ln];return co(e)?e[Ln]:e}function mx(n){return n[Yd]??=[]}function _x(n){return n.cleanup??=[]}function oN(n,e,t,i){let r=mx(e);r.push(t),n.firstCreatePass&&_x(n).push(i,r.length-1)}var Qe={lFrame:vN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var VI=!1;function sN(){return Qe.lFrame.elementDepthCount}function aN(){Qe.lFrame.elementDepthCount++}function vx(){Qe.lFrame.elementDepthCount--}function yx(){return Qe.bindingsEnabled}function cN(){return Qe.skipHydrationRootTNode!==null}function bx(n){return Qe.skipHydrationRootTNode===n}function Ex(){Qe.skipHydrationRootTNode=null}function He(){return Qe.lFrame.lView}function Cn(){return Qe.lFrame.tView}function he(n){return Qe.lFrame.contextLView=n,n[En]}function fe(n){return Qe.lFrame.contextLView=null,n}function Qn(){let n=wx();for(;n!==null&&n.type===64;)n=n.parent;return n}function wx(){return Qe.lFrame.currentTNode}function lN(){let n=Qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zd(n,e){let t=Qe.lFrame;t.currentTNode=n,t.isParent=e}function Cx(){return Qe.lFrame.isParent}function uN(){Qe.lFrame.isParent=!1}function Ix(){return VI}function eh(n){let e=VI;return VI=n,e}function xx(){let n=Qe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dN(){return Qe.lFrame.bindingIndex}function hN(n){return Qe.lFrame.bindingIndex=n}function ic(){return Qe.lFrame.bindingIndex++}function Dx(n){let e=Qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fN(){return Qe.lFrame.inI18n}function pN(n,e){let t=Qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,ty(e)}function gN(){return Qe.lFrame.currentDirectiveIndex}function ty(n){Qe.lFrame.currentDirectiveIndex=n}function mN(n){let e=Qe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Tx(){return Qe.lFrame.currentQueryIndex}function ny(n){Qe.lFrame.currentQueryIndex=n}function z6(n){let e=n[Se];return e.type===2?e.declTNode:e.type===1?n[kr]:null}function Sx(n,e,t){if(t&4){let r=e,o=n;for(;r=r.parent,r===null&&!(t&1);)if(r=z6(o),r===null||(o=o[$l],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=Qe.lFrame=_N();return i.currentTNode=e,i.lView=n,!0}function iy(n){let e=_N(),t=n[Se];Qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _N(){let n=Qe.lFrame,e=n===null?null:n.child;return e===null?vN(n):e}function vN(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function yN(){let n=Qe.lFrame;return Qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ax=yN;function ry(){let n=yN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function bN(n){return(Qe.lFrame.contextLView=iN(n,Qe.lFrame.contextLView))[En]}function sa(){return Qe.lFrame.selectedIndex}function rc(n){Qe.lFrame.selectedIndex=n}function Np(){let n=Qe.lFrame;return kp(n.tView,n.selectedIndex)}function EN(){return Qe.lFrame.currentNamespace}var wN=!0;function oy(){return wN}function sy(n){wN=n}function jI(n,e=null,t=null,i){let r=Mx(n,e,t,i);return r.resolveInjectorInitializers(),r}function Mx(n,e=null,t=null,i,r=new Set){let o=[t||ar,GO(n)];return i=i||(typeof n=="object"?void 0:ta(n)),new Bl(o,e||Ap(),i||null,r)}var Wt=class n{static THROW_IF_NOT_FOUND=Ll;static NULL=new Ip;static create(e,t){if(Array.isArray(e))return jI({name:""},t,e,"");{let i=e.name??"";return jI({name:i},e.parent,e.providers,i)}}static \u0275prov=ue({token:n,providedIn:"any",factory:()=>be(ZI)});static __NG_ELEMENT_ID__=-1},Kt=new le(""),Ii=(()=>{class n{static __NG_ELEMENT_ID__=H6;static __NG_ENV_ID__=t=>t}return n})(),xp=class extends Ii{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Wl(this._lView)}onDestroy(e){let t=this._lView;return gx(t,e),()=>rN(t,e)}};function H6(){return new xp(He())}var Mr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ji=new le("",{providedIn:"root",factory:()=>{let n=z(on),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Mr),e.handleError(t))}}}),CN={provide:ia,useValue:()=>void z(Mr),multi:!0};function Px(n){return typeof n=="function"&&n[di]!==void 0}function Pe(n,e){let[t,i,r]=uI(n,e?.equal),o=t,s=o[di];return o.set=i,o.update=r,o.asReadonly=Rx.bind(o),o}function Rx(){let n=this[di];if(n.readonlyFn===void 0){let e=()=>this();e[di]=n,n.readonlyFn=e}return n.readonlyFn}function kx(n){return Px(n)&&typeof n.set=="function"}var so=class{},Fp=new le("",{providedIn:"root",factory:()=>!1});var Ox=new le(""),Nx=new le("");var th=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=q6}return n})();function q6(){return new th(He(),Qn())}var Xo=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Jn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Oe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})(),aa=(()=>{class n{internalPendingTasks=z(Xo);scheduler=z(so);errorHandler=z(ji);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function Gl(...n){}var Lp=(()=>{class n{static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new BI})}return n})(),BI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,i]of this.queues)t===null?e||=this.flushQueue(i):e||=t.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function ah(n){return{toString:n}.toString()}var ay="__parameters__";function Z6(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function e9(n,e,t){return ah(()=>{let i=Z6(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(ay)?c[ay]:Object.defineProperty(c,ay,{value:[]})[ay];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Bi=UO(e9("Optional"),8);function t9(n){return typeof n=="function"}var vy=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function oF(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var fo=(()=>{let n=()=>sF;return n.ngInherit=!0,n})();function sF(n){return n.type.prototype.ngOnChanges&&(n.setInput=i9),n9}function n9(){let n=cF(this),e=n?.current;if(e){let t=n.previous;if(t===Ja)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function i9(n,e,t,i,r){let o=this.declaredInputs[i],s=cF(n)||r9(n,{previous:Ja,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new vy(l&&l.currentValue,t,c===Ja),oF(n,e,r,t)}var aF="__ngSimpleChanges__";function cF(n){return n[aF]||null}function r9(n,e){return n[aF]=e}var IN=[];var Dt=function(n,e=null,t){for(let i=0;i<IN.length;i++){let r=IN[i];r(n,e,t)}};function o9(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=sF(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function lF(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function fy(n,e,t){uF(n,e,3,t)}function py(n,e,t,i){(n[Ne]&3)===t&&uF(n,e,t,i)}function Fx(n,e){let t=n[Ne];(t&3)===e&&(t&=16383,t+=1,n[Ne]=t)}function uF(n,e,t,i){let r=i!==void 0?n[zl]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(n[zl]+=65536),(a<o||o==-1)&&(s9(n,t,e,c),n[zl]=(n[zl]&4294901760)+c+2),c++}function xN(n,e){Dt(4,n,e);let t=ke(null);try{e.call(n)}finally{ke(t),Dt(5,n,e)}}function s9(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=n[s];r?n[Ne]>>14<n[zl]>>16&&(n[Ne]&3)===e&&(n[Ne]+=16384,xN(a,o)):xN(a,o)}var ih=-1,Yl=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function a9(n){return(n.flags&8)!==0}function c9(n){return(n.flags&16)!==0}function l9(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{let o=r,s=t[++i];u9(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function dF(n){return n===3||n===4||n===6}function u9(n){return n.charCodeAt(0)===64}function rh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?DN(n,t,r,null,e[++i]):DN(n,t,r,null,null))}}return n}function DN(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function hF(n){return n!==ih}function yy(n){return n&32767}function d9(n){return n>>16}function by(n,e){let t=d9(n),i=e;for(;t>0;)i=i[$l],t--;return i}var Gx=!0;function Ey(n){let e=Gx;return Gx=n,e}var h9=256,fF=h9-1,pF=5,f9=0,Jo={};function p9(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ul)&&(i=t[Ul]),i==null&&(i=t[Ul]=f9++);let r=i&fF,o=1<<r;e.data[n+(r>>pF)]|=o}function wy(n,e){let t=gF(n,e);if(t!==-1)return t;let i=e[Se];i.firstCreatePass&&(n.injectorIndex=e.length,Lx(i.data,n),Lx(e,null),Lx(i.blueprint,null));let r=RD(n,e),o=n.injectorIndex;if(hF(r)){let s=yy(r),a=by(r,e),c=a[Se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Lx(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gF(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function RD(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=bF(r),i===null)return ih;if(t++,r=r[$l],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return ih}function Kx(n,e,t){p9(n,e,t)}function g9(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(dF(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function mF(n,e,t){if(t&8||n!==void 0)return n;Yv(e,"NodeInjector")}function _F(n,e,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=n[Qd],o=Ci(void 0);try{return r?r.get(e,i,t&8):XI(e,i,t&8)}finally{Ci(o)}}return mF(i,e,t)}function vF(n,e,t,i=0,r){if(n!==null){if(e[Ne]&2048&&!(i&2)){let s=y9(n,e,t,i,Jo);if(s!==Jo)return s}let o=yF(n,e,t,i,Jo);if(o!==Jo)return o}return _F(e,t,i,r)}function yF(n,e,t,i,r){let o=_9(t);if(typeof o=="function"){if(!Sx(e,n,i))return i&1?mF(r,t,i):_F(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Yv(t);else return s}finally{Ax()}}else if(typeof o=="number"){let s=null,a=gF(n,e),c=ih,l=i&1?e[ur][kr]:null;for((a===-1||i&4)&&(c=a===-1?RD(n,e):e[a+8],c===ih||!SN(i,!1)?a=-1:(s=e[Se],a=yy(c),e=by(c,e)));a!==-1;){let u=e[Se];if(TN(o,a,u.data)){let h=m9(a,e,t,s,i,l);if(h!==Jo)return h}c=e[a+8],c!==ih&&SN(i,e[Se].data[a+8]===l)&&TN(o,a,e)?(s=u,a=yy(c),e=by(c,e)):a=-1}}return r}function m9(n,e,t,i,r,o){let s=e[Se],a=s.data[n+8],c=i==null?tc(a)&&Gx:i!=s&&(a.type&3)!==0,l=r&1&&o===a,u=gy(a,s,t,c,l);return u!==null?Bp(e,s,u,a,r):Jo}function gy(n,e,t,i,r){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,h=i?a:a+u,p=r?a+u:l;for(let g=h;g<p;g++){let y=s[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(r){let g=s[c];if(g&&Qo(g)&&g.type===t)return c}return null}function Bp(n,e,t,i,r){let o=n[t],s=e.data;if(o instanceof Yl){let a=o;if(a.resolving){let g=LO(s[t]);throw QI(g)}let c=Ey(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,h=a.injectImpl?Ci(a.injectImpl):null,p=Sx(n,i,0);try{o=n[t]=a.factory(void 0,r,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&o9(t,s[t],e)}finally{h!==null&&Ci(h),Ey(c),a.resolving=!1,Ax()}}return o}function _9(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ul)?n[Ul]:void 0;return typeof e=="number"?e>=0?e&fF:v9:e}function TN(n,e,t){let i=1<<n;return!!(t[e+(n>>pF)]&i)}function SN(n,e){return!(n&2)&&!(n&1&&e)}var Kl=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return vF(this._tNode,this._lView,e,Vl(i),t)}};function v9(){return new Kl(Qn(),He())}function es(n){return ah(()=>{let e=n.prototype.constructor,t=e[Cp]||Yx(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Cp]||Yx(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Yx(n){return zI(n)?()=>{let e=Yx(ei(n));return e&&e()}:Ya(n)}function y9(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[Ne]&2048&&!Jd(s);){let a=yF(o,s,t,i|2,Jo);if(a!==Jo)return a;let c=o.parent;if(!c){let l=s[ax];if(l){let u=l.get(t,Jo,i);if(u!==Jo)return u}c=bF(s),s=s[$l]}o=c}return r}function bF(n){let e=n[Se],t=e.type;return t===2?e.declTNode:t===1?n[kr]:null}function Wp(n){return g9(Qn(),n)}function b9(){return ch(Qn(),He())}function ch(n,e){return new xi(lo(n,e))}var xi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=b9}return n})();function E9(n){return n instanceof xi?n.nativeElement:n}function w9(){return this._results[Symbol.iterator]()}var Cy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new yn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=zO(e);(this._changesDetected=!$O(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=w9};function EF(n){return(n.flags&128)===128}var kD=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(kD||{}),wF=new Map,C9=0;function I9(){return C9++}function x9(n){wF.set(n[Mp],n)}function Qx(n){wF.delete(n[Mp])}var AN="__ngContext__";function oh(n,e){Yo(e)?(n[AN]=e[Mp],x9(e)):n[AN]=e}function CF(n){return xF(n[Xd])}function IF(n){return xF(n[Rr])}function xF(n){for(;n!==null&&!co(n);)n=n[Rr];return n}var Xx;function OD(n){Xx=n}function ND(){if(Xx!==void 0)return Xx;if(typeof document<"u")return document;throw new re(210,!1)}var Vy=new le("",{providedIn:"root",factory:()=>D9}),D9="ng",jy=new le(""),sc=new le("",{providedIn:"platform",factory:()=>"unknown"});var By=new le("",{providedIn:"root",factory:()=>ND().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var T9="h",S9="b";var DF="r";var TF="di";var SF=!1,AF=new le("",{providedIn:"root",factory:()=>SF});var Uy=new le("");var A9=(n,e,t,i)=>{};function M9(n,e,t,i){A9(n,e,t,i)}function FD(n){return(n.flags&32)===32}var P9=()=>null;function MF(n,e,t=!1){return P9(n,e,t)}function PF(n,e){let t=n.contentQueries;if(t!==null){let i=ke(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=n.data[s];ny(o),a.contentQueries(2,e[s],s)}}}finally{ke(i)}}}function Jx(n,e,t){ny(0);let i=ke(null);try{e(n,t)}finally{ke(i)}}function RF(n,e,t){if(lx(e)){let i=ke(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ke(i)}}}var ca=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(ca||{}),cy;function R9(){if(cy===void 0&&(cy=null,Pr.trustedTypes))try{cy=Pr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cy}function $y(n){return R9()?.createHTML(n)||n}var ly;function kF(){if(ly===void 0&&(ly=null,Pr.trustedTypes))try{ly=Pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ly}function MN(n){return kF()?.createHTML(n)||n}function PN(n){return kF()?.createScriptURL(n)||n}var la=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gv})`}},Zx=class extends la{getTypeName(){return"HTML"}},eD=class extends la{getTypeName(){return"Style"}},tD=class extends la{getTypeName(){return"Script"}},nD=class extends la{getTypeName(){return"URL"}},iD=class extends la{getTypeName(){return"ResourceURL"}};function Lr(n){return n instanceof la?n.changingThisBreaksApplicationSecurity:n}function ts(n,e){let t=OF(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Gv})`)}return t===e}function OF(n){return n instanceof la&&n.getTypeName()||null}function LD(n){return new Zx(n)}function VD(n){return new eD(n)}function jD(n){return new tD(n)}function BD(n){return new nD(n)}function UD(n){return new iD(n)}function k9(n){let e=new oD(n);return O9()?new rD(e):e}var rD=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString($y(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},oD=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=$y(e),t}};function O9(){try{return!!new window.DOMParser().parseFromString($y(""),"text/html")}catch{return!1}}var N9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gp(n){return n=String(n),n.match(N9)?n:"unsafe:"+n}function ua(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Kp(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var NF=ua("area,br,col,hr,img,wbr"),FF=ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LF=ua("rp,rt"),F9=Kp(LF,FF),L9=Kp(FF,ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),V9=Kp(LF,ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),RN=Kp(NF,L9,V9,F9),VF=ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j9=ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B9=ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),U9=Kp(VF,j9,B9),$9=ua("script,style,template"),sD=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=q9(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=H9(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=kN(e).toLowerCase();if(!RN.hasOwnProperty(t))return this.sanitizedSomething=!0,!$9.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!U9.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;VF[a]&&(c=Gp(c)),this.buf.push(" ",s,'="',ON(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=kN(e).toLowerCase();RN.hasOwnProperty(t)&&!NF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ON(e))}};function z9(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function H9(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw jF(e);return e}function q9(n){let e=n.firstChild;if(e&&z9(n,e))throw jF(e);return e}function kN(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function jF(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var W9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G9=/([^\#-~ |!])/g;function ON(n){return n.replace(/&/g,"&amp;").replace(W9,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(G9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var uy;function zy(n,e){let t=null;try{uy=uy||k9(n);let i=e?String(e):"";t=uy.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=uy.getInertBodyElement(i)}while(i!==o);let a=new sD().sanitizeChildren(NN(t)||t);return $y(a)}finally{if(t){let i=NN(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function NN(n){return"content"in n&&K9(n)?n.content:null}function K9(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Vr=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Vr||{});function $D(n){let e=HD();return e?MN(e.sanitize(Vr.HTML,n)||""):ts(n,"HTML")?MN(Lr(n)):zy(ND(),Xa(n))}function BF(n){let e=HD();return e?e.sanitize(Vr.URL,n)||"":ts(n,"URL")?Lr(n):Gp(Xa(n))}function Hy(n){let e=HD();if(e)return PN(e.sanitize(Vr.RESOURCE_URL,n)||"");if(ts(n,"ResourceURL"))return PN(Lr(n));throw new re(904,!1)}function Y9(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Hy:BF}function zD(n,e,t){return Y9(e,t)(n)}function HD(){let n=He();return n&&n[Go].sanitizer}function qD(n){return n.ownerDocument}function UF(n){return n instanceof Function?n():n}function Q9(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var $F="ng-template";function X9(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Q9(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(WD(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function WD(n){return n.type===4&&n.value!==$F}function J9(n,e,t){let i=n.type===4&&!t?$F:n.value;return e===i}function Z9(n,e,t){let i=4,r=n.attrs,o=r!==null?nq(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!uo(i)&&!uo(c))return!1;if(s&&uo(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!J9(n,c,t)||c===""&&e.length===1){if(uo(i))return!1;s=!0}}else if(i&8){if(r===null||!X9(n,r,c,t)){if(uo(i))return!1;s=!0}}else{let l=e[++a],u=eq(c,r,WD(n),t);if(u===-1){if(uo(i))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=r[u+1].toLowerCase(),i&2&&l!==h){if(uo(i))return!1;s=!0}}}}return uo(i)||s}function uo(n){return(n&1)===0}function eq(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return iq(e,n)}function tq(n,e,t=!1){for(let i=0;i<e.length;i++)if(Z9(n,e[i],t))return!0;return!1}function nq(n){for(let e=0;e<n.length;e++){let t=n[e];if(dF(t))return e}return n.length}function iq(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function FN(n,e){return n?":not("+e.trim()+")":e}function rq(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!uo(s)&&(e+=FN(o,r),r=""),i=s,o=o||!uo(i);t++}return r!==""&&(e+=FN(o,r)),e}function oq(n){return n.map(rq).join(",")}function sq(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!uo(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var jr={};function aq(n,e){return n.createText(e)}function cq(n,e,t){n.setValue(e,t)}function zF(n,e,t){return n.createElement(e,t)}function Iy(n,e,t,i,r){n.insertBefore(e,t,i,r)}function HF(n,e,t){n.appendChild(e,t)}function LN(n,e,t,i,r){i!==null?Iy(n,e,t,i,r):HF(n,e,t)}function qF(n,e,t,i){n.removeChild(null,e,t,i)}function lq(n,e,t){n.setAttribute(e,"style",t)}function uq(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function WF(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&l9(n,e,i),r!==null&&uq(n,e,r),o!==null&&lq(n,e,o)}function GD(n,e,t,i,r,o,s,a,c,l,u){let h=wn+i,p=h+r,g=dq(h,p),y=typeof l=="function"?l():l;return g[Se]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function dq(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:jr);return t}function hq(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=GD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function KD(n,e,t,i,r,o,s,a,c,l,u){let h=e.blueprint.slice();return h[ao]=r,h[Ne]=i|4|128|8|64|1024,(l!==null||n&&n[Ne]&2048)&&(h[Ne]|=2048),fx(h),h[Ln]=h[$l]=n,h[En]=t,h[Go]=s||n&&n[Go],h[Gt]=a||n&&n[Gt],h[Qd]=c||n&&n[Qd]||null,h[kr]=o,h[Mp]=I9(),h[Kd]=u,h[ax]=l,h[ur]=e.type==2?n[ur]:h,h}function fq(n,e,t){let i=lo(e,n),r=hq(t),o=n[Go].rendererFactory,s=YD(n,KD(n,r,null,GF(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function GF(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function KF(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function YD(n,e){return n[Xd]?n[sx][Rr]=e:n[Xd]=e,n[sx]=e,e}function L(n=1){YF(Cn(),He(),sa()+n,!1)}function YF(n,e,t,i){if(!i)if((e[Ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&fy(e,o,t)}else{let o=n.preOrderHooks;o!==null&&py(e,o,0,t)}rc(t)}var qy=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(qy||{});function aD(n,e,t,i){let r=ke(null);try{let[o,s,a]=n.inputs[t],c=null;(s&qy.SignalBased)!==0&&(c=e[o][di]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,c,i,t,o):oF(e,c,o,i)}finally{ke(r)}}var Zo=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Zo||{}),pq;function QD(n,e){return pq(n,e)}var Wy=new Set;function nh(n,e,t,i,r,o){if(i!=null){let s,a=!1;co(i)?s=i:Yo(i)&&(a=!0,i=i[ao]);let c=Or(i);n===0&&t!==null?r==null?HF(e,t,c):Iy(e,t,c,r||null,!0):n===1&&t!==null?Iy(e,t,c,r||null,!0):n===2?VN(o,l=>{qF(e,c,a,l)}):n===3&&VN(o,()=>{e.destroyNode(c)}),s!=null&&Tq(e,n,s,t,r)}}function gq(n,e){QF(n,e),e[ao]=null,e[kr]=null}function mq(n,e,t,i,r,o){i[ao]=r,i[kr]=e,Ky(n,i,t,1,r,o)}function QF(n,e){e[Go].changeDetectionScheduler?.notify(9),Ky(n,e,e[Gt],2,null,null)}function _q(n){let e=n[Xd];if(!e)return Vx(n[Se],n);for(;e;){let t=null;if(Yo(e))t=e[Xd];else{let i=e[Sn];i&&(t=i)}if(!t){for(;e&&!e[Rr]&&e!==n;)Yo(e)&&Vx(e[Se],e),e=e[Ln];e===null&&(e=n),Yo(e)&&Vx(e[Se],e),t=e&&e[Rr]}e=t}}function XD(n,e){let t=n[ql],i=t.indexOf(e);t.splice(i,1)}function Gy(n,e){if(Wl(e))return;let t=e[Gt];t.destroyNode&&Ky(n,e,t,3,null,null),_q(e)}function Vx(n,e){if(Wl(e))return;let t=ke(null);try{e[Ne]&=-129,e[Ne]|=256,e[dr]&&Pl(e[dr]),bq(n,e),yq(n,e),e[Se].type===1&&e[Gt].destroy();let i=e[Za];if(i!==null&&co(e[Ln])){i!==e[Ln]&&XD(i,e);let r=e[Ko];r!==null&&r.detachView(n)}Qx(e)}finally{ke(t)}}function VN(n,e){if(n&&n[ti]&&n[ti].leave)if(n[ti].skipLeaveAnimations)n[ti].skipLeaveAnimations=!1;else{let t=n[ti].leave,i=[];for(let r=0;r<t.length;r++){let o=t[r];i.push(o())}n[ti].running=Promise.allSettled(i),n[ti].leave=void 0}vq(n,e)}function vq(n,e){if(n&&n[ti]&&n[ti].running){n[ti].running.then(()=>{n[ti]&&n[ti].running&&(n[ti].running=void 0),Wy.delete(n),e(!0)});return}e(!1)}function yq(n,e){let t=n.cleanup,i=e[Yd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[t[s+1]];t[s].call(a)}i!==null&&(e[Yd]=null);let r=e[Zs];if(r!==null){e[Zs]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[oa];if(o!==null){e[oa]=null;for(let s of o)s.destroy()}}function bq(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Yl)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Dt(4,a,c);try{c.call(a)}finally{Dt(5,a,c)}}else{Dt(4,r,o);try{o.call(r)}finally{Dt(5,r,o)}}}}}function Eq(n,e,t){return wq(n,e.parent,t)}function wq(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ao];if(tc(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===ca.None||r===ca.Emulated)return null}return lo(i,t)}function Cq(n,e,t){return xq(n,e,t)}function Iq(n,e,t){return n.type&40?lo(n,t):null}var xq=Iq,jN;function JD(n,e,t,i){let r=Eq(n,i,e),o=e[Gt],s=i.parent||e[kr],a=Cq(s,i,e);if(r!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)LN(o,r,t[c],a,!1);else LN(o,r,t,a,!1);jN!==void 0&&jN(o,i,e,t,r)}function Vp(n,e){if(e!==null){let t=e.type;if(t&3)return lo(e,n);if(t&4)return cD(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Vp(n,i);{let r=n[e.index];return co(r)?cD(-1,r):Or(r)}}else{if(t&128)return Vp(n,e.next);if(t&32)return QD(e,n)()||Or(n[e.index]);{let i=XF(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Qa(n[ur]);return Vp(r,i)}else return Vp(n,e.next)}}}return null}function XF(n,e){if(e!==null){let i=n[ur][kr],r=e.projection;return i.projection[r]}return null}function cD(n,e){let t=Sn+n+1;if(t<e.length){let i=e[t],r=i[Se].firstChild;if(r!==null)return Vp(i,r)}return e[ec]}function ZD(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],c=t.type;if(s&&e===0&&(a&&oh(Or(a),i),t.flags|=2),!FD(t))if(c&8)ZD(n,e,t.child,i,r,o,!1),nh(e,n,r,a,o,i);else if(c&32){let l=QD(t,i),u;for(;u=l();)nh(e,n,r,u,o,i);nh(e,n,r,a,o,i)}else c&16?Dq(n,e,i,t,r,o):nh(e,n,r,a,o,i);t=s?t.projectionNext:t.next}}function Ky(n,e,t,i,r,o){ZD(t,i,n.firstChild,e,r,o,!1)}function Dq(n,e,t,i,r,o){let s=t[ur],c=s[kr].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];nh(e,n,r,u,o,t)}else{let l=c,u=s[Ln];EF(i)&&(l.flags|=128),ZD(n,e,l,u,r,o,!0)}}function Tq(n,e,t,i,r){let o=t[ec],s=Or(t);o!==s&&nh(e,n,i,o,r);for(let a=Sn;a<t.length;a++){let c=t[a];Ky(c[Se],c,n,e,i,o)}}function Sq(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Zo.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Zo.Important),n.setStyle(t,i,r,o))}}function JF(n,e,t,i,r){let o=sa(),s=i&2;try{rc(-1),s&&e.length>wn&&YF(n,e,wn,!1),Dt(s?2:0,r,t),t(i,r)}finally{rc(o),Dt(s?3:1,r,t)}}function eT(n,e,t){Oq(n,e,t),(t.flags&64)===64&&Nq(n,e,t)}function Yy(n,e,t=lo){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(e,n):n[s];n[r++]=a}}}function Aq(n,e,t,i){let o=i.get(AF,SF)||t===ca.ShadowDom,s=n.selectRootElement(e,o);return Mq(s),s}function Mq(n){Pq(n)}var Pq=()=>null;function Rq(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ZF(n,e,t,i,r,o){let s=e[Se];if(tT(n,s,e,t,i)){tc(n)&&kq(e,n.index);return}n.type&3&&(t=Rq(t)),e2(n,e,t,i,r,o)}function e2(n,e,t,i,r,o){if(n.type&3){let s=lo(n,e);i=o!=null?o(i,n.value||"",t):i,r.setProperty(s,t,i)}else n.type&12}function kq(n,e){let t=Nr(e,n);t[Ne]&16||(t[Ne]|=64)}function Oq(n,e,t){let i=t.directiveStart,r=t.directiveEnd;tc(t)&&fq(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||wy(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let a=n.data[s],c=Bp(e,n,s,t);if(oh(c,e),o!==null&&jq(e,s-i,c,a,t,o),Qo(a)){let l=Nr(t.index,e);l[En]=Bp(e,n,s,t)}}}function Nq(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=gN();try{rc(o);for(let a=i;a<r;a++){let c=n.data[a],l=e[a];ty(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Fq(c,l)}}finally{rc(-1),ty(s)}}function Fq(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function t2(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];tq(e,o.selectors,!1)&&(i??=[],Qo(o)?i.unshift(o):i.push(o))}return i}function Lq(n,e,t,i,r,o){let s=lo(n,e);Vq(e[Gt],s,o,n.value,t,i,r)}function Vq(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let a=s==null?Xa(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}function jq(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];aD(i,t,c,l)}}function n2(n,e,t,i,r){let o=wn+t,s=e[Se],a=r(s,e,n,i,t);e[o]=a,Zd(n,!0);let c=n.type===2;return c?(WF(e[Gt],a,n),(sN()===0||Rp(n))&&oh(a,e),aN()):oh(a,e),oy()&&(!c||!FD(n))&&JD(s,e,a,n),n}function i2(n){let e=n;return Cx()?uN():(e=e.parent,Zd(e,!1)),e}function Bq(n,e){let t=n[Qd];if(!t)return;let i;try{i=t.get(ji,null)}catch{i=null}i?.(e)}function tT(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],h=e.data[l];aD(h,t[l],u,r),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];aD(u,l,i,r),a=!0}return a}function Uq(n,e){let t=Nr(e,n),i=t[Se];$q(i,t);let r=t[ao];r!==null&&t[Kd]===null&&(t[Kd]=MF(r,t[Qd])),Dt(18),nT(i,t,t[En]),Dt(19,t[En])}function $q(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function nT(n,e,t){iy(e);try{let i=n.viewQuery;i!==null&&Jx(1,i,t);let r=n.template;r!==null&&JF(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ko]?.finishViewCreation(n),n.staticContentQueries&&PF(n,e),n.staticViewQueries&&Jx(2,n.viewQuery,t);let o=n.components;o!==null&&zq(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ne]&=-5,ry()}}function zq(n,e){for(let t=0;t<e.length;t++)Uq(n,e[t])}function Qy(n,e,t,i){let r=ke(null);try{let o=e.tView,a=n[Ne]&4096?4096:16,c=KD(n,o,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];c[Za]=l;let u=n[Ko];return u!==null&&(c[Ko]=u.createEmbeddedView(o)),nT(o,c,t),c}finally{ke(r)}}function Up(n,e){return!e||e.firstChild===null||EF(n)}function $p(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Or(o)),co(o)&&r2(o,i);let s=t.type;if(s&8)$p(n,e,t.child,i);else if(s&32){let a=QD(t,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=XF(e,t);if(Array.isArray(a))i.push(...a);else{let c=Qa(e[ur]);$p(c[Se],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function r2(n,e){for(let t=Sn;t<n.length;t++){let i=n[t],r=i[Se].firstChild;r!==null&&$p(i[Se],i,r,e)}n[ec]!==n[ao]&&e.push(n[ec])}function o2(n){if(n[Hl]!==null){for(let e of n[Hl])e.impl.addSequence(e);n[Hl].length=0}}var s2=[];function Hq(n){return n[dr]??qq(n)}function qq(n){let e=s2.pop()??Object.create(Gq);return e.lView=n,e}function Wq(n){n.lView[dr]!==n&&(n.lView=null,s2.push(n))}var Gq=ge(Y({},Al),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nc(n.lView)},consumerOnSignalRead(){this.lView[dr]=this}});function Kq(n){let e=n[dr]??Object.create(Yq);return e.lView=n,e}var Yq=ge(Y({},Al),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qa(n.lView);for(;e&&!a2(e[Se]);)e=Qa(e);e&&px(e)},consumerOnSignalRead(){this.lView[dr]=this}});function a2(n){return n.type!==2}function c2(n){if(n[oa]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[oa])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[Ne]&8192)}}var Qq=100;function l2(n,e=0){let i=n[Go].rendererFactory,r=!1;r||i.begin?.();try{Xq(n,e)}finally{r||i.end?.()}}function Xq(n,e){let t=Ix();try{eh(!0),lD(n,e);let i=0;for(;Op(n);){if(i===Qq)throw new re(103,!1);i++,lD(n,1)}}finally{eh(t)}}function Jq(n,e,t,i){if(Wl(e))return;let r=e[Ne],o=!1,s=!1;iy(e);let a=!0,c=null,l=null;o||(a2(n)?(l=Hq(e),c=Ml(l)):pv()===null?(a=!1,l=Kq(e),c=Ml(l)):e[dr]&&(Pl(e[dr]),e[dr]=null));try{fx(e),hN(n.bindingStartIndex),t!==null&&JF(n,e,t,2,i),Zq(e);let u=(r&3)===3;if(!o)if(u){let g=n.preOrderCheckHooks;g!==null&&fy(e,g,null)}else{let g=n.preOrderHooks;g!==null&&py(e,g,0,null),Fx(e,0)}if(s||eW(e),c2(e),u2(e,0),n.contentQueries!==null&&PF(n,e),!o)if(u){let g=n.contentCheckHooks;g!==null&&fy(e,g)}else{let g=n.contentHooks;g!==null&&py(e,g,1),Fx(e,1)}nW(n,e);let h=n.components;h!==null&&h2(e,h,0);let p=n.viewQuery;if(p!==null&&Jx(2,p,i),!o)if(u){let g=n.viewCheckHooks;g!==null&&fy(e,g)}else{let g=n.viewHooks;g!==null&&py(e,g,2),Fx(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Jv]){for(let g of e[Jv])g();e[Jv]=null}o||(o2(e),e[Ne]&=-73)}catch(u){throw o||nc(e),u}finally{l!==null&&(Sd(l,c),a&&Wq(l)),ry()}}function Zq(n){let e=n[ti];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function u2(n,e){for(let t=CF(n);t!==null;t=IF(t))for(let i=Sn;i<t.length;i++){let r=t[i];d2(r,e)}}function eW(n){for(let e=CF(n);e!==null;e=IF(e)){if(!(e[Ne]&2))continue;let t=e[ql];for(let i=0;i<t.length;i++){let r=t[i];px(r)}}}function tW(n,e,t){Dt(18);let i=Nr(e,n);d2(i,t),Dt(19,i[En])}function d2(n,e){Zv(n)&&lD(n,e)}function lD(n,e){let i=n[Se],r=n[Ne],o=n[dr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Ad(o)),s||=!1,o&&(o.dirty=!1),n[Ne]&=-9217,s)Jq(i,n,i.template,n[En]);else if(r&8192){let a=ke(null);try{c2(n),u2(n,1);let c=i.components;c!==null&&h2(n,c,1),o2(n)}finally{ke(a)}}}function h2(n,e,t){for(let i=0;i<e.length;i++)tW(n,e[i],t)}function nW(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)rc(~r);else{let o=r,s=t[++i],a=t[++i];pN(s,o);let c=e[o];Dt(24,c),a(2,c),Dt(25,c)}}}finally{rc(-1)}}function iT(n,e){let t=Ix()?64:1088;for(n[Go].changeDetectionScheduler?.notify(e);n;){n[Ne]|=t;let i=Qa(n);if(Jd(n)&&!i)return n;n=i}return null}function f2(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function p2(n,e){let t=Sn+e;if(t<n.length)return n[t]}function Xy(n,e,t,i=!0){let r=e[Se];if(iW(r,e,n,t),i){let s=cD(t,n),a=e[Gt],c=a.parentNode(n[ec]);c!==null&&mq(r,n[kr],a,e,c,s)}let o=e[Kd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function g2(n,e){let t=zp(n,e);return t!==void 0&&Gy(t[Se],t),t}function zp(n,e){if(n.length<=Sn)return;let t=Sn+e,i=n[t];if(i){let r=i[Za];r!==null&&r!==n&&XD(r,i),e>0&&(n[t-1][Rr]=i[Rr]);let o=Tp(n,Sn+e);gq(i[Se],i);let s=o[Ko];s!==null&&s.detachView(o[Se]),i[Ln]=null,i[Rr]=null,i[Ne]&=-129}return i}function iW(n,e,t,i){let r=Sn+i,o=t.length;i>0&&(t[r-1][Rr]=e),i<o-Sn?(e[Rr]=t[r],JI(t,Sn+i,e)):(t.push(e),e[Rr]=null),e[Ln]=t;let s=e[Za];s!==null&&t!==s&&m2(s,e);let a=e[Ko];a!==null&&a.insertView(n),ey(e),e[Ne]|=128}function m2(n,e){let t=n[ql],i=e[Ln];if(Yo(i))n[Ne]|=2;else{let r=i[Ln][ur];e[ur]!==r&&(n[Ne]|=2)}t===null?n[ql]=[e]:t.push(e)}var oc=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Se];return $p(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[En]}set context(e){this._lView[En]=e}get destroyed(){return Wl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ln];if(co(e)){let t=e[Pp],i=t?t.indexOf(this):-1;i>-1&&(zp(e,i),Tp(t,i))}this._attachedToViewContainer=!1}Gy(this._lView[Se],this._lView)}onDestroy(e){gx(this._lView,e)}markForCheck(){iT(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ne]&=-129}reattach(){ey(this._lView),this._lView[Ne]|=128}detectChanges(){this._lView[Ne]|=1024,l2(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jd(this._lView),t=this._lView[Za];t!==null&&!e&&XD(t,this._lView),QF(this._lView[Se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e;let t=Jd(this._lView),i=this._lView[Za];i!==null&&!t&&m2(i,this._lView),ey(this._lView)}};var Ql=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rW;constructor(t,i,r){this._declarationLView=t,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,r){let o=Qy(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:r});return new oc(o)}}return n})();function rW(){return rT(Qn(),He())}function rT(n,e){return n.type&4?new Ql(e,n,ch(n,e)):null}function Yp(n,e,t,i,r){let o=n.data[e];if(o===null)o=oW(n,e,t,i,r),fN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=lN();o.injectorIndex=s===null?-1:s.injectorIndex}return Zd(o,!0),o}function oW(n,e,t,i,r){let o=wx(),s=Cx(),a=s?o:o&&o.parent,c=n.data[e]=aW(n,a,t,e,i,r);return sW(n,c,o,s),c}function sW(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function aW(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return cN()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ive=new RegExp(`^(\\d+)*(${S9}|${T9})*(.*)`);function cW(n){let e=n[cx]??[],i=n[Ln][Gt],r=[];for(let o of e)o.data[TF]!==void 0?r.push(o):lW(o,i);n[cx]=r}function lW(n,e){let t=0,i=n.firstChild;if(i){let r=n.data[DF];for(;t<r;){let o=i.nextSibling;qF(e,i,!1),i=o,t++}}}var uW=()=>null,dW=()=>null;function uD(n,e){return uW(n,e)}function _2(n,e,t){return dW(n,e,t)}var v2=class{},Jy=class{},dD=class{resolveComponentFactory(e){throw new re(917,!1)}},Qp=class{static NULL=new dD},Xl=class{},po=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>hW()}return n})();function hW(){let n=He(),e=Qn(),t=Nr(e.index,n);return(Yo(t)?t:n)[Gt]}var y2=(()=>{class n{static \u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}return n})();var my={},hD=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){let r=this.injector.get(e,my,i);return r!==my||t===my?r:this.parentInjector.get(e,t,i)}};function xy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=$I(r,a);else if(o==2){let c=a,l=e[++s];i=$I(i,c+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function me(n,e=0){let t=He();if(t===null)return be(n,e);let i=Qn();return vF(i,t,ei(n),e)}function oT(){let n="invalid";throw new Error(n)}function b2(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}gW(n,e,t,a,o,c,l)}o!==null&&i!==null&&fW(t,i,o)}function fW(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new re(-301,!1);i.push(e[r],o)}}function pW(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gW(n,e,t,i,r,o,s){let a=i.length,c=!1;for(let p=0;p<a;p++){let g=i[p];!c&&Qo(g)&&(c=!0,pW(n,t,p)),Kx(wy(t,e),n,g.type)}EW(t,n.data.length,a);for(let p=0;p<a;p++){let g=i[p];g.providersResolver&&g.providersResolver(g)}let l=!1,u=!1,h=KF(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let g=i[p];if(t.mergedAttrs=rh(t.mergedAttrs,g.hostAttrs),_W(n,t,e,h,g),bW(h,g,r),s!==null&&s.has(g)){let[E,b]=s.get(g);t.directiveToIndex.set(g.type,[h,E+t.directiveStart,b+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let y=g.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}mW(n,t,o)}function mW(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))BN(0,e,r,i),BN(1,e,r,i),$N(e,i,!1);else{let o=t.get(r);UN(0,e,o,i),UN(1,e,o,i),$N(e,i,!0)}}}function BN(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),E2(e,o)}}function UN(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),E2(e,s)}}function E2(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function $N(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||WD(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&r.hasOwnProperty(c)){let l=r[c];for(let u of l)if(u===e){s??=[],s.push(c,i[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function _W(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Ya(r.type,!0)),s=new Yl(o,Qo(r),me,null);n.blueprint[i]=s,t[i]=s,vW(n,e,i,KF(n,t,r.hostVars,jr),r)}function vW(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yW(s)!=a&&s.push(a),s.push(t,i,o)}}function yW(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bW(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Qo(e)&&(t[""]=n)}}function EW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function w2(n,e,t,i,r,o,s,a){let c=e[Se],l=c.consts,u=Fr(l,s),h=Yp(c,n,t,i,u);return o&&b2(c,e,h,Fr(l,a),r),h.mergedAttrs=rh(h.mergedAttrs,h.attrs),h.attrs!==null&&xy(h,h.attrs,!1),h.mergedAttrs!==null&&xy(h,h.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,h),h}function C2(n,e){lF(n,e),lx(e)&&n.queries.elementEnd(e)}function wW(n,e,t,i,r,o){let s=e.consts,a=Fr(s,r),c=Yp(e,n,t,i,a);if(c.mergedAttrs=rh(c.mergedAttrs,c.attrs),o!=null){let l=Fr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&xy(c,c.attrs,!1),c.mergedAttrs!==null&&xy(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function I2(n,e,t){return n[e]=t}function ho(n,e,t){if(t===jr)return!1;let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function x2(n,e,t,i){let r=ho(n,e,t);return ho(n,e+1,i)||r}function _y(n,e,t){return function i(r){let o=tc(n)?Nr(n.index,e):e;iT(o,5);let s=e[En],a=zN(e,s,t,r),c=i.__ngNextListenerFn__;for(;c;)a=zN(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function zN(n,e,t,i){let r=ke(null);try{return Dt(6,e,t),t(i)!==!1}catch(o){return Bq(n,o),!1}finally{Dt(7,e,t),ke(r)}}function D2(n,e,t,i,r,o,s,a){let c=Rp(n),l=!1,u=null;if(!i&&c&&(u=IW(e,t,o,n.index)),u!==null){let h=u.__ngLastListenerFn__||u;h.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let h=lo(n,t),p=i?i(h):h;M9(t,p,o,a);let g=r.listen(p,o,a);if(!CW(o)){let y=i?E=>i(Or(E[n.index])):n.index;T2(y,e,t,o,a,g,!1)}}return l}function CW(n){return n.startsWith("animation")||n.startsWith("transition")}function IW(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=e[Yd],c=r[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function T2(n,e,t,i,r,o,s){let a=e.firstCreatePass?_x(e):null,c=mx(t),l=c.length;c.push(r,o),a&&a.push(i,n,l,(l+1)*(s?-1:1))}function HN(n,e,t,i,r,o){let s=e[t],a=e[Se],l=a.data[t].outputs[i],h=s[l].subscribe(o);T2(n.index,a,e,r,o,h,!0)}var fD=Symbol("BINDING");var Dy=class extends Qp{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ra(e);return new Jl(t,this.ngModule)}};function xW(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&qy.SignalBased)!==0};return r&&(o.transform=r),o})}function DW(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function TW(n,e,t){let i=e instanceof on?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new hD(t,i):t}function SW(n){let e=n.get(Xl,null);if(e===null)throw new re(407,!1);let t=n.get(y2,null),i=n.get(so,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function AW(n,e){let t=S2(n);return zF(e,t,t==="svg"?ZO:t==="math"?eN:null)}function S2(n){return(n.selectors[0][0]||"div").toLowerCase()}var Jl=class extends Jy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xW(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=DW(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=oq(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r,o,s){Dt(22);let a=ke(null);try{let c=this.componentDef,l=MW(i,c,s,o),u=TW(c,r||this.ngModule,e),h=SW(u),p=h.rendererFactory.createRenderer(null,c),g=i?Aq(p,i,c.encapsulation,u):AW(c,p),y=s?.some(qN)||o?.some(M=>typeof M!="function"&&M.bindings.some(qN)),E=KD(null,l,null,512|GF(c),null,null,h,p,u,null,MF(g,u,!0));E[wn]=g,iy(E);let b=null;try{let M=w2(wn,E,2,"#host",()=>l.directiveRegistry,!0,0);WF(p,g,M),oh(g,E),eT(l,E,M),RF(l,M,E),C2(l,M),t!==void 0&&RW(M,this.ngContentSelectors,t),b=Nr(M.index,E),E[En]=b[En],nT(l,E,null)}catch(M){throw b!==null&&Qx(b),Qx(E),M}finally{Dt(23),ry()}return new Ty(this.componentType,E,!!y)}finally{ke(a)}}};function MW(n,e,t,i){let r=n?["ng-version","20.3.3"]:sq(e.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[fD].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(i)for(let u=0;u<i.length;u++){let h=i[u];if(typeof h!="function")for(let p of h.bindings){a+=p[fD].requiredVars;let g=u+1;p.create&&(p.targetIdx=g,(o??=[]).push(p)),p.update&&(p.targetIdx=g,(s??=[]).push(p))}}let c=[e];if(i)for(let u of i){let h=typeof u=="function"?u:u.type,p=nx(h);c.push(p)}return GD(0,null,PW(o,s),1,a,c,null,null,null,[r],null)}function PW(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let i of n)i.create();if(t&2&&e)for(let i of e)i.update()}}function qN(n){let e=n[fD].kind;return e==="input"||e==="twoWay"}var Ty=class extends v2{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=kp(t[Se],wn),this.location=ch(this._tNode,t),this.instance=Nr(this._tNode.index,t)[En],this.hostView=this.changeDetectorRef=new oc(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=tT(i,r[Se],r,e,t);this.previousInputValues.set(e,t);let s=Nr(i.index,r);iT(s,1)}get injector(){return new Kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function RW(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var ac=(()=>{class n{static __NG_ELEMENT_ID__=kW}return n})();function kW(){let n=Qn();return M2(n,He())}var OW=ac,A2=class extends OW{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ch(this._hostTNode,this._hostLView)}get injector(){return new Kl(this._hostTNode,this._hostLView)}get parentInjector(){let e=RD(this._hostTNode,this._hostLView);if(hF(e)){let t=by(e,this._hostLView),i=yy(e),r=t[Se].data[i+8];return new Kl(r,t)}else return new Kl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=WN(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=uD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Up(this._hostTNode,s)),a}createComponent(e,t,i,r,o,s,a){let c=e&&!t9(e),l;if(c)l=t;else{let b=t||{};l=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef,s=b.directives,a=b.bindings}let u=c?e:new Jl(ra(e)),h=i||this.parentInjector;if(!o&&u.ngModule==null){let M=(c?h:this.parentInjector).get(on,null);M&&(o=M)}let p=ra(u.componentType??{}),g=uD(this._lContainer,p?.id??null),y=g?.firstChild??null,E=u.create(h,r,y,o,s,a);return this.insertImpl(E.hostView,l,Up(this._hostTNode,g)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(nN(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Ln],l=new A2(c,c[kr],c[Ln]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xy(s,r,o,i),e.attachToViewContainerRef(),JI(jx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=WN(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=zp(this._lContainer,t);i&&(Tp(jx(this._lContainer),t),Gy(i[Se],i))}detach(e){let t=this._adjustIndex(e,-1),i=zp(this._lContainer,t);return i&&Tp(jx(this._lContainer),t)!=null?new oc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function WN(n){return n[Pp]}function jx(n){return n[Pp]||(n[Pp]=[])}function M2(n,e){let t,i=e[n.index];return co(i)?t=i:(t=f2(i,e,null,n),e[n.index]=t,YD(e,t)),FW(t,e,n,i),new A2(t,n,e)}function NW(n,e){let t=n[Gt],i=t.createComment(""),r=lo(e,n),o=t.parentNode(r);return Iy(t,o,i,t.nextSibling(r),!1),i}var FW=jW,LW=()=>!1;function VW(n,e,t){return LW(n,e,t)}function jW(n,e,t,i){if(n[ec])return;let r;t.type&8?r=Or(i):r=NW(e,t),n[ec]=r}var pD=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},gD=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)sT(e,t).matches!==null&&this.queries[t].setDirty()}},mD=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=GW(e):this.predicate=e}},_D=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vD=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,BW(t,o)),this.matchTNodeWithReadOption(e,t,gy(t,e,o,!1,!1))}else i===Ql?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,gy(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===xi||r===ac||r===Ql&&t.type&4)this.addMatch(t.index,-2);else{let o=gy(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function BW(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function UW(n,e){return n.type&11?ch(n,e):n.type&4?rT(n,e):null}function $W(n,e,t,i){return t===-1?UW(e,n):t===-2?zW(n,e,i):Bp(n,n[Se],t,e)}function zW(n,e,t){if(t===xi)return ch(e,n);if(t===Ql)return rT(e,n);if(t===ac)return M2(e,n)}function P2(n,e,t,i){let r=e[Ko].queries[i];if(r.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push($W(e,u,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function yD(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=P2(n,e,r,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let h=Sn;h<u.length;h++){let p=u[h];p[Za]===p[Ln]&&yD(p[Se],p,l,i)}if(u[ql]!==null){let h=u[ql];for(let p=0;p<h.length;p++){let g=h[p];yD(g[Se],g,l,i)}}}}}return i}function HW(n,e){return n[Ko].queries[e].queryList}function qW(n,e,t){let i=new Cy((t&4)===4);return oN(n,e,i,i.destroy),(e[Ko]??=new gD).queries.push(new pD(i))-1}function WW(n,e,t){let i=Cn();return i.firstCreatePass&&(KW(i,new mD(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),qW(i,He(),e)}function GW(n){return n.split(",").map(e=>e.trim())}function KW(n,e,t){n.queries===null&&(n.queries=new _D),n.queries.track(new vD(e,t))}function sT(n,e){return n.queries.getByIndex(e)}function YW(n,e){let t=n[Se],i=sT(t,e);return i.crossesNgTemplate?yD(t,n,e,[]):P2(t,n,i,e)}var GN=new Set;function ns(n){GN.has(n)||(GN.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Zl=class{},Zy=class{};var Sy=class extends Zl{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dy(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=tx(e);this._bootstrapComponents=UF(o.bootstrap),this._r3Injector=Mx(e,t,[{provide:Zl,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver},...i],ta(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ay=class extends Zy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sy(this.moduleType,e,[])}};var Hp=class extends Zl{injector;componentFactoryResolver=new Dy(this);instance=null;constructor(e){super();let t=new Bl([...e.providers,{provide:Zl,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lh(n,e,t=null){return new Hp({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var QW=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=ix(!1,t.type),r=i.length>0?lh([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(be(on))})}return n})();function mt(n){return ah(()=>{let e=R2(n),t=ge(Y({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(QW).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ca.Emulated,styles:n.styles||ar,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ns("NgStandalone"),k2(t);let i=n.dependencies;return t.directiveDefs=KN(i,XW),t.pipeDefs=KN(i,WO),t.id=e7(t),t})}function XW(n){return ra(n)||nx(n)}function Br(n){return ah(()=>({type:n.type,bootstrap:n.bootstrap||ar,declarations:n.declarations||ar,imports:n.imports||ar,exports:n.exports||ar,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function JW(n,e){if(n==null)return Ja;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=qy.None,c=null),t[o]=[i,a,c],e[o]=s}return t}function ZW(n){if(n==null)return Ja;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Yt(n){return ah(()=>{let e=R2(n);return k2(e),e})}function cc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function R2(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ja,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ar,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:JW(n.inputs,e),outputs:ZW(n.outputs),debugInfo:null}}function k2(n){n.features?.forEach(e=>e(n))}function KN(n,e){return n?()=>{let t=typeof n=="function"?n():n,i=[];for(let r of t){let o=e(r);o!==null&&i.push(o)}return i}:null}function e7(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function t7(n){return Object.getPrototypeOf(n.prototype).constructor}function Ui(n){let e=t7(n.type),t=!0,i=[n];for(;e;){let r;if(Qo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Bx(n.inputs),s.declaredInputs=Bx(n.declaredInputs),s.outputs=Bx(n.outputs);let a=r.hostBindings;a&&s7(n,a);let c=r.viewQuery,l=r.contentQueries;if(c&&r7(n,c),l&&o7(n,l),n7(n,r),FO(n.outputs,r.outputs),Qo(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ui&&(t=!1)}}e=Object.getPrototypeOf(e)}i7(i)}function n7(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function i7(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=rh(r.hostAttrs,t=rh(t,r.hostAttrs))}}function Bx(n){return n===Ja?{}:n===ar?[]:n}function r7(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function o7(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function s7(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function O2(n,e,t,i,r,o,s,a){if(t.firstCreatePass){n.mergedAttrs=rh(n.mergedAttrs,n.attrs);let u=n.tView=GD(2,n,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Zd(n,!1);let c=c7(t,e,n,i);oy()&&JD(t,e,c,n),oh(c,e);let l=f2(c,e,c,n);e[i+wn]=l,YD(e,l),VW(l,n,e)}function a7(n,e,t,i,r,o,s,a,c,l,u){let h=t+wn,p;return e.firstCreatePass?(p=Yp(e,h,4,s||null,a||null),yx()&&b2(e,n,p,Fr(e.consts,l),t2),lF(e,p)):p=e.data[h],O2(p,n,e,t,i,r,o,c),Rp(p)&&eT(e,n,p),l!=null&&Yy(n,p,u),p}function My(n,e,t,i,r,o,s,a,c,l,u){let h=t+wn,p;if(e.firstCreatePass){if(p=Yp(e,h,4,s||null,a||null),l!=null){let g=Fr(e.consts,l);p.localNames=[];for(let y=0;y<g.length;y+=2)p.localNames.push(g[y],-1)}}else p=e.data[h];return O2(p,n,e,t,i,r,o,c),l!=null&&Yy(n,p,u),p}function $i(n,e,t,i,r,o,s,a){let c=He(),l=Cn(),u=Fr(l.consts,o);return a7(c,l,n,e,t,i,r,u,void 0,s,a),$i}var c7=l7;function l7(n,e,t,i){return sy(!0),e[Gt].createComment("")}var e0=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(e0||{}),tu=new le(""),N2=!1,bD=class extends yn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,XO()&&(this.destroyRef=z(Ii,{optional:!0})??void 0,this.pendingTasks=z(Xo,{optional:!0})??void 0)}emit(e){let t=ke(null);try{super.next(e)}finally{ke(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof en&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},sn=bD;function F2(n){let e,t;function i(){n=Gl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function YN(n){return queueMicrotask(()=>n()),()=>{n=Gl}}var aT="isAngularZone",Py=aT+"_ID",u7=0,ft=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new sn(!1);onMicrotaskEmpty=new sn(!1);onStable=new sn(!1);onError=new sn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=N2}=e;if(typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,f7(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(aT)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new re(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,d7,Gl,Gl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},d7={};function cT(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function h7(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){F2(()=>{n.callbackScheduled=!1,ED(n),n.isCheckStableRunning=!0,cT(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ED(n)}function f7(n){let e=()=>{h7(n)},t=u7++;n._inner=n._inner.fork({name:"angular",properties:{[aT]:!0,[Py]:t,[Py+t]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(p7(c))return i.invokeTask(o,s,a,c);try{return QN(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),XN(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return QN(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!g7(c)&&e(),XN(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ED(n),cT(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ED(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function QN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XN(n){n._nesting--,cT(n)}var Ry=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new sn;onMicrotaskEmpty=new sn;onStable=new sn;onError=new sn;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function p7(n){return L2(n,"__ignore_ng_zone__")}function g7(n){return L2(n,"__scheduler_tick__")}function L2(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var lT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})(),V2=[0,1,2,3],j2=(()=>{class n{ngZone=z(ft);scheduler=z(so);errorHandler=z(Mr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){z(tu,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Dt(16),this.executing=!0;for(let i of V2)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Dt(17)}register(t){let{view:i}=t;i!==void 0?((i[Hl]??=[]).push(t),nc(i),i[Ne]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(e0.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}return n})(),ky=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o,s=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Hl];e&&(this.view[Hl]=e.filter(t=>t!==this))}};function Xp(n,e){let t=e?.injector??z(Wt);return ns("NgAfterNextRender"),_7(n,t,e,!0)}function m7(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function _7(n,e,t,i){let r=e.get(lT);r.impl??=e.get(j2);let o=e.get(tu,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Ii):null,a=e.get(th,null,{optional:!0}),c=new ky(r.impl,m7(n),a?.view,i,s,o?.snapshot(null));return r.impl.register(c),c}var t0=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uT=new le("");function lc(n){return!!n&&typeof n.then=="function"}function dT(n){return!!n&&typeof n.subscribe=="function"}var hT=new le("");function n0(n){return Vi([{provide:hT,multi:!0,useValue:n}])}var fT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=z(hT,{optional:!0})??[];injector=z(Wt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=fn(this.injector,r);if(lc(o))t.push(o);else if(dT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jp=new le("");function B2(){lI(()=>{let n="";throw new re(600,n)})}function U2(n){return n.isBoundToModule}var v7=10;var is=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(ji);afterRenderManager=z(lT);zonelessEnabled=z(Fp);rootEffectScheduler=z(Lp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new yn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=z(Xo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ge(t=>!t))}constructor(){z(tu,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=z(on);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Wt.NULL){return this._injector.get(ft).run(()=>{Dt(10);let s=t instanceof Jy;if(!this._injector.get(fT).done){let y="";throw new re(405,y)}let c;s?c=t:c=this._injector.get(Qp).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=U2(c)?void 0:this._injector.get(Zl),u=i||c.selector,h=c.create(r,[],u,l),p=h.location.nativeElement,g=h.injector.get(uT,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),jp(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Dt(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Dt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(e0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new re(101,!1);let t=ke(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ke(t),this.afterTick.next(),Dt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xl,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<v7;)Dt(14),this.synchronizeOnce(),Dt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Op(r))continue;let o=i&&!this.zonelessEnabled?0:1;l2(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Op(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;jp(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(Jp,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new re(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function go(n,e,t,i){let r=He(),o=ic();if(ho(r,o,e)){let s=Cn(),a=Np();Lq(a,r,n,e,t,i)}return go}var uve=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var wD=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e,!0))}};function Ux(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function y7(n,e,t){let i,r,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),u=e[o],h=Ux(o,l,o,u,t);if(h!==0){h<0&&n.updateValue(o,u),o++;continue}let p=n.at(s),g=e[c],y=Ux(s,p,c,g,t);if(y!==0){y<0&&n.updateValue(s,g),s--,c--;continue}let E=t(o,l),b=t(s,p),M=t(o,u);if(Object.is(M,b)){let O=t(c,g);Object.is(O,E)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,u),o++;continue}if(i??=new Oy,r??=ZN(n,o,s,t),CD(n,i,o,M))n.updateValue(o,u),o++,s++;else if(r.has(M))i.set(E,n.detach(o)),s--;else{let O=n.create(o,e[o]);n.attach(o,O),o++,s++}}for(;o<=c;)JN(n,i,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=n.at(o),h=l.value,p=Ux(o,u,o,h,t);if(p!==0)p<0&&n.updateValue(o,h),o++,l=c.next();else{i??=new Oy,r??=ZN(n,o,s,t);let g=t(o,h);if(CD(n,i,o,g))n.updateValue(o,h),o++,s++,l=c.next();else if(!r.has(g))n.attach(o,n.create(o,h)),o++,s++,l=c.next();else{let y=t(o,u);i.set(y,n.detach(o)),s--}}}for(;!l.done;)JN(n,i,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(c=>{n.destroy(c)})}function CD(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function JN(n,e,t,i,r){if(CD(n,e,i,t(i,r)))n.updateValue(i,r);else{let o=n.create(i,r);n.attach(i,o)}}function ZN(n,e,t,i){let r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}var Oy=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function Le(n,e,t,i,r,o,s,a){ns("NgControlFlow");let c=He(),l=Cn(),u=Fr(l.consts,o);return My(c,l,n,e,t,i,r,u,256,s,a),pT}function pT(n,e,t,i,r,o,s,a){ns("NgControlFlow");let c=He(),l=Cn(),u=Fr(l.consts,o);return My(c,l,n,e,t,i,r,u,512,s,a),pT}function Ve(n,e){ns("NgControlFlow");let t=He(),i=ic(),r=t[i]!==jr?t[i]:-1,o=r!==-1?Ny(t,wn+r):void 0,s=0;if(ho(t,i,n)){let a=ke(null);try{if(o!==void 0&&g2(o,s),n!==-1){let c=wn+n,l=Ny(t,c),u=TD(t[Se],c),h=_2(l,u,t),p=Qy(t,u,e,{dehydratedView:h});Xy(l,p,s,Up(u,h))}}finally{ke(a)}}else if(o!==void 0){let a=p2(o,s);a!==void 0&&(a[En]=e)}}var ID=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Sn}};var xD=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Qt(n,e,t,i,r,o,s,a,c,l,u,h,p){ns("NgControlFlow");let g=He(),y=Cn(),E=c!==void 0,b=He(),M=a?s.bind(b[ur][En]):s,O=new xD(E,M);b[wn+n]=O,My(g,y,n+1,e,t,i,r,Fr(y.consts,o),256),E&&My(g,y,n+2,c,l,u,h,Fr(y.consts,p),512)}var DD=class extends wD{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-Sn}at(e){return this.getLView(e)[En].$implicit}attach(e,t){let i=t[Kd];this.needsIndexUpdate||=e!==this.length,Xy(this.lContainer,t,e,Up(this.templateTNode,i))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&b7(this.lContainer,e),E7(this.lContainer,e)}create(e,t){let i=uD(this.lContainer,this.templateTNode.tView.ssrId),r=Qy(this.hostLView,this.templateTNode,new ID(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Gy(e[Se],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[En].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[En].$index=e}getLView(e){return w7(this.lContainer,e)}};function Xt(n){let e=ke(null),t=sa();try{let i=He(),r=i[Se],o=i[t],s=t+1,a=Ny(i,s);if(o.liveCollection===void 0){let l=TD(r,s);o.liveCollection=new DD(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(y7(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=ic(),u=c.length===0;if(ho(i,l,u)){let h=t+2,p=Ny(i,h);if(u){let g=TD(r,h),y=_2(p,g,i),E=Qy(i,g,void 0,{dehydratedView:y});Xy(p,E,0,Up(g,y))}else r.firstUpdatePass&&cW(p),g2(p,0)}}}finally{ke(e)}}function Ny(n,e){return n[e]}function b7(n,e){if(n.length<=Sn)return;let t=Sn+e,i=n[t];i&&i[ti]&&(i[ti].skipLeaveAnimations=!0)}function E7(n,e){return zp(n,e)}function w7(n,e){return p2(n,e)}function TD(n,e){return kp(n,e)}function Ae(n,e,t){let i=He(),r=ic();if(ho(i,r,e)){let o=Cn(),s=Np();ZF(s,i,n,e,i[Gt],t)}return Ae}function eF(n,e,t,i,r){tT(e,n,t,r?"class":"style",i)}function I(n,e,t,i){let r=He(),o=r[Se],s=n+wn,a=o.firstCreatePass?w2(s,r,2,e,t2,yx(),t,i):o.data[s];if(n2(a,r,n,e,$2),Rp(a)){let c=r[Se];eT(c,r,a),RF(c,a,r)}return i!=null&&Yy(r,a),I}function S(){let n=Cn(),e=Qn(),t=i2(e);return n.firstCreatePass&&C2(n,t),bx(t)&&Ex(),vx(),t.classesWithoutHost!=null&&a9(t)&&eF(n,t,He(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&c9(t)&&eF(n,t,He(),t.stylesWithoutHost,!1),S}function Ee(n,e,t,i){return I(n,e,t,i),S(),Ee}function Z(n,e,t,i){let r=He(),o=r[Se],s=n+wn,a=o.firstCreatePass?wW(s,o,2,e,t,i):o.data[s];return n2(a,r,n,e,$2),i!=null&&Yy(r,a),Z}function ee(){let n=Qn(),e=i2(n);return bx(e)&&Ex(),vx(),ee}var $2=(n,e,t,i,r)=>(sy(!0),zF(e[Gt],i,EN()));function bt(){return He()}function Di(n,e,t){let i=He(),r=ic();if(ho(i,r,e)){let o=Cn(),s=Np();e2(s,i,n,e,i[Gt],t)}return Di}var dy=void 0;function C7(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var I7=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dy,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dy,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dy,"{1} 'at' {0}",dy],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",C7],$x={};function zi(n){let e=x7(n),t=tF(e);if(t)return t;let i=e.split("-")[0];if(t=tF(i),t)return t;if(i==="en")return I7;throw new re(701,!1)}function tF(n){return n in $x||($x[n]=Pr.ng&&Pr.ng.common&&Pr.ng.common.locales&&Pr.ng.common.locales[n]),$x[n]}var pn=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(pn||{});function x7(n){return n.toLowerCase().replace(/_/g,"-")}var Zp="en-US";var D7=Zp;function z2(n){typeof n=="string"&&(D7=n.toLowerCase().replace(/_/g,"-"))}function ce(n,e,t){let i=He(),r=Cn(),o=Qn();return H2(r,i,i[Gt],o,n,e,t),ce}function Jt(n,e,t){let i=He(),r=Cn(),o=Qn();return(o.type&3||t)&&D2(o,r,i,t,i[Gt],n,e,_y(o,i,e)),Jt}function H2(n,e,t,i,r,o,s){let a=!0,c=null;if((i.type&3||s)&&(c??=_y(i,e,o),D2(i,n,e,s,t,r,o,c)&&(a=!1)),a){let l=i.outputs?.[r],u=i.hostDirectiveOutputs?.[r];if(u&&u.length)for(let h=0;h<u.length;h+=2){let p=u[h],g=u[h+1];c??=_y(i,e,o),HN(i,e,p,g,r,c)}if(l&&l.length)for(let h of l)c??=_y(i,e,o),HN(i,e,h,r,r,c)}}function ne(n=1){return bN(n)}function gT(n,e,t){WW(n,e,t)}function i0(n){let e=He(),t=Cn(),i=Tx();ny(i+1);let r=sT(t,i);if(n.dirty&&tN(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=YW(e,i);n.reset(o,E9),n.notifyOnChanges()}return!0}return!1}function r0(){return HW(He(),Tx())}function hy(n,e){return n<<17|e<<2}function eu(n){return n>>17&32767}function T7(n){return(n&2)==2}function S7(n,e){return n&131071|e<<17}function SD(n){return n|2}function sh(n){return(n&131068)>>2}function zx(n,e){return n&-131069|e<<2}function A7(n){return(n&1)===1}function AD(n){return n|1}function M7(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=eu(s),c=sh(s);n[i]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Gd(h,u)>0)&&(l=!0)}else u=t;if(r)if(c!==0){let p=eu(n[a+1]);n[i+1]=hy(p,a),p!==0&&(n[p+1]=zx(n[p+1],i)),n[a+1]=S7(n[a+1],i)}else n[i+1]=hy(a,0),a!==0&&(n[a+1]=zx(n[a+1],i)),a=i;else n[i+1]=hy(c,0),a===0?a=i:n[c+1]=zx(n[c+1],i),c=i;l&&(n[i+1]=SD(n[i+1])),nF(n,u,i,!0),nF(n,u,i,!1),P7(e,u,n,i,o),s=hy(a,c),o?e.classBindings=s:e.styleBindings=s}function P7(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Gd(o,e)>=0&&(t[i+1]=AD(t[i+1]))}function nF(n,e,t,i){let r=n[t+1],o=e===null,s=i?eu(r):sh(r),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];R7(c,e)&&(a=!0,n[s+1]=i?AD(l):SD(l)),s=i?eu(l):sh(l)}a&&(n[t+1]=i?SD(r):AD(r))}function R7(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Gd(n,e)>=0:!1}function uh(n,e,t){return q2(n,e,t,!1),uh}function Ye(n,e){return q2(n,e,null,!0),Ye}function q2(n,e,t,i){let r=He(),o=Cn(),s=Dx(2);if(o.firstUpdatePass&&O7(o,n,s,i),e!==jr&&ho(r,s,e)){let a=o.data[sa()];j7(o,a,r,r[Gt],n,r[s+1]=B7(e,t),i,s)}}function k7(n,e){return e>=n.expandoStartIndex}function O7(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[sa()],s=k7(n,t);U7(o,i)&&e===null&&!s&&(e=!1),e=N7(r,o,e,i),M7(r,o,e,t,s,i)}}function N7(n,e,t,i){let r=mN(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Hx(null,n,e,t,i),t=qp(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Hx(r,n,e,t,i),o===null){let c=F7(n,e,i);c!==void 0&&Array.isArray(c)&&(c=Hx(null,n,e,c[1],i),c=qp(c,e.attrs,i),L7(n,e,i,c))}else o=V7(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function F7(n,e,t){let i=t?e.classBindings:e.styleBindings;if(sh(i)!==0)return n[eu(i)]}function L7(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[eu(r)]=i}function V7(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=qp(i,s,t)}return qp(i,e.attrs,t)}function Hx(n,e,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],i=qp(i,o.hostAttrs,r),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function qp(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),qO(n,s,t?!0:e[++o]))}return n===void 0?null:n}function j7(n,e,t,i,r,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=A7(l)?iF(c,e,t,r,sh(l),s):void 0;if(!Fy(u)){Fy(o)||T7(l)&&(o=iF(c,null,t,r,a,s));let h=ux(sa(),t);Sq(i,s,h,r,o)}}function iF(n,e,t,i,r,o){let s=e===null,a;for(;r>0;){let c=n[r],l=Array.isArray(c),u=l?c[1]:c,h=u===null,p=t[r+1];p===jr&&(p=h?ar:void 0);let g=h?Xv(p,i):u===i?p:void 0;if(l&&!Fy(g)&&(g=Xv(c,i)),Fy(g)&&(a=g,s))return a;let y=n[r+1];r=s?eu(y):sh(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Xv(c,i))}return a}function Fy(n){return n!==void 0}function B7(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ta(Lr(n)))),n}function U7(n,e){return(n.flags&(e?8:16))!==0}function C(n,e=""){let t=He(),i=Cn(),r=n+wn,o=i.firstCreatePass?Yp(i,r,1,e,null):i.data[r],s=$7(i,t,o,e,n);t[r]=s,oy()&&JD(i,t,s,o),Zd(o,!1)}var $7=(n,e,t,i,r)=>(sy(!0),aq(e[Gt],i));function z7(n,e,t,i=""){return ho(n,ic(),t)?e+Xa(t)+i:jr}function H7(n,e,t,i,r,o=""){let s=dN(),a=x2(n,s,t,r);return Dx(2),a?e+Xa(t)+i+Xa(r)+o:jr}function Ie(n){return Ze("",n),Ie}function Ze(n,e,t){let i=He(),r=z7(i,n,e,t);return r!==jr&&W2(i,sa(),r),Ze}function Hi(n,e,t,i,r){let o=He(),s=H7(o,n,e,t,i,r);return s!==jr&&W2(o,sa(),s),Hi}function W2(n,e,t){let i=ux(e,n);cq(n[Gt],i,t)}function mo(n,e,t){kx(e)&&(e=e());let i=He(),r=ic();if(ho(i,r,e)){let o=Cn(),s=Np();ZF(s,i,n,e,i[Gt],t)}return mo}function rs(n,e){let t=kx(n);return t&&n.set(e),t}function _o(n,e){let t=He(),i=Cn(),r=Qn();return H2(i,t,t[Gt],r,n,e),_o}function q7(n,e,t){let i=Cn();if(i.firstCreatePass){let r=Qo(n);MD(t,i.data,i.blueprint,r,!0),MD(e,i.data,i.blueprint,r,!1)}}function MD(n,e,t,i,r){if(n=ei(n),Array.isArray(n))for(let o=0;o<n.length;o++)MD(n[o],e,t,i,r);else{let o=Cn(),s=He(),a=Qn(),c=jl(n)?n:ei(n.provide),l=ox(n),u=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(jl(n)||!n.multi){let g=new Yl(l,r,me,null),y=Wx(c,e,r?u:u+p,h);y===-1?(Kx(wy(a,s),o,c),qx(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{let g=Wx(c,e,u+p,h),y=Wx(c,e,u,u+p),E=g>=0&&t[g],b=y>=0&&t[y];if(r&&!b||!r&&!E){Kx(wy(a,s),o,c);let M=K7(r?G7:W7,t.length,r,i,l,n);!r&&b&&(t[y].providerFactory=M),qx(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else{let M=G2(t[r?y:g],l,!r&&i);qx(o,n,g>-1?g:y,M)}!r&&i&&b&&t[y].componentProviders++}}}function qx(n,e,t,i){let r=jl(e),o=QO(e);if(r||o){let c=(o?ei(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function G2(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Wx(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function W7(n,e,t,i,r){return PD(this.multi,[])}function G7(n,e,t,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Bp(i,i[Se],this.providerFactory.index,r);s=c.slice(0,a),PD(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],PD(o,s);return s}function PD(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function K7(n,e,t,i,r,o){let s=new Yl(n,t,me,null);return s.multi=[],s.index=e,s.componentProviders=0,G2(s,r,i&&!t),s}function os(n,e=[]){return t=>{t.providersResolver=(i,r)=>q7(i,r?r(n):n,e)}}function K2(n,e){let t=n[e];return t===jr?void 0:t}function Y7(n,e,t,i,r,o){let s=e+t;return ho(n,s,r)?I2(n,s+1,o?i.call(o,r):i(r)):K2(n,s+1)}function Q7(n,e,t,i,r,o,s){let a=e+t;return x2(n,a,r,o)?I2(n,a+2,s?i.call(s,r,o):i(r,o)):K2(n,a+2)}function fi(n,e){let t=Cn(),i,r=n+wn;t.firstCreatePass?(i=X7(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Ya(i.type,!0)),s,a=Ci(me);try{let c=Ey(!1),l=o();return Ey(c),hx(t,He(),r,l),l}finally{Ci(a)}}function X7(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function uc(n,e,t){let i=n+wn,r=He(),o=dx(r,i);return Y2(r,i)?Y7(r,xx(),e,o.transform,t,o):o.transform(t)}function vo(n,e,t,i){let r=n+wn,o=He(),s=dx(o,r);return Y2(o,r)?Q7(o,xx(),e,s.transform,t,i,s):s.transform(t,i)}function Y2(n,e){return n[Se].data[e].pure}var Ly=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},mT=(()=>{class n{compileModuleSync(t){return new Ay(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=tx(t),o=UF(r.declarations).reduce((s,a)=>{let c=ra(a);return c&&s.push(new Jl(c)),s},[]);return new Ly(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J7=(()=>{class n{zone=z(ft);changeDetectionScheduler=z(so);applicationRef=z(is);applicationErrorHandler=z(ji);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q2({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ft(ge(Y({},X2()),{scheduleInRootZone:t})),[{provide:ft,useFactory:n},{provide:ia,multi:!0,useFactory:()=>{let i=z(J7,{optional:!0});return()=>i.initialize()}},{provide:ia,multi:!0,useFactory:()=>{let i=z(Z7);return()=>{i.initialize()}}},e===!0?{provide:Ox,useValue:!0}:[],{provide:Nx,useValue:t??N2},{provide:ji,useFactory:()=>{let i=z(ft),r=z(on),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Mr),o.handleError(s))})}}}]}function X2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Z7=(()=>{class n{subscription=new en;initialized=!1;zone=z(ft);pendingTasks=z(Xo);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J2=(()=>{class n{applicationErrorHandler=z(ji);appRef=z(is);taskService=z(Xo);ngZone=z(ft);zonelessEnabled=z(Fp);tracing=z(tu,{optional:!0});disableScheduling=z(Ox,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new en;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Py):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(Nx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ry||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?YN:F2;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Py+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YN(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eG(){return typeof $localize<"u"&&$localize.locale||Zp}var dh=new le("",{providedIn:"root",factory:()=>z(dh,{optional:!0,skipSelf:!0})||eG()});function Vn(n){return PO(n)}function an(n,e){return vv(n,e?.equal)}var _T=class{[di];constructor(e){this[di]=e}destroy(){this[di].destroy()}};function eg(n,e){let t=e?.injector??z(Wt),i=e?.manualCleanup!==!0?t.get(Ii):null,r,o=t.get(th,null,{optional:!0}),s=t.get(so);return o!==null?(r=iG(o.view,s,n),i instanceof xp&&i._lView===o.view&&(i=null)):r=rG(n,t.get(Lp),s),r.injector=t,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new _T(r)}var Z2=ge(Y({},RO),{cleanupFns:void 0,zone:null,onDestroyFn:Gl,run(){let n=eh(!1);try{kO(this)}finally{eh(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=ke(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],ke(n)}}}),tG=ge(Y({},Z2),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Pl(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),nG=ge(Y({},Z2),{consumerMarkedDirty(){this.view[Ne]|=8192,nc(this.view),this.notifier.notify(13)},destroy(){Pl(this),this.onDestroyFn(),this.cleanup(),this.view[oa]?.delete(this)}});function iG(n,e,t){let i=Object.create(nG);return i.view=n,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=eL(i,t),n[oa]??=new Set,n[oa].add(i),i.consumerMarkedDirty(i),i}function rG(n,e,t){let i=Object.create(tG);return i.fn=eL(i,n),i.scheduler=e,i.notifier=t,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function eL(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var iL=Symbol("InputSignalNode#UNSET"),bG=ge(Y({},yv),{transformFn:void 0,applyValueToInputSignal(n,e){Pd(n,e)}});function rL(n,e){let t=Object.create(bG);t.value=n,t.transformFn=e?.transform;function i(){if(Td(t),t.value===iL){let r=null;throw new re(-950,r)}return t.value}return i[di]=t,i}var s0=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Wp(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},EG=new le("");EG.__NG_ELEMENT_ID__=n=>{let e=Qn();if(e===null)throw new re(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new re(204,!1)};function tL(n,e){return rL(n,e)}function wG(n){return rL(iL,n)}var oL=(tL.required=wG,tL);var vT=new le(""),CG=new le("");function tg(n){return!n.moduleRef}function IG(n){let e=tg(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ft);return t.run(()=>{tg(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(ji),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),tg(n)){let o=()=>e.destroy(),s=n.platformInjector.get(vT);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(vT);s.add(o),n.moduleRef.onDestroy(()=>{jp(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return DG(i,t,()=>{let o=e.get(Xo),s=o.add(),a=e.get(fT);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(dh,Zp);if(z2(c||Zp),!e.get(CG,!0))return tg(n)?e.get(is):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(tg(n)){let u=e.get(is);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return xG?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var xG;function DG(n,e,t){try{let i=t();return lc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n(i)),i}}var o0=null;function TG(n=[],e){return Wt.create({name:e,providers:[{provide:Sp,useValue:"platform"},{provide:vT,useValue:new Set([()=>o0=null])},...n]})}function SG(n=[]){if(o0)return o0;let e=TG(n);return o0=e,B2(),AG(e),e}function AG(n){let e=n.get(jy,null);fn(n,()=>{e?.forEach(t=>t())})}function yT(){return!1}var dc=(()=>{class n{static __NG_ELEMENT_ID__=MG}return n})();function MG(n){return PG(Qn(),He(),(n&16)===16)}function PG(n,e,t){if(tc(n)&&!t){let i=Nr(n.index,e);return new oc(i,i)}else if(n.type&175){let i=e[ur];return new oc(i,e)}return null}function sL(n){let{rootComponent:e,appProviders:t,platformProviders:i,platformRef:r}=n;Dt(8);try{let o=r?.injector??SG(i),s=[Q2({}),{provide:so,useExisting:J2},CN,...t||[]],a=new Hp({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return IG({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Dt(9)}}function nu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function aL(n){let e=ra(n);if(!e)return null;let t=new Jl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uL=null;function Ur(){return uL}function bT(n){uL??=n}var ng=class{},ig=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(dL),providedIn:"platform"})}return n})(),ET=new le(""),dL=(()=>{class n extends ig{_location;_history;_doc=z(Kt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(t){let i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Ur().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function a0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function cL(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function yo(n){return n&&n[0]!=="?"?`?${n}`:n}var bo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(l0),providedIn:"root"})}return n})(),c0=new le(""),l0=(()=>{class n extends bo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??z(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return a0(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+yo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+yo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+yo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(be(ig),be(c0,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hc=(()=>{class n{_subject=new yn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=OG(cL(lL(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+yo(i))}normalize(t){return n.stripTrailingSlash(kG(this._basePath,lL(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=yo;static joinWithSlash=a0;static stripTrailingSlash=cL;static \u0275fac=function(i){return new(i||n)(be(bo))};static \u0275prov=ue({token:n,factory:()=>RG(),providedIn:"root"})}return n})();function RG(){return new hc(be(bo))}function kG(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function lL(n){return n.replace(/\/index.html$/,"")}function OG(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ST=(()=>{class n extends bo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=a0(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+yo(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+yo(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(be(ig),be(c0,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();var AT=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(AT||{});var pi=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(pi||{}),kt=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(kt||{}),Wi=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(Wi||{}),Gi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function mL(n){return zi(n)[pn.LocaleId]}function _L(n,e,t){let i=zi(n),r=[i[pn.DayPeriodsFormat],i[pn.DayPeriodsStandalone]],o=$r(r,e);return $r(o,t)}function vL(n,e,t){let i=zi(n),r=[i[pn.DaysFormat],i[pn.DaysStandalone]],o=$r(r,e);return $r(o,t)}function yL(n,e,t){let i=zi(n),r=[i[pn.MonthsFormat],i[pn.MonthsStandalone]],o=$r(r,e);return $r(o,t)}function bL(n,e){let i=zi(n)[pn.Eras];return $r(i,e)}function rg(n,e){let t=zi(n);return $r(t[pn.DateFormat],e)}function og(n,e){let t=zi(n);return $r(t[pn.TimeFormat],e)}function sg(n,e){let i=zi(n)[pn.DateTimeFormat];return $r(i,e)}function ss(n,e){let t=zi(n),i=t[pn.NumberSymbols][e];if(typeof i>"u"){if(e===Gi.CurrencyDecimal)return t[pn.NumberSymbols][Gi.Decimal];if(e===Gi.CurrencyGroup)return t[pn.NumberSymbols][Gi.Group]}return i}function EL(n,e){return zi(n)[pn.NumberFormats][e]}function wL(n){if(!n[pn.ExtraData])throw new re(2303,!1)}function CL(n){let e=zi(n);return wL(e),(e[pn.ExtraData][2]||[]).map(i=>typeof i=="string"?wT(i):[wT(i[0]),wT(i[1])])}function IL(n,e,t){let i=zi(n);wL(i);let r=[i[pn.ExtraData][0],i[pn.ExtraData][1]],o=$r(r,e)||[];return $r(o,t)||[]}function $r(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new re(2304,!1)}function wT(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var NG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,u0={},FG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function xL(n,e,t,i){let r=qG(n);e=da(t,e)||e;let s=[],a;for(;e;)if(a=FG.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=r.getTimezoneOffset();i&&(c=TL(i,c),r=HG(r,i));let l="";return s.forEach(u=>{let h=$G(u);l+=h?h(r,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function g0(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function da(n,e){let t=mL(n);if(u0[t]??={},u0[t][e])return u0[t][e];let i="";switch(e){case"shortDate":i=rg(n,Wi.Short);break;case"mediumDate":i=rg(n,Wi.Medium);break;case"longDate":i=rg(n,Wi.Long);break;case"fullDate":i=rg(n,Wi.Full);break;case"shortTime":i=og(n,Wi.Short);break;case"mediumTime":i=og(n,Wi.Medium);break;case"longTime":i=og(n,Wi.Long);break;case"fullTime":i=og(n,Wi.Full);break;case"short":let r=da(n,"shortTime"),o=da(n,"shortDate");i=d0(sg(n,Wi.Short),[r,o]);break;case"medium":let s=da(n,"mediumTime"),a=da(n,"mediumDate");i=d0(sg(n,Wi.Medium),[s,a]);break;case"long":let c=da(n,"longTime"),l=da(n,"longDate");i=d0(sg(n,Wi.Long),[c,l]);break;case"full":let u=da(n,"fullTime"),h=da(n,"fullDate");i=d0(sg(n,Wi.Full),[u,h]);break}return i&&(u0[t][e]=i),i}function d0(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function Eo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function LG(n,e){return Eo(n,3).substring(0,e)}function An(n,e,t=0,i=!1,r=!1){return function(o,s){let a=VG(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return LG(a,e);let c=ss(s,Gi.MinusSign);return Eo(a,e,c,i,r)}}function VG(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new re(2301,!1)}}function $t(n,e,t=pi.Format,i=!1){return function(r,o){return jG(r,o,n,e,t,i)}}function jG(n,e,t,i,r,o){switch(t){case 2:return yL(e,r,i)[n.getMonth()];case 1:return vL(e,r,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=CL(e),u=IL(e,r,i),h=l.findIndex(p=>{if(Array.isArray(p)){let[g,y]=p,E=s>=g.hours&&a>=g.minutes,b=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(E&&b)return!0}else if(E||b)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return _L(e,r,i)[s<12?0:1];case 3:return bL(e,i)[n.getFullYear()<=0?0:1];default:let c=t;throw new re(2302,!1)}}function h0(n){return function(e,t,i){let r=-1*i,o=ss(t,Gi.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+Eo(s,2,o)+Eo(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Eo(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Eo(s,2,o)+":"+Eo(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Eo(s,2,o)+":"+Eo(Math.abs(r%60),2,o);default:throw new re(2310,!1)}}}var BG=0,p0=4;function UG(n){let e=g0(n,BG,1).getDay();return g0(n,0,1+(e<=p0?p0:p0+7)-e)}function DL(n){let e=n.getDay(),t=e===0?-3:p0-e;return g0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function CT(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=DL(t),s=UG(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Eo(r,n,ss(i,Gi.MinusSign))}}function f0(n,e=!1){return function(t,i){let o=DL(t).getFullYear();return Eo(o,n,ss(i,Gi.MinusSign),e)}}var IT={};function $G(n){if(IT[n])return IT[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(3,kt.Abbreviated);break;case"GGGG":e=$t(3,kt.Wide);break;case"GGGGG":e=$t(3,kt.Narrow);break;case"y":e=An(0,1,0,!1,!0);break;case"yy":e=An(0,2,0,!0,!0);break;case"yyy":e=An(0,3,0,!1,!0);break;case"yyyy":e=An(0,4,0,!1,!0);break;case"Y":e=f0(1);break;case"YY":e=f0(2,!0);break;case"YYY":e=f0(3);break;case"YYYY":e=f0(4);break;case"M":case"L":e=An(1,1,1);break;case"MM":case"LL":e=An(1,2,1);break;case"MMM":e=$t(2,kt.Abbreviated);break;case"MMMM":e=$t(2,kt.Wide);break;case"MMMMM":e=$t(2,kt.Narrow);break;case"LLL":e=$t(2,kt.Abbreviated,pi.Standalone);break;case"LLLL":e=$t(2,kt.Wide,pi.Standalone);break;case"LLLLL":e=$t(2,kt.Narrow,pi.Standalone);break;case"w":e=CT(1);break;case"ww":e=CT(2);break;case"W":e=CT(1,!0);break;case"d":e=An(2,1);break;case"dd":e=An(2,2);break;case"c":case"cc":e=An(7,1);break;case"ccc":e=$t(1,kt.Abbreviated,pi.Standalone);break;case"cccc":e=$t(1,kt.Wide,pi.Standalone);break;case"ccccc":e=$t(1,kt.Narrow,pi.Standalone);break;case"cccccc":e=$t(1,kt.Short,pi.Standalone);break;case"E":case"EE":case"EEE":e=$t(1,kt.Abbreviated);break;case"EEEE":e=$t(1,kt.Wide);break;case"EEEEE":e=$t(1,kt.Narrow);break;case"EEEEEE":e=$t(1,kt.Short);break;case"a":case"aa":case"aaa":e=$t(0,kt.Abbreviated);break;case"aaaa":e=$t(0,kt.Wide);break;case"aaaaa":e=$t(0,kt.Narrow);break;case"b":case"bb":case"bbb":e=$t(0,kt.Abbreviated,pi.Standalone,!0);break;case"bbbb":e=$t(0,kt.Wide,pi.Standalone,!0);break;case"bbbbb":e=$t(0,kt.Narrow,pi.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(0,kt.Abbreviated,pi.Format,!0);break;case"BBBB":e=$t(0,kt.Wide,pi.Format,!0);break;case"BBBBB":e=$t(0,kt.Narrow,pi.Format,!0);break;case"h":e=An(3,1,-12);break;case"hh":e=An(3,2,-12);break;case"H":e=An(3,1);break;case"HH":e=An(3,2);break;case"m":e=An(4,1);break;case"mm":e=An(4,2);break;case"s":e=An(5,1);break;case"ss":e=An(5,2);break;case"S":e=An(6,1);break;case"SS":e=An(6,2);break;case"SSS":e=An(6,3);break;case"Z":case"ZZ":case"ZZZ":e=h0(0);break;case"ZZZZZ":e=h0(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=h0(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=h0(2);break;default:return null}return IT[n]=e,e}function TL(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function zG(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function HG(n,e,t){let r=n.getTimezoneOffset(),o=TL(e,r);return zG(n,-1*(o-r))}function qG(n){if(hL(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(a=>+a);return g0(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(NG))return WG(i)}let e=new Date(n);if(!hL(e))throw new re(2311,!1);return e}function WG(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function hL(n){return n instanceof Date&&!isNaN(n.valueOf())}var GG=/^(\d+)?\.((\d+)(-(\d+))?)?$/,fL=22,m0=".",ag="0",KG=";",YG=",",xT="#";function QG(n,e,t,i,r,o,s=!1){let a="",c=!1;if(!isFinite(n))a=ss(t,Gi.Infinity);else{let l=ZG(n);s&&(l=JG(l));let u=e.minInt,h=e.minFrac,p=e.maxFrac;if(o){let O=o.match(GG);if(O===null)throw new re(2306,!1);let B=O[1],q=O[3],H=O[5];B!=null&&(u=DT(B)),q!=null&&(h=DT(q)),H!=null?p=DT(H):q!=null&&h>p&&(p=h)}eK(l,h,p);let g=l.digits,y=l.integerLen,E=l.exponent,b=[];for(c=g.every(O=>!O);y<u;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?b=g.splice(y,g.length):(b=g,g=[0]);let M=[];for(g.length>=e.lgSize&&M.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)M.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&M.unshift(g.join("")),a=M.join(ss(t,i)),b.length&&(a+=ss(t,r)+b.join("")),E&&(a+=ss(t,Gi.Exponential)+"+"+E)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function SL(n,e,t){let i=EL(e,AT.Decimal),r=XG(i,ss(e,Gi.MinusSign));return QG(n,r,e,Gi.Group,Gi.Decimal,t)}function XG(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(KG),r=i[0],o=i[1],s=r.indexOf(m0)!==-1?r.split(m0):[r.substring(0,r.lastIndexOf(ag)+1),r.substring(r.lastIndexOf(ag)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(xT));for(let u=0;u<c.length;u++){let h=c.charAt(u);h===ag?t.minFrac=t.maxFrac=u+1:h===xT?t.maxFrac=u+1:t.posSuf+=h}let l=a.split(YG);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=r.length-t.posPre.length-t.posSuf.length,h=o.indexOf(xT);t.negPre=o.substring(0,h).replace(/'/g,""),t.negSuf=o.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function JG(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function ZG(n){let e=Math.abs(n)+"",t=0,i,r,o,s,a;for((r=e.indexOf(m0))>-1&&(e=e.replace(m0,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===ag;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===ag;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>fL&&(i=i.splice(0,fL-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function eK(n,e,t){if(e>t)throw new re(2307,!1);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=o!==0,l=e+n.integerLen,u=i.reduceRight(function(h,p,g,y){return p=p+h,y[g]=p<10?p:p-10,c&&(y[g]===0&&g>=l?y.pop():c=!1),p>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function DT(n){let e=parseInt(n);if(isNaN(e))throw new re(2305,!1);return e}var TT=/\s+/,pL=[],MT=(()=>{class n{_ngEl;_renderer;initialClasses=pL;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(TT):pL}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(TT):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(TT).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(me(xi),me(po))};static \u0275dir=Yt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var iu=(()=>{class n{_viewContainer;_context=new _0;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gL(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gL(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(me(ac),me(Ql))};static \u0275dir=Yt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),_0=class{$implicit=null;ngIf=null};function gL(n,e){if(n&&!n.createEmbeddedView)throw new re(2020,!1)}function v0(n,e){return new re(2100,!1)}var tK=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,PT=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw v0(n,t);return t.replace(tK,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=cc({name:"titlecase",type:n,pure:!0})}return n})(),RT=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw v0(n,t);return t.toUpperCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=cc({name:"uppercase",type:n,pure:!0})}return n})(),nK="mediumDate",AL=new le(""),ML=new le(""),kT=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??nK,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xL(t,s,o||this.locale,a)}catch(s){throw v0(n,s.message)}}static \u0275fac=function(i){return new(i||n)(me(dh,16),me(AL,24),me(ML,24))};static \u0275pipe=cc({name:"date",type:n,pure:!0})}return n})();var cg=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!iK(t))return null;r||=this._locale;try{let o=rK(t);return SL(o,r,i)}catch(o){throw v0(n,o.message)}}static \u0275fac=function(i){return new(i||n)(me(dh,16))};static \u0275pipe=cc({name:"number",type:n,pure:!0})}return n})();function iK(n){return!(n==null||n===""||n!==n)}function rK(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new re(2309,!1);return n}var as=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Br({type:n});static \u0275inj=lr({})}return n})();function lg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ru=class{};var PL="browser";var RL=(()=>{class n{static \u0275prov=ue({token:n,providedIn:"root",factory:()=>new OT(z(Kt),window)})}return n})(),OT=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ge(Y({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let i=sK(this.document,e);i&&(this.scrollToElement(i,t),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(na(2400,!1))}}scrollToElement(e,t){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ge(Y({},t),{left:r-s[0],top:o-s[1]}))}};function sK(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var E0=new le(""),jT=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(be(E0),be(ft))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),ug=class{_doc;constructor(e){this._doc=e}manager},NT="ng-app-id";function kL(n){for(let e of n)e.remove()}function OL(n,e){let t=e.createElement("style");return t.textContent=n,t}function aK(n,e,t,i){let r=n.head?.querySelectorAll(`style[${NT}="${e}"],link[${NT}="${e}"]`);if(r)for(let o of r)o.removeAttribute(NT),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function LT(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var BT=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,aK(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,OL);i?.forEach(r=>this.addUsage(r,this.external,LT))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(kL(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])kL(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,OL(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,LT(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(be(Kt),be(Vy),be(By,8),be(sc))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),FT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},UT=/%COMP%/g;var FL="%COMP%",cK=`_nghost-${FL}`,lK=`_ngcontent-${FL}`,uK=!0,dK=new le("",{providedIn:"root",factory:()=>uK});function hK(n){return lK.replace(UT,n)}function fK(n){return cK.replace(UT,n)}function LL(n,e){return e.map(t=>t.replace(UT,n))}var $T=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new dg(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof b0?r.applyToHost(t):r instanceof hg&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,p=this.tracingService;switch(i.encapsulation){case ca.Emulated:o=new b0(c,l,i,this.appId,u,s,a,h,p);break;case ca.ShadowDom:return new VT(c,l,t,i,s,a,this.nonce,h,p);default:o=new hg(c,l,i,u,s,a,h,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(be(jT),be(BT),be(Vy),be(dK),be(Kt),be(sc),be(ft),be(By),be(tu,8))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),dg=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(FT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NL(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(NL(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new re(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=FT[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=FT[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Zo.DashCase|Zo.Important)?e.style.setProperty(t,i,r&Zo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Zo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Ur().getGlobalEventTarget(this.doc,e),!e))throw new re(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function NL(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var VT=class extends dg{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=LL(r.id,u);for(let p of u){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=LT(p,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hg=class extends dg{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=l?LL(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wy.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},b0=class extends hg{contentAttr;hostAttr;constructor(e,t,i,r,o,s,a,c,l){let u=r+"-"+i.id;super(e,t,i,o,s,a,c,l,u),this.contentAttr=hK(u),this.hostAttr=fK(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var w0=class n extends ng{supportsDOMEvents=!0;static makeCurrent(){bT(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=pK();return t==null?null:gK(t)}resetBaseElement(){fg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lg(document.cookie,e)}},fg=null;function pK(){return fg=fg||document.head.querySelector("base"),fg?fg.getAttribute("href"):null}function gK(n){return new URL(n,document.baseURI).pathname}var mK=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),jL=(()=>{class n extends ug{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(be(Kt))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),VL=["alt","control","meta","shift"],_K={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},BL=(()=>{class n extends ug{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),VL.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=_K[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),VL.forEach(s=>{if(s!==r){let a=vK[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(be(Kt))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function zT(n,e,t){let i=Y({rootComponent:n,platformRef:t?.platformRef},yK(e));return sL(i)}function yK(n){return{appProviders:[...IK,...n?.providers??[]],platformProviders:CK}}function bK(){w0.makeCurrent()}function EK(){return new Mr}function wK(){return OD(document),document}var CK=[{provide:sc,useValue:PL},{provide:jy,useValue:bK,multi:!0},{provide:Kt,useFactory:wK}];var IK=[{provide:Sp,useValue:"root"},{provide:Mr,useFactory:EK},{provide:E0,useClass:jL,multi:!0,deps:[Kt]},{provide:E0,useClass:BL,multi:!0,deps:[Kt]},$T,BT,jT,{provide:Xl,useExisting:$T},{provide:ru,useClass:mK},[]];var fh=class{},mg=class{},ou=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var I0=class{encodeKey(e){return UL(e)}encodeValue(e){return UL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function xK(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var DK=/%(\d[a-f0-9])/gi,TK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UL(n){return encodeURIComponent(n).replace(DK,(e,t)=>TK[t]??e)}function C0(n){return`${n}`}var fc=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new I0,e.fromString){if(e.fromObject)throw new re(2805,!1);this.map=xK(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(C0):[C0(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(C0(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(C0(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var x0=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function SK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $L(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zL(n){return typeof Blob<"u"&&n instanceof Blob}function HL(n){return typeof FormData<"u"&&n instanceof FormData}function AK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var qL="Content-Type",WL="Accept",GL="X-Request-URL",KL="text/plain",YL="application/json",MK=`${YL}, ${KL}, */*`,pg=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(SK(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new re(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new ou,this.context??=new x0,!this.params)this.params=new fc,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$L(this.body)||zL(this.body)||HL(this.body)||AK(this.body)?this.body:this.body instanceof fc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HL(this.body)?null:zL(this.body)?this.body.type||null:$L(this.body)?null:typeof this.body=="string"?KL:this.body instanceof fc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?YL:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,h=e.referrer||this.referrer,p=e.integrity||this.integrity,g=e.transferCache??this.transferCache,y=e.timeout??this.timeout,E=e.body!==void 0?e.body:this.body,b=e.withCredentials??this.withCredentials,M=e.reportProgress??this.reportProgress,O=e.headers||this.headers,B=e.params||this.params,q=e.context??this.context;return e.setHeaders!==void 0&&(O=Object.keys(e.setHeaders).reduce((H,G)=>H.set(G,e.setHeaders[G]),O)),e.setParams&&(B=Object.keys(e.setParams).reduce((H,G)=>H.set(G,e.setParams[G]),B)),new n(t,i,E,{params:B,headers:O,context:q,reportProgress:M,responseType:r,withCredentials:b,transferCache:g,keepalive:o,cache:a,priority:s,timeout:y,mode:c,redirect:l,credentials:u,referrer:h,integrity:p})}},hh=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(hh||{}),ph=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,i="OK"){this.headers=e.headers||new ou,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},D0=class n extends ph{constructor(e={}){super(e)}type=hh.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},T0=class n extends ph{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=hh.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},gg=class extends ph{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},PK=200,RK=204;function HT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var kK=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof pg)o=t;else{let c;r.headers instanceof ou?c=r.headers:c=new ou(r.headers);let l;r.params&&(r.params instanceof fc?l=r.params:l=new fc({fromObject:r.params})),o=new pg(t,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let s=De(o).pipe(Wo(c=>this.handler.handle(c)));if(t instanceof pg||r.observe==="events")return s;let a=s.pipe(hi(c=>c instanceof T0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Ge(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new re(2806,!1);return c.body}));case"blob":return a.pipe(Ge(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new re(2807,!1);return c.body}));case"text":return a.pipe(Ge(c=>{if(c.body!==null&&typeof c.body!="string")throw new re(2808,!1);return c.body}));case"json":default:return a.pipe(Ge(c=>c.body))}case"response":return a;default:throw new re(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new fc().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,HT(r,i))}post(t,i,r={}){return this.request("POST",t,HT(r,i))}put(t,i,r={}){return this.request("PUT",t,HT(r,i))}static \u0275fac=function(i){return new(i||n)(be(fh))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();var OK=new le("");function NK(n,e){return e(n)}function FK(n,e,t){return(i,r)=>fn(t,()=>e(i,o=>n(o,r)))}var QL=new le(""),LK=new le(""),XL=new le("",{providedIn:"root",factory:()=>!0});var S0=(()=>{class n extends fh{backend;injector;chain=null;pendingTasks=z(aa);contributeToStability=z(XL);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(QL),...this.injector.get(LK,[])]));this.chain=i.reduceRight((r,o)=>FK(r,o,this.injector),NK)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Fl(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(be(mg),be(on))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();var VK=/^\)\]\}',?\n/,jK=RegExp(`^${GL}:`,"m");function BK(n){return"responseURL"in n&&n.responseURL?n.responseURL:jK.test(n.getAllResponseHeaders())?n.getResponseHeader(GL):null}var qT=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new re(-2800,!1);let i=this.xhrFactory;return De(null).pipe(Zn(()=>new Oe(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,M)=>s.setRequestHeader(b,M.join(","))),t.headers.has(WL)||s.setRequestHeader(WL,MK),!t.headers.has(qL)){let b=t.detectContentTypeHeader();b!==null&&s.setRequestHeader(qL,b)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let b=t.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let b=s.statusText||"OK",M=new ou(s.getAllResponseHeaders()),O=BK(s)||t.url;return c=new D0({headers:M,status:s.status,statusText:b,url:O}),c},u=()=>{let{headers:b,status:M,statusText:O,url:B}=l(),q=null;M!==RK&&(q=typeof s.response>"u"?s.responseText:s.response),M===0&&(M=q?PK:0);let H=M>=200&&M<300;if(t.responseType==="json"&&typeof q=="string"){let G=q;q=q.replace(VK,"");try{q=q!==""?JSON.parse(q):null}catch(R){q=G,H&&(H=!1,q={error:R,text:q})}}H?(o.next(new T0({body:q,headers:b,status:M,statusText:O,url:B||void 0})),o.complete()):o.error(new gg({error:q,headers:b,status:M,statusText:O,url:B||void 0}))},h=b=>{let{url:M}=l(),O=new gg({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:M||void 0});o.error(O)},p=h;t.timeout&&(p=b=>{let{url:M}=l(),O=new gg({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:M||void 0});o.error(O)});let g=!1,y=b=>{g||(o.next(l()),g=!0);let M={type:hh.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(M.total=b.total),t.responseType==="text"&&s.responseText&&(M.partialText=s.responseText),o.next(M)},E=b=>{let M={type:hh.UploadProgress,loaded:b.loaded};b.lengthComputable&&(M.total=b.total),o.next(M)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",p),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:hh.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(be(ru))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),JL=new le(""),UK="XSRF-TOKEN",$K=new le("",{providedIn:"root",factory:()=>UK}),zK="X-XSRF-TOKEN",HK=new le("",{providedIn:"root",factory:()=>zK}),_g=class{},qK=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lg(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(be(Kt),be($K))};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function WK(n,e){let t=n.url.toLowerCase();if(!z(JL)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=z(_g).getToken(),r=z(HK);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function WT(...n){let e=[kK,qT,S0,{provide:fh,useExisting:S0},{provide:mg,useFactory:()=>z(OK,{optional:!0})??z(qT)},{provide:QL,useValue:WK,multi:!0},{provide:JL,useValue:!0},{provide:_g,useClass:qK}];for(let t of n)e.push(...t.\u0275providers);return Vi(e)}var ZL=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(be(Kt))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=be(GK),r},providedIn:"root"})}return n})(),GK=(()=>{class n extends GT{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Vr.NONE:return i;case Vr.HTML:return ts(i,"HTML")?Lr(i):zy(this._doc,String(i)).toString();case Vr.STYLE:return ts(i,"Style")?Lr(i):i;case Vr.SCRIPT:if(ts(i,"Script"))return Lr(i);throw new re(5200,!1);case Vr.URL:return ts(i,"URL")?Lr(i):Gp(String(i));case Vr.RESOURCE_URL:if(ts(i,"ResourceURL"))return Lr(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(t){return LD(t)}bypassSecurityTrustStyle(t){return VD(t)}bypassSecurityTrustScript(t){return jD(t)}bypassSecurityTrustUrl(t){return BD(t)}bypassSecurityTrustResourceUrl(t){return UD(t)}static \u0275fac=function(i){return new(i||n)(be(Kt))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qe="primary",Mg=Symbol("RouteTitle"),JT=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function cu(n){return new JT(n)}function cV(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function KK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}function cs(n,e){let t=n?ZT(n):void 0,i=e?ZT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!lV(n[r],e[r]))return!1;return!0}function ZT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function uV(n){return n.length>0?n[n.length-1]:null}function ha(n){return xI(n)?n:lc(n)?tn(Promise.resolve(n)):De(n)}var YK={exact:hV,subset:fV},dV={exact:QK,subset:XK,ignored:()=>!0};function tV(n,e,t){return YK[t.paths](n.root,e.root,t.matrixParams)&&dV[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function QK(n,e){return cs(n,e)}function hV(n,e,t){if(!su(n.segments,e.segments)||!P0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!hV(n.children[i],e.children[i],t))return!1;return!0}function XK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lV(n[t],e[t]))}function fV(n,e,t){return pV(n,e,e.segments,t)}function pV(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!su(r,t)||e.hasChildren()||!P0(r,t,i))}else if(n.segments.length===t.length){if(!su(n.segments,t)||!P0(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!fV(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!su(n.segments,r)||!P0(n.segments,r,i)||!n.children[qe]?!1:pV(n.children[qe],e,o,i)}}function P0(n,e,t){return e.every((i,r)=>dV[t](n[r].parameters,i.parameters))}var us=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _t([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=cu(this.queryParams),this._queryParamMap}toString(){return eY.serialize(this)}},_t=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return R0(this)}},pc=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=cu(this.parameters),this._parameterMap}toString(){return mV(this)}};function JK(n,e){return su(n,e)&&n.every((t,i)=>cs(t.parameters,e[i].parameters))}function su(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function ZK(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===qe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==qe&&(t=t.concat(e(r,i)))}),t}var lu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>new gc,providedIn:"root"})}return n})(),gc=class{parse(e){let t=new tS(e);return new us(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vg(e.root,!0)}`,i=iY(e.queryParams),r=typeof e.fragment=="string"?`#${tY(e.fragment)}`:"";return`${t}${i}${r}`}},eY=new gc;function R0(n){return n.segments.map(e=>mV(e)).join("/")}function vg(n,e){if(!n.hasChildren())return R0(n);if(e){let t=n.children[qe]?vg(n.children[qe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==qe&&i.push(`${r}:${vg(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=ZK(n,(i,r)=>r===qe?[vg(n.children[qe],!1)]:[`${r}:${vg(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[qe]!=null?`${R0(n)}/${t[0]}`:`${R0(n)}/(${t.join("//")})`}}function gV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function A0(n){return gV(n).replace(/%3B/gi,";")}function tY(n){return encodeURI(n)}function eS(n){return gV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k0(n){return decodeURIComponent(n)}function nV(n){return k0(n.replace(/\+/g,"%20"))}function mV(n){return`${eS(n.path)}${nY(n.parameters)}`}function nY(n){return Object.entries(n).map(([e,t])=>`;${eS(e)}=${eS(t)}`).join("")}function iY(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${A0(t)}=${A0(r)}`).join("&"):`${A0(t)}=${A0(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var rY=/^[^\/()?;#]+/;function KT(n){let e=n.match(rY);return e?e[0]:""}var oY=/^[^\/()?;=#]+/;function sY(n){let e=n.match(oY);return e?e[0]:""}var aY=/^[^=?&#]+/;function cY(n){let e=n.match(aY);return e?e[0]:""}var lY=/^[^&#]+/;function uY(n){let e=n.match(lY);return e?e[0]:""}var tS=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[qe]=new _t(e,t)),i}parseSegment(){let e=KT(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new pc(k0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sY(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=KT(this.remaining);r&&(i=r,this.capture(i))}e[k0(t)]=k0(i)}parseQueryParam(e){let t=cY(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=uY(this.remaining);s&&(i=s,this.capture(i))}let r=nV(t),o=nV(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=KT(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new re(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=qe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[qe]:new _t([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}};function _V(n){return n.segments.length>0?new _t([],{[qe]:n}):n}function vV(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=vV(r);if(i===qe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new _t(n.segments,e);return dY(t)}function dY(n){if(n.numberOfChildren===1&&n.children[qe]){let e=n.children[qe];return new _t(n.segments.concat(e.segments),e.children)}return n}function mc(n){return n instanceof us}function yV(n,e,t=null,i=null){let r=bV(n);return EV(r,e,t,i)}function bV(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new _t(o.url,s);return o===n&&(e=a),a}let i=t(n.root),r=_V(i);return e??r}function EV(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return YT(r,r,r,t,i);let o=hY(e);if(o.toRoot())return YT(r,r,new _t([],{}),t,i);let s=fY(o,r,n),a=s.processChildren?bg(s.segmentGroup,s.index,o.commands):CV(s.segmentGroup,s.index,o.commands);return YT(r,s.segmentGroup,a,t,i)}function O0(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function wg(n){return typeof n=="object"&&n!=null&&n.outlets}function YT(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=wV(n,e,t);let a=_V(vV(s));return new us(a,o,r)}function wV(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=wV(o,e,t)}),new _t(n.segments,i)}var N0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&O0(i[0]))throw new re(4003,!1);let r=i.find(wg);if(r&&r!==uV(i))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hY(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new N0(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new N0(t,e,i)}var _h=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function fY(n,e,t){if(n.isAbsolute)return new _h(e,!0,0);if(!t)return new _h(e,!1,NaN);if(t.parent===null)return new _h(t,!0,0);let i=O0(n.commands[0])?0:1,r=t.segments.length-1+i;return pY(t,r,n.numberOfDoubleDots)}function pY(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new re(4005,!1);r=i.segments.length}return new _h(i,!1,r-o)}function gY(n){return wg(n[0])?n[0].outlets:{[qe]:n}}function CV(n,e,t){if(n??=new _t([],{}),n.segments.length===0&&n.hasChildren())return bg(n,e,t);let i=mY(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new _t(n.segments.slice(0,i.pathIndex),{});return o.children[qe]=new _t(n.segments.slice(i.pathIndex),n.children),bg(o,0,r)}else return i.match&&r.length===0?new _t(n.segments,{}):i.match&&!n.hasChildren()?nS(n,e,t):i.match?bg(n,0,r):nS(n,e,t)}function bg(n,e,t){if(t.length===0)return new _t(n.segments,{});{let i=gY(t),r={};if(Object.keys(i).some(o=>o!==qe)&&n.children[qe]&&n.numberOfChildren===1&&n.children[qe].segments.length===0){let o=bg(n.children[qe],e,t);return new _t(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=CV(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new _t(n.segments,r)}}function mY(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],a=t[i];if(wg(a))break;let c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!rV(c,l,s))return o;i+=2}else{if(!rV(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function nS(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(wg(o)){let c=_Y(o.outlets);return new _t(i,c)}if(r===0&&O0(t[0])){let c=n.segments[e];i.push(new pc(c.path,iV(t[0]))),r++;continue}let s=wg(o)?o.outlets[qe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&O0(a)?(i.push(new pc(s,iV(a))),r+=2):(i.push(new pc(s,{})),r++)}return new _t(i,{})}function _Y(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=nS(new _t([],{}),0,i))}),e}function iV(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function rV(n,e,t){return n==t.path&&cs(e,t.parameters)}var vh="imperative",jn=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(jn||{}),fr=class{id;url;constructor(e,t){this.id=e,this.url=t}},_c=class extends fr{type=jn.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zr=class extends fr{urlAfterRedirects;type=jn.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ti=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ti||{}),bh=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(bh||{}),ls=class extends fr{reason;code;type=jn.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ds=class extends fr{reason;code;type=jn.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Eh=class extends fr{error;target;type=jn.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cg=class extends fr{urlAfterRedirects;state;type=jn.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F0=class extends fr{urlAfterRedirects;state;type=jn.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L0=class extends fr{urlAfterRedirects;state;shouldActivate;type=jn.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},V0=class extends fr{urlAfterRedirects;state;type=jn.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j0=class extends fr{urlAfterRedirects;state;type=jn.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B0=class{route;type=jn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},U0=class{route;type=jn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$0=class{snapshot;type=jn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},z0=class{snapshot;type=jn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H0=class{snapshot;type=jn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q0=class{snapshot;type=jn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{routerEvent;position;anchor;type=jn.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ig=class{},Ch=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vY(n){return!(n instanceof Ig)&&!(n instanceof Ch)}function yY(n,e){return n.providers&&!n._injector&&(n._injector=lh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wo(n){return n.outlet||qe}function bY(n,e){let t=n.filter(i=>wo(i)===e);return t.push(...n.filter(i=>wo(i)!==e)),t}function Dh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var W0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Dh(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new uu(this.rootInjector)}},uu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new W0(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(be(on))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G0=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=iS(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=iS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=rS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return rS(e,this._root).map(t=>t.value)}};function iS(n,e){if(n===e.value)return e;for(let t of e.children){let i=iS(n,t);if(i)return i}return null}function rS(n,e){if(n===e.value)return[e];for(let t of e.children){let i=rS(n,t);if(i.length)return i.unshift(e),i}return[]}var hr=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function mh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xg=class extends G0{snapshot;constructor(e,t){super(e),this.snapshot=t,hS(this,e)}toString(){return this.snapshot.toString()}};function IV(n){let e=EY(n),t=new Jn([new pc("",{})]),i=new Jn({}),r=new Jn({}),o=new Jn({}),s=new Jn(""),a=new hs(t,i,o,s,r,qe,n,e.root);return a.snapshot=e.root,new xg(new hr(a,[]),e)}function EY(n){let e={},t={},i={},o=new au([],e,i,"",t,qe,n,null,{});return new Dg("",new hr(o,[]))}var hs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ge(l=>l[Mg]))??De(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ge(e=>cu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ge(e=>cu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function K0(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Y(Y({},e.params),n.params),data:Y(Y({},e.data),n.data),resolve:Y(Y(Y(Y({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Y({},n.params),data:Y({},n.data),resolve:Y(Y({},n.data),n._resolvedData??{})},r&&DV(r)&&(i.resolve[Mg]=r.title),i}var au=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Mg]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Dg=class extends G0{url;constructor(e,t){super(t),this.url=e,hS(this,t)}toString(){return xV(this._root)}};function hS(n,e){e.value._routerState=n,e.children.forEach(t=>hS(n,t))}function xV(n){let e=n.children.length>0?` { ${n.children.map(xV).join(", ")} } `:"";return`${n.value}${e}`}function QT(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cs(e.params,t.params)||n.paramsSubject.next(t.params),KK(e.url,t.url)||n.urlSubject.next(t.url),cs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function oS(n,e){let t=cs(n.params,e.params)&&JK(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||oS(n.parent,e.parent))}function DV(n){return typeof n.title=="string"||n.title===null}var TV=new le(""),Pg=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=qe;activateEvents=new sn;deactivateEvents=new sn;attachEvents=new sn;detachEvents=new sn;routerOutletData=oL(void 0);parentContexts=z(uu);location=z(ac);changeDetector=z(dc);inputBinder=z(Rg,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new sS(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Yt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fo]})}return n})(),sS=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===hs?this.route:e===uu?this.childContexts:e===TV?this.outletData:this.parent.get(e,t)}},Rg=new le(""),fS=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=bp([i.queryParams,i.params,i.data]).pipe(Zn(([o,s,a],c)=>(a=Y(Y(Y({},o),s),a),c===0?De(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=aL(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})(),pS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=mt({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Ee(0,"router-outlet")},dependencies:[Pg],encapsulation:2})}return n})();function gS(n){let e=n.children&&n.children.map(gS),t=e?ge(Y({},n),{children:e}):Y({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qe&&(t.component=pS),t}function wY(n,e,t){let i=Tg(n,e._root,t?t._root:void 0);return new xg(i,e)}function Tg(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=CY(n,e,t);return new hr(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tg(n,a)),s}}let i=IY(e.value),r=e.children.map(o=>Tg(n,o));return new hr(i,r)}}function CY(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Tg(n,i,r);return Tg(n,i)})}function IY(n){return new hs(new Jn(n.url),new Jn(n.params),new Jn(n.queryParams),new Jn(n.fragment),new Jn(n.data),n.outlet,n.component,n)}var Ih=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},SV="ngNavigationCancelingError";function Y0(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=mc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=AV(!1,Ti.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function AV(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[SV]=!0,t.cancellationCode=e,t}function xY(n){return MV(n)&&mc(n.url)}function MV(n){return!!n&&n[SV]}var DY=(n,e,t,i)=>Ge(r=>(new aS(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),aS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),QT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=mh(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=mh(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=mh(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=mh(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new q0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new z0(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(QT(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),QT(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},Q0=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yh=class{component;route;constructor(e,t){this.component=e,this.route=t}};function TY(n,e,t){let i=n._root,r=e?e._root:null;return yg(i,r,t,[i.value])}function SY(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Th(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!HI(n)?n:e.get(n):i}function yg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=mh(e);return n.children.forEach(s=>{AY(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Eg(a,t.getContext(s),r)),r}function AY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=MY(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Q0(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?yg(n,e,a?a.children:null,i,r):yg(n,e,t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yh(a.outlet.component,s))}else s&&Eg(e,a,r),r.canActivateChecks.push(new Q0(i)),o.component?yg(n,null,a?a.children:null,i,r):yg(n,null,t,i,r);return r}function MY(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!su(n.url,e.url);case"pathParamsOrQueryParamsChange":return!su(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oS(n,e)||!cs(n.queryParams,e.queryParams);case"paramsChange":default:return!oS(n,e)}}function Eg(n,e,t){let i=mh(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Eg(s,e.children.getContext(o),t):Eg(s,null,t):Eg(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new yh(e.outlet.component,r)):t.canDeactivateChecks.push(new yh(null,r)):t.canDeactivateChecks.push(new yh(null,r))}function kg(n){return typeof n=="function"}function PY(n){return typeof n=="boolean"}function RY(n){return n&&kg(n.canLoad)}function kY(n){return n&&kg(n.canActivate)}function OY(n){return n&&kg(n.canActivateChild)}function NY(n){return n&&kg(n.canDeactivate)}function FY(n){return n&&kg(n.canMatch)}function PV(n){return n instanceof Ys||n?.name==="EmptyError"}var M0=Symbol("INITIAL_VALUE");function xh(){return Zn(n=>bp(n.map(e=>e.pipe(Xs(1),AI(M0)))).pipe(Ge(e=>{for(let t of e)if(t!==!0){if(t===M0)return M0;if(t===!1||LY(t))return t}return!0}),hi(e=>e!==M0),Xs(1)))}function LY(n){return mc(n)||n instanceof Ih}function VY(n,e){return bn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?De(ge(Y({},t),{guardsResult:!0})):jY(s,i,r,n).pipe(bn(a=>a&&PY(a)?BY(i,o,n,e):De(a)),Ge(a=>ge(Y({},t),{guardsResult:a})))})}function jY(n,e,t,i){return tn(n).pipe(bn(r=>qY(r.component,r.route,t,e,i)),Js(r=>r!==!0,!0))}function BY(n,e,t,i){return tn(e).pipe(Wo(r=>Hd($Y(r.route.parent,i),UY(r.route,i),HY(n,r.path,t),zY(n,r.route,t))),Js(r=>r!==!0,!0))}function UY(n,e){return n!==null&&e&&e(new H0(n)),De(!0)}function $Y(n,e){return n!==null&&e&&e(new $0(n)),De(!0)}function zY(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return De(!0);let r=i.map(o=>Ep(()=>{let s=Dh(e)??t,a=Th(o,s),c=kY(a)?a.canActivate(e,n):fn(s,()=>a(e,n));return ha(c).pipe(Js())}));return De(r).pipe(xh())}function HY(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>SY(s)).filter(s=>s!==null).map(s=>Ep(()=>{let a=s.guards.map(c=>{let l=Dh(s.node)??t,u=Th(c,l),h=OY(u)?u.canActivateChild(i,n):fn(l,()=>u(i,n));return ha(h).pipe(Js())});return De(a).pipe(xh())}));return De(o).pipe(xh())}function qY(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return De(!0);let s=o.map(a=>{let c=Dh(e)??r,l=Th(a,c),u=NY(l)?l.canDeactivate(n,e,t,i):fn(c,()=>l(n,e,t,i));return ha(u).pipe(Js())});return De(s).pipe(xh())}function WY(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return De(!0);let o=r.map(s=>{let a=Th(s,n),c=RY(a)?a.canLoad(e,t):fn(n,()=>a(e,t));return ha(c)});return De(o).pipe(xh(),RV(i))}function RV(n){return _I(Yn(e=>{if(typeof e!="boolean")throw Y0(n,e)}),Ge(e=>e===!0))}function GY(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return De(!0);let o=r.map(s=>{let a=Th(s,n),c=FY(a)?a.canMatch(e,t):fn(n,()=>a(e,t));return ha(c)});return De(o).pipe(xh(),RV(i))}var Sg=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ag=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gh(n){return $d(new Sg(n))}function KY(n){return $d(new re(4e3,!1))}function YY(n){return $d(AV(!1,Ti.GuardRejected))}var cS=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return De(i);if(r.numberOfChildren>1||!r.children[qe])return KY(`${e.redirectTo}`);r=r.children[qe]}}applyRedirectCommands(e,t,i,r,o){return QY(t,r,o).pipe(Ge(s=>{if(s instanceof us)throw new Ag(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new Ag(a);return a}))}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new us(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new _t(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new re(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}};function QY(n,e,t){if(typeof n=="string")return De(n);let i=n,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:h}=e;return ha(fn(t,()=>i({params:l,data:u,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:c,title:h})))}var lS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XY(n,e,t,i,r){let o=kV(n,e,t);return o.matched?(i=yY(e,i),GY(i,e,t,r).pipe(Ge(s=>s===!0?o:Y({},lS)))):De(o)}function kV(n,e,t){if(e.path==="**")return JY(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Y({},lS):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||cV)(t,n,e);if(!r)return Y({},lS);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?Y(Y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function JY(n){return{matched:!0,parameters:n.length>0?uV(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oV(n,e,t,i){return t.length>0&&tQ(n,t,i)?{segmentGroup:new _t(e,eQ(i,new _t(t,n.children))),slicedSegments:[]}:t.length===0&&nQ(n,t,i)?{segmentGroup:new _t(n.segments,ZY(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new _t(n.segments,n.children),slicedSegments:t}}function ZY(n,e,t,i){let r={};for(let o of t)if(J0(n,e,o)&&!i[wo(o)]){let s=new _t([],{});r[wo(o)]=s}return Y(Y({},i),r)}function eQ(n,e){let t={};t[qe]=e;for(let i of n)if(i.path===""&&wo(i)!==qe){let r=new _t([],{});t[wo(i)]=r}return t}function tQ(n,e,t){return t.some(i=>J0(n,e,i)&&wo(i)!==qe)}function nQ(n,e,t){return t.some(i=>J0(n,e,i))}function J0(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iQ(n,e,t){return e.length===0&&!n.children[t]}var uS=class{};function rQ(n,e,t,i,r,o,s="emptyOnly"){return new dS(n,e,t,i,r,s,o).recognize()}var oQ=31,dS=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cS(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,`'${e.segmentGroup}'`)}recognize(){let e=oV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ge(({children:t,rootSnapshot:i})=>{let r=new hr(i,t),o=new Dg("",r),s=yV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new au([],Object.freeze({}),Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,qe,t).pipe(Ge(i=>({children:i,rootSnapshot:t})),Qs(i=>{if(i instanceof Ag)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Sg?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(Ge(s=>s instanceof hr?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return tn(o).pipe(Wo(s=>{let a=i.children[s],c=bY(t,s);return this.processSegmentGroup(e,c,a,s,r)}),SI((s,a)=>(s.push(...a),s)),Ka(null),TI(),bn(s=>{if(s===null)return gh(i);let a=OV(s);return sQ(a),De(a)}))}processSegment(e,t,i,r,o,s,a){return tn(t).pipe(Wo(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,i,r,o,s,a).pipe(Qs(l=>{if(l instanceof Sg)return De(null);throw l}))),Js(c=>!!c),Qs(c=>{if(PV(c))return iQ(i,r,o)?De(new uS):gh(i);throw c}))}processSegmentAgainstRoute(e,t,i,r,o,s,a,c){return wo(i)!==s&&(s===qe||!J0(r,o,i))?gh(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,c):gh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:p}=kV(t,r,o);if(!c)return gh(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oQ&&(this.allowRedirects=!1));let g=new au(o,l,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,sV(r),wo(r),r.component??r._loadedComponent??null,r,aV(r)),y=K0(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(y.params),g.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,g,e).pipe(Zn(b=>this.applyRedirects.lineralizeSegments(r,b)),bn(b=>this.processSegment(e,i,t,b.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a=XY(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Zn(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Zn(({routes:l})=>{let u=i._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=c,y=new au(p,h,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,sV(i),wo(i),i.component??i._loadedComponent??null,i,aV(i)),E=K0(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let{segmentGroup:b,slicedSegments:M}=oV(t,p,g,l);if(M.length===0&&b.hasChildren())return this.processChildren(u,l,b,y).pipe(Ge(B=>new hr(y,B)));if(l.length===0&&M.length===0)return De(new hr(y,[]));let O=wo(i)===o;return this.processSegment(u,l,b,M,O?qe:o,!0,y).pipe(Ge(B=>new hr(y,B instanceof hr?[B]:[])))}))):gh(t)))}getChildConfig(e,t,i){return t.children?De({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?De({routes:t._loadedRoutes,injector:t._loadedInjector}):WY(e,t,i,this.urlSerializer).pipe(bn(r=>r?this.configLoader.loadChildren(e,t).pipe(Yn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):YY(t))):De({routes:[],injector:e})}};function sQ(n){n.sort((e,t)=>e.value.outlet===qe?-1:t.value.outlet===qe?1:e.value.outlet.localeCompare(t.value.outlet))}function aQ(n){let e=n.value.routeConfig;return e&&e.path===""}function OV(n){let e=[],t=new Set;for(let i of n){if(!aQ(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=OV(i.children);e.push(new hr(i.value,r))}return e.filter(i=>!t.has(i))}function sV(n){return n.data||{}}function aV(n){return n.resolve||{}}function cQ(n,e,t,i,r,o){return bn(s=>rQ(n,e,t,i,s.extractedUrl,r,o).pipe(Ge(({state:a,tree:c})=>ge(Y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lQ(n,e){return bn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return De(t);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of NV(c))s.add(l);let a=0;return tn(s).pipe(Wo(c=>o.has(c)?uQ(c,i,n,e):(c.data=K0(c,c.parent,n).resolve,De(void 0))),Yn(()=>a++),qd(1),bn(c=>a===s.size?De(t):Fi))})}function NV(n){let e=n.children.map(t=>NV(t)).flat();return[n,...e]}function uQ(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!DV(r)&&(o[Mg]=r.title),Ep(()=>(n.data=K0(n,n.parent,t).resolve,dQ(o,n,e,i).pipe(Ge(s=>(n._resolvedData=s,n.data=Y(Y({},n.data),s),null)))))}function dQ(n,e,t,i){let r=ZT(n);if(r.length===0)return De({});let o={};return tn(r).pipe(bn(s=>hQ(n[s],e,t,i).pipe(Js(),Yn(a=>{if(a instanceof Ih)throw Y0(new gc,a);o[s]=a}))),qd(1),Ge(()=>o),Qs(s=>PV(s)?Fi:$d(s)))}function hQ(n,e,t,i){let r=Dh(e)??i,o=Th(n,r),s=o.resolve?o.resolve(e,t):fn(r,()=>o(e,t));return ha(s)}function XT(n){return Zn(e=>{let t=n(e);return t?tn(t).pipe(Ge(()=>e)):De(e)})}var mS=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===qe);return i}getResolvedTitleForRoute(t){return t.data[Mg]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(FV),providedIn:"root"})}return n})(),FV=(()=>{class n extends mS{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(be(ZL))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vc=new le("",{providedIn:"root",factory:()=>({})}),du=new le(""),Z0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=z(mT);loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return De(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ha(fn(t,()=>i.loadComponent())).pipe(Ge(VV),Zn(jV),Yn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Fl(()=>{this.componentLoaders.delete(i)})),o=new Vd(r,()=>new yn).pipe(Ld());return this.componentLoaders.set(i,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return De({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=LV(i,this.compiler,t,this.onLoadEndListener).pipe(Fl(()=>{this.childrenLoaders.delete(i)})),s=new Vd(o,()=>new yn).pipe(Ld());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LV(n,e,t,i){return ha(fn(t,()=>n.loadChildren())).pipe(Ge(VV),Zn(jV),bn(r=>r instanceof Zy||Array.isArray(r)?De(r):tn(e.compileModuleAsync(r))),Ge(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(du,[],{optional:!0,self:!0}).flat()),{routes:s.map(gS),injector:o}}))}function fQ(n){return n&&typeof n=="object"&&"default"in n}function VV(n){return fQ(n)?n.default:n}function jV(n){return De(n)}var eb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(pQ),providedIn:"root"})}return n})(),pQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_S=new le(""),vS=new le("");function BV(n,e,t){let i=n.get(vS),r=n.get(Kt);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),gQ(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=i;return c&&fn(n,()=>c({transition:a,from:e,to:t})),s}function gQ(n){return new Promise(e=>{Xp({read:()=>setTimeout(e)},{injector:n})})}var yS=new le(""),tb=(()=>{class n{currentNavigation=Pe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new yn;transitionAbortWithErrorSubject=new yn;configLoader=z(Z0);environmentInjector=z(on);destroyRef=z(Ii);urlSerializer=z(lu);rootContexts=z(uu);location=z(hc);inputBindingEnabled=z(Rg,{optional:!0})!==null;titleStrategy=z(mS);options=z(vc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=z(eb);createViewTransition=z(_S,{optional:!0});navigationErrorHandler=z(yS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>De(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new B0(r)),i=r=>this.events.next(new U0(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;Vn(()=>{this.transitions?.next(ge(Y({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(t){return this.transitions=new Jn(null),this.transitions.pipe(hi(i=>i!==null),Zn(i=>{let r=!1;return De(i).pipe(Zn(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ti.SupersededByNewNavigation),Fi;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ge(Y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ds(o.id,this.urlSerializer.serialize(o.rawUrl),"",bh.IgnoredSameUrlNavigation)),o.resolve(!1),Fi;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return De(o).pipe(Zn(c=>(this.events.next(new _c(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Fi:Promise.resolve(c))),cQ(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Yn(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new Cg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:h,extras:p}=o,g=new _c(c,this.urlSerializer.serialize(l),u,h);this.events.next(g);let y=IV(this.rootComponentType).snapshot;return this.currentTransition=i=ge(Y({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:ge(Y({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(E=>(E.finalUrl=l,E)),De(i)}else return this.events.next(new ds(o.id,this.urlSerializer.serialize(o.extractedUrl),"",bh.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Fi}),Yn(o=>{let s=new F0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Ge(o=>(this.currentTransition=i=ge(Y({},o),{guards:TY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),VY(this.environmentInjector,o=>this.events.next(o)),Yn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Y0(this.urlSerializer,o.guardsResult);let s=new L0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),hi(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ti.GuardRejected),!1)),XT(o=>{if(o.guards.canActivateChecks.length!==0)return De(o).pipe(Yn(s=>{let a=new V0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Zn(s=>{let a=!1;return De(s).pipe(lQ(this.paramsInheritanceStrategy,this.environmentInjector),Yn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ti.NoDataFromResolver)}}))}),Yn(s=>{let a=new j0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),XT(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=Dh(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Yn(u=>{a.component=u}),Ge(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return bp(s(o.targetSnapshot.root)).pipe(Ka(null),Xs(1))}),XT(()=>this.afterPreactivation()),Zn(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?tn(a).pipe(Ge(()=>i)):De(i)}),Ge(o=>{let s=wY(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=ge(Y({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),i}),Yn(()=>{this.events.next(new Ig)}),DY(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xs(1),zv(new Oe(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(hi(()=>!r&&!i.targetRouterState),Yn(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Ti.Aborted)}))),Yn({next:o=>{r=!0,this.lastSuccessfulNavigation=Vn(this.currentNavigation),this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),zv(this.transitionAbortWithErrorSubject.pipe(Yn(o=>{throw o}))),Fl(()=>{r||this.cancelNavigationTransition(i,"",Ti.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Qs(o=>{if(this.destroyed)return i.resolve(!1),Fi;if(r=!0,MV(o))this.events.next(new ls(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),xY(o)?this.events.next(new Ch(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Eh(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=fn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ih){let{message:c,cancellationCode:l}=Y0(this.urlSerializer,a);this.events.next(new ls(i.id,this.urlSerializer.serialize(i.extractedUrl),c,l)),this.events.next(new Ch(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return Fi}))}))}cancelNavigationTransition(t,i,r){let o=new ls(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Vn(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mQ(n){return n!==vh}var UV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(_Q),providedIn:"root"})}return n})(),X0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_Q=(()=>{class n extends X0{static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$V=(()=>{class n{urlSerializer=z(lu);options=z(vc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=z(hc);urlHandlingStrategy=z(eb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new us;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof us?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=IV(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:()=>z(vQ),providedIn:"root"})}return n})(),vQ=(()=>{class n extends $V{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof _c?this.updateStateMemento():t instanceof ds?this.commitTransition(i):t instanceof Cg?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Ig?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof ls&&t.code!==Ti.SupersededByNewNavigation&&t.code!==Ti.Redirect?this.restoreHistory(i):t instanceof Eh?this.restoreHistory(i,!0):t instanceof zr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=Y(Y({},s),this.generateNgRouterState(r,a));this.location.replaceState(t,"",c)}else{let a=Y(Y({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nb(n,e){n.events.pipe(hi(t=>t instanceof zr||t instanceof ls||t instanceof Eh||t instanceof ds),Ge(t=>t instanceof zr||t instanceof ds?0:(t instanceof ls?t.code===Ti.Redirect||t.code===Ti.SupersededByNewNavigation:!1)?2:1),hi(t=>t!==2),Xs(1)).subscribe(()=>{e()})}var yQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=z(t0);stateManager=z($V);options=z(vc,{optional:!0})||{};pendingTasks=z(Xo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=z(tb);urlSerializer=z(lu);location=z(hc);urlHandlingStrategy=z(eb);injector=z(on);_events=new yn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=z(UV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=z(du,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!z(Rg,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new en;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=Vn(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ls&&i.code!==Ti.Redirect&&i.code!==Ti.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zr)this.navigated=!0;else if(i instanceof Ch){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=Y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mQ(r.source)},s);this.scheduleNavigation(a,vh,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}vY(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=Y({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(c=>{this.disposed||this.injector.get(ji)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Vn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Y(Y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let p=r?r.snapshot:this.routerState.snapshot.root;h=bV(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return EV(h,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=mc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vh,null,i)}navigate(t,i={skipLocationChange:!1}){return EQ(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=Y({},yQ):i===!1?r=Y({},bQ):r=i,mc(t))return tV(this.currentUrlTree,t,r);let o=this.parseUrl(t);return tV(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,p)=>{a=h,c=p});let u=this.pendingTasks.add();return nb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EQ(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new re(4008,!1)}var Ki=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Pe(null);get href(){return Vn(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new yn;applicationErrorHandler=z(ji);options=z(vc,{optional:!0});constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(z(new s0("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof zr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mc(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:mc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(me(pt),me(hs),Wp("tabindex"),me(po),me(xi),me(bo))};static \u0275dir=Yt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&ce("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&go("href",r.reactiveHref(),zD)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",nu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",nu],replaceUrl:[2,"replaceUrl","replaceUrl",nu],routerLink:"routerLink"},features:[fo]})}return n})();var Og=class{};var zV=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hi(t=>t instanceof zr),Wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=lh(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return tn(r).pipe(zd())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=De(null);let o=r.pipe(bn(s=>s===null?De(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(t,i);return tn([o,s]).pipe(zd())}else return o})}static \u0275fac=function(i){return new(i||n)(be(pt),be(on),be(Og),be(Z0))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HV=new le(""),wQ=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=vh;restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _c?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ds&&t.code===bh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wh&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>A(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new wh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){oT()};static \u0275prov=ue({token:n,factory:n.\u0275fac})}return n})();function ES(n,...e){return Vi([{provide:du,multi:!0,useValue:n},[],{provide:hs,useFactory:qV,deps:[pt]},{provide:Jp,multi:!0,useFactory:WV},e.map(t=>t.\u0275providers)])}function qV(n){return n.routerState.root}function Ng(n,e){return{\u0275kind:n,\u0275providers:e}}function WV(){let n=z(Wt);return e=>{let t=n.get(is);if(e!==t.components[0])return;let i=n.get(pt),r=n.get(GV);n.get(wS)===1&&i.initialNavigation(),n.get(QV,null,{optional:!0})?.setUpPreloading(),n.get(HV,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var GV=new le("",{factory:()=>new yn}),wS=new le("",{providedIn:"root",factory:()=>1});function KV(){let n=[{provide:Uy,useValue:!0},{provide:wS,useValue:0},n0(()=>{let e=z(Wt);return e.get(ET,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(pt),o=e.get(GV);nb(r,()=>{i(!0)}),e.get(tb).afterPreactivation=()=>(i(!0),o.closed?De(void 0):o),r.initialNavigation()}))})];return Ng(2,n)}function YV(){let n=[n0(()=>{z(pt).setUpLocationChangeListener()}),{provide:wS,useValue:2}];return Ng(3,n)}var QV=new le("");function XV(n){return Ng(0,[{provide:QV,useExisting:zV},{provide:Og,useExisting:n}])}function JV(){return Ng(8,[fS,{provide:Rg,useExisting:fS}])}function ZV(n){ns("NgRouterViewTransitions");let e=[{provide:_S,useValue:BV},{provide:vS,useValue:Y({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ng(9,e)}var ej=[hc,{provide:lu,useClass:gc},pt,uu,{provide:hs,useFactory:qV,deps:[pt]},Z0,[]],CS=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[ej,[],{provide:du,multi:!0,useValue:t},[],i?.errorHandler?{provide:yS,useValue:i.errorHandler}:[],{provide:vc,useValue:i||{}},i?.useHash?IQ():xQ(),CQ(),i?.preloadingStrategy?XV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?DQ(i):[],i?.bindToComponentInputs?JV().\u0275providers:[],i?.enableViewTransitions?ZV().\u0275providers:[],TQ()]}}static forChild(t){return{ngModule:n,providers:[{provide:du,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Br({type:n});static \u0275inj=lr({})}return n})();function CQ(){return{provide:HV,useFactory:()=>{let n=z(RL),e=z(ft),t=z(vc),i=z(tb),r=z(lu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wQ(r,i,n,e,t)}}}function IQ(){return{provide:bo,useClass:ST}}function xQ(){return{provide:bo,useClass:l0}}function DQ(n){return[n.initialNavigation==="disabled"?YV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?KV().\u0275providers:[]]}var bS=new le("");function TQ(){return[{provide:bS,useFactory:WV},{provide:Jp,multi:!0,useExisting:bS}]}var tj=()=>{};var rj=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},SQ=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],a=n[t++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0,u=o>>2,h=(o&3)<<4|a>>4,p=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(p=64)),i.push(t[u],t[h],t[p],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):SQ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let l=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||a==null||l==null||h==null)throw new xS;let p=o<<2|a>>4;if(i.push(p),l!==64){let g=a<<4&240|l>>2;if(i.push(g),h!==64){let y=l<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xS=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},AQ=function(n){let e=rj(n);return ib.encodeByteArray(e,!0)},Vg=function(n){return AQ(n).replace(/\./g,"")},rb=function(n){try{return ib.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var MQ=()=>ob().__FIREBASE_DEFAULTS__,PQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RQ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&rb(n[1]);return e&&JSON.parse(e)},sb=()=>{try{return tj()||MQ()||PQ()||RQ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TS=n=>{var e,t;return(t=(e=sb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oj=n=>{let e=TS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},SS=()=>{var n;return(n=sb())===null||n===void 0?void 0:n.config},AS=n=>{var e;return(e=sb())===null||e===void 0?void 0:e[`_${n}`]};var hu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function yc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function ab(n){return A(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function sj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Vg(JSON.stringify(t)),Vg(JSON.stringify(s)),""].join(".")}var Lg={};function kQ(){let n={prod:[],emulator:[]};for(let e of Object.keys(Lg))Lg[e]?n.emulator.push(e):n.prod.push(e);return n}function OQ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var nj=!1;function cb(n,e){if(typeof window>"u"||typeof document>"u"||!yc(window.location.host)||Lg[n]===e||Lg[n]||nj)return;Lg[n]=e;function t(p){return`__firebase__banner__${p}`}let i="__firebase__banner",o=kQ().prod.length>0;function s(){let p=document.getElementById(i);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function l(){let p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{nj=!0,s()},p}function u(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){let p=OQ(i),g=t("text"),y=document.getElementById(g)||document.createElement("span"),E=t("learnmore"),b=document.getElementById(E)||document.createElement("a"),M=t("preprendIcon"),O=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){let B=p.element;a(B),u(b,E);let q=l();c(O,M),B.append(O,y,b,q),document.body.appendChild(B)}o?(y.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function cj(){var n;let e=(n=sb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uj(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hj(){let n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MS(){return!cj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){return!cj()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Sh(){try{return typeof indexedDB=="object"}catch{return!1}}function fj(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var NQ="FirebaseError",pr=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=NQ,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}},Co=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?FQ(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new pr(r,a,i)}};function FQ(n,e){return n.replace(LQ,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var LQ=/\{\$([^}]+)}/g;function pj(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fs(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(ij(o)&&ij(s)){if(!fs(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function ij(n){return n!==null&&typeof n=="object"}function jg(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ah(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Mh(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gj(n,e){let t=new DS(n,e);return t.subscribe.bind(t)}var DS=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");VQ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=IS),r.error===void 0&&(r.error=IS),r.complete===void 0&&(r.complete=IS);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VQ(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function IS(){}var BDe=14400*1e3;function cn(n){return n&&n._delegate?n._delegate:n}var Si=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fu="[DEFAULT]";var RS=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new hu;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BQ(e))try{this.getOrInitializeService({instanceIdentifier:fu})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=fu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fu){return this.instances.has(e)}getOptions(e=fu){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jQ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fu){return this.component?this.component.multipleInstances?e:fu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jQ(n){return n===fu?void 0:n}function BQ(n){return n.instantiationMode==="EAGER"}var lb=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new RS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var UQ=[],nt=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(nt||{}),$Q={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},zQ=nt.INFO,HQ={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},qQ=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=HQ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ps=class{constructor(e){this.name=e,this._logLevel=zQ,this._logHandler=qQ,this._userLogHandler=null,UQ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}};var WQ=(n,e)=>e.some(t=>n instanceof t),mj,_j;function GQ(){return mj||(mj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KQ(){return _j||(_j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vj=new WeakMap,OS=new WeakMap,yj=new WeakMap,kS=new WeakMap,FS=new WeakMap;function YQ(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(gs(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&vj.set(t,n)}).catch(()=>{}),FS.set(e,n),e}function QQ(n){if(OS.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});OS.set(n,e)}var NS={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return OS.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yj.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bj(n){NS=n(NS)}function XQ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(ub(this),e,...t);return yj.set(i,e.sort?e.sort():[e]),gs(i)}:KQ().includes(n)?function(...e){return n.apply(ub(this),e),gs(vj.get(this))}:function(...e){return gs(n.apply(ub(this),e))}}function JQ(n){return typeof n=="function"?XQ(n):(n instanceof IDBTransaction&&QQ(n),WQ(n,GQ())?new Proxy(n,NS):n)}function gs(n){if(n instanceof IDBRequest)return YQ(n);if(kS.has(n))return kS.get(n);let e=JQ(n);return e!==n&&(kS.set(n,e),FS.set(e,n)),e}var ub=n=>FS.get(n);function wj(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),a=gs(s);return i&&s.addEventListener("upgradeneeded",c=>{i(gs(s.result),c.oldVersion,c.newVersion,gs(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var ZQ=["get","getKey","getAll","getAllKeys","count"],eX=["put","add","delete","clear"],LS=new Map;function Ej(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(LS.get(e))return LS.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=eX.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ZQ.includes(t)))return;let o=function(s,...a){return A(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),r&&c.done]))[0]})};return LS.set(e,o),o}bj(n=>ge(Y({},n),{get:(e,t,i)=>Ej(e,t)||n.get(e,t,i),has:(e,t)=>!!Ej(e,t)||n.has(e,t)}));var jS=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tX(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function tX(n){let e=n.getComponent();return e?.type==="VERSION"}var BS="@firebase/app",Cj="0.13.2";var fa=new ps("@firebase/app"),nX="@firebase/app-compat",iX="@firebase/analytics-compat",rX="@firebase/analytics",oX="@firebase/app-check-compat",sX="@firebase/app-check",aX="@firebase/auth",cX="@firebase/auth-compat",lX="@firebase/database",uX="@firebase/data-connect",dX="@firebase/database-compat",hX="@firebase/functions",fX="@firebase/functions-compat",pX="@firebase/installations",gX="@firebase/installations-compat",mX="@firebase/messaging",_X="@firebase/messaging-compat",vX="@firebase/performance",yX="@firebase/performance-compat",bX="@firebase/remote-config",EX="@firebase/remote-config-compat",wX="@firebase/storage",CX="@firebase/storage-compat",IX="@firebase/firestore",xX="@firebase/ai",DX="@firebase/firestore-compat",TX="firebase",SX="11.10.0";var US="[DEFAULT]",AX={[BS]:"fire-core",[nX]:"fire-core-compat",[rX]:"fire-analytics",[iX]:"fire-analytics-compat",[sX]:"fire-app-check",[oX]:"fire-app-check-compat",[aX]:"fire-auth",[cX]:"fire-auth-compat",[lX]:"fire-rtdb",[uX]:"fire-data-connect",[dX]:"fire-rtdb-compat",[hX]:"fire-fn",[fX]:"fire-fn-compat",[pX]:"fire-iid",[gX]:"fire-iid-compat",[mX]:"fire-fcm",[_X]:"fire-fcm-compat",[vX]:"fire-perf",[yX]:"fire-perf-compat",[bX]:"fire-rc",[EX]:"fire-rc-compat",[wX]:"fire-gcs",[CX]:"fire-gcs-compat",[IX]:"fire-fst",[DX]:"fire-fst-compat",[xX]:"fire-vertex","fire-js":"fire-js",[TX]:"fire-js-all"};var Bg=new Map,MX=new Map,$S=new Map;function Ij(n,e){try{n.container.addComponent(e)}catch(t){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Io(n){let e=n.name;if($S.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;$S.set(e,n);for(let t of Bg.values())Ij(t,n);for(let t of MX.values())Ij(t,n);return!0}function Ph(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yi(n){return n==null?!1:n.settings!==void 0}var PX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bc=new Co("app","Firebase",PX);var zS=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bc.create("app-deleted",{appName:this._name})}};var Ec=SX;function WS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:US,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw bc.create("bad-app-name",{appName:String(r)});if(t||(t=SS()),!t)throw bc.create("no-options");let o=Bg.get(r);if(o){if(fs(t,o.options)&&fs(i,o.config))return o;throw bc.create("duplicate-app",{appName:r})}let s=new lb(r);for(let c of $S.values())s.addComponent(c);let a=new zS(t,i,s);return Bg.set(r,a),a}function pu(n=US){let e=Bg.get(n);if(!e&&n===US&&SS())return WS();if(!e)throw bc.create("no-app",{appName:n});return e}function db(){return Array.from(Bg.values())}function gn(n,e,t){var i;let r=(i=AX[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(a.join(" "));return}Io(new Si(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var RX="firebase-heartbeat-database",kX=1,Ug="firebase-heartbeat-store",VS=null;function Sj(){return VS||(VS=wj(RX,kX,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ug)}catch(t){console.warn(t)}}}}).catch(n=>{throw bc.create("idb-open",{originalErrorMessage:n.message})})),VS}function OX(n){return A(this,null,function*(){try{let t=(yield Sj()).transaction(Ug),i=yield t.objectStore(Ug).get(Aj(n));return yield t.done,i}catch(e){if(e instanceof pr)fa.warn(e.message);else{let t=bc.create("idb-get",{originalErrorMessage:e?.message});fa.warn(t.message)}}})}function xj(n,e){return A(this,null,function*(){try{let i=(yield Sj()).transaction(Ug,"readwrite");yield i.objectStore(Ug).put(e,Aj(n)),yield i.done}catch(t){if(t instanceof pr)fa.warn(t.message);else{let i=bc.create("idb-set",{originalErrorMessage:t?.message});fa.warn(i.message)}}})}function Aj(n){return`${n.name}!${n.options.appId}`}var NX=1024,FX=30,HS=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return A(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>FX){let s=VX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){fa.warn(i)}})}getHeartbeatsHeader(){return A(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Dj(),{heartbeatsToSend:i,unsentEntries:r}=LX(this._heartbeatsCache.heartbeats),o=Vg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fa.warn(t),""}})}};function Dj(){return new Date().toISOString().substring(0,10)}function LX(n,e=NX){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Tj(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Tj(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var qS=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Sh()?fj().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield OX(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xj(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xj(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Tj(n){return Vg(JSON.stringify({version:2,heartbeats:n})).length}function VX(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function jX(n){Io(new Si("platform-logger",e=>new jS(e),"PRIVATE")),Io(new Si("heartbeat",e=>new HS(e),"PRIVATE")),gn(BS,Cj,n),gn(BS,Cj,"esm2017"),gn("fire-js","")}jX("");var BX="firebase",UX="11.10.0";gn(BX,UX,"app");function Mj(n,e){let i=!e?.manualCleanup?e?.injector?.get(Ii)??z(Ii):null,r=$X(e?.equal),o;e?.requireSync?o=Pe({kind:0},{equal:r}):o=Pe({kind:1,value:e?.initialValue},{equal:r});let s,a=n.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new re(601,!1);return s=i?.onDestroy(a.unsubscribe.bind(a)),an(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new re(601,!1)}},{equal:e?.equal})}function $X(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function Pj(n){n===void 0&&(n=z(Wt));let e=n.get(aa);return t=>new Oe(i=>{let r=e.add(),o=!1;function s(){o||(r(),o=!0)}let a=t.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var wc=new ea("ANGULARFIRE2_VERSION");function $g(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var kh=(n,e)=>{let t=e?[e]:db(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Rh=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Rh||{}),Rj=yT()&&typeof Zone<"u"?Rh.WARN:Rh.SILENT;var hb=class{zone;delegate;constructor(e,t=CI){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,i)}},Cc=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=z(ft);this.outsideAngular=t.runOutsideAngular(()=>new hb(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new hb(typeof Zone>"u"?void 0:Zone.current,wI))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kj=!1;function zX(n,e){!kj&&(Rj>Rh.SILENT||yT())&&(kj=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Rj>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function HX(n){let e=z(ft,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function gu(n){let e=z(ft,{optional:!0});return e?e.run(()=>n()):n()}var qX=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),fn(t,()=>gu(()=>n.apply(void 0,i)))),zt=(n,e,t)=>(t||=e?Rh.WARN:Rh.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=z(Cc),s=z(aa),a=z(on)}catch{return zX(n,t),n.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(e&&(i||=gu(()=>s.add())),r[l]=qX(r[l],i,a));let c=HX(()=>n.apply(this,r));return e?c instanceof Oe?c.pipe(Ga(o.outsideAngular),Wa(o.insideAngular),Pj(a)):c instanceof Promise?gu(()=>{let l=s.add();return new Promise((u,h)=>{c.then(p=>fn(a,()=>gu(()=>u(p))),p=>fn(a,()=>gu(()=>h(p)))).finally(l)})}):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:gu(()=>c):c instanceof Oe?c.pipe(Ga(o.outsideAngular),Wa(o.insideAngular)):gu(()=>c)});var pa=class{constructor(e){return e}},mu=class{constructor(){return db()}};function WX(n){return n&&n.length===1?n[0]:new pa(pu())}var GS=new le("angularfire2._apps"),GX={provide:pa,useFactory:WX,deps:[[new Bi,GS]]},KX={provide:mu,deps:[[new Bi,GS]]};function YX(n){return(e,t)=>{let i=t.get(sc);gn("angularfire",wc.full,"core"),gn("angularfire",wc.full,"app"),gn("angular",UI.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new pa(r)}}function Oj(n,...e){return Vi([GX,KX,{provide:GS,useFactory:YX(n),multi:!0,deps:[ft,Wt,Cc,...e]}])}var Nj=zt(WS,!0);var QX=new Map,XX={activated:!1,tokenObservers:[]},JX={initialized:!1,enabled:!1};function xo(n){return QX.get(n)||Object.assign({},XX)}function jj(){return JX}var ZX="https://content-firebaseappcheck.googleapis.com/v1";var eJ="exchangeDebugToken",Fj={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},HTe=1440*60*1e3;var QS=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return A(this,null,function*(){this.stop();try{this.pending=new hu,this.pending.promise.catch(t=>{}),yield tJ(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new hu,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function tJ(n){return new Promise(e=>{setTimeout(e,n)})}var nJ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ic=new Co("appCheck","AppCheck",nJ);function Bj(n){if(!xo(n).activated)throw Ic.create("use-before-activation",{appName:n.name})}function Uj(i,r){return A(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw Ic.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Ic.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw Ic.create("fetch-parse-error",{originalErrorMessage:g?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ic.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,p=Date.now();return{token:l.token,expireTimeMillis:p+h,issuedAtTimeMillis:p}})}function $j(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${ZX}/projects/${t}/apps/${i}:${eJ}?key=${r}`,body:{debug_token:e}}}var iJ="firebase-app-check-database",rJ=1,XS="firebase-app-check-store";var fb=null;function oJ(){return fb||(fb=new Promise((n,e)=>{try{let t=indexedDB.open(iJ,rJ);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ic.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(XS,{keyPath:"compositeKey"})}}}catch(t){e(Ic.create("storage-open",{originalErrorMessage:t?.message}))}}),fb)}function sJ(n,e){return aJ(cJ(n),e)}function aJ(n,e){return A(this,null,function*(){let i=(yield oJ()).transaction(XS,"readwrite"),o=i.objectStore(XS).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Ic.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function cJ(n){return`${n.options.appId}-${n.name}`}var zg=new ps("@firebase/app-check");function KS(n,e){return Sh()?sJ(n,e).catch(t=>{zg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zj(){return jj().enabled}function Hj(){return A(this,null,function*(){let n=jj();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var lJ={error:"UNKNOWN_ERROR"};function uJ(n){return ib.encodeString(JSON.stringify(n),!1)}function JS(n,e=!1,t=!1){return A(this,null,function*(){let i=n.app;Bj(i);let r=xo(i),o=r.token,s;if(o&&!Hg(o)&&(r.token=void 0,o=void 0),!o){let l=yield r.cachedTokenPromise;l&&(Hg(l)?o=l:yield KS(i,void 0))}if(!e&&o&&Hg(o))return{token:o.token};let a=!1;if(zj())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=Uj($j(i,yield Hj()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let l=yield r.exchangeTokenPromise;return yield KS(i,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zg.warn(l.message):t&&zg.error(l),YS(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield xo(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zg.warn(l.message):t&&zg.error(l),s=l}let c;return o?s?Hg(o)?c={token:o.token,internalError:s}:c=YS(s):(c={token:o.token},r.token=o,yield KS(i,o)):c=YS(s),a&&pJ(i,c),c})}function dJ(n){return A(this,null,function*(){let e=n.app;Bj(e);let{provider:t}=xo(e);if(zj()){let i=yield Hj(),{token:r}=yield Uj($j(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function hJ(n,e,t,i){let{app:r}=n,o=xo(r),s={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Hg(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Lj(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Lj(n))}function qj(n,e){let t=xo(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Lj(n){let{app:e}=n,t=xo(e),i=t.tokenRefresher;i||(i=fJ(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fJ(n){let{app:e}=n;return new QS(()=>A(null,null,function*(){let t=xo(e),i;if(t.token?i=yield JS(n,!0):i=yield JS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=xo(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Fj.RETRIAL_MIN_WAIT,Fj.RETRIAL_MAX_WAIT)}function pJ(n,e){let t=xo(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Hg(n){return n.expireTimeMillis-Date.now()>0}function YS(n){return{token:uJ(lJ),error:n}}var ZS=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=xo(this.app);for(let t of e)qj(this.app,t.next);return Promise.resolve()}};function gJ(n,e){return new ZS(n,e)}function mJ(n){return{getToken:e=>JS(n,e),getLimitedUseToken:()=>dJ(n),addTokenListener:e=>hJ(n,"INTERNAL",e),removeTokenListener:e=>qj(n.app,e)}}var _J="@firebase/app-check",vJ="0.10.1";var yJ="app-check",Vj="app-check-internal";function bJ(){Io(new Si(yJ,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return gJ(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Vj).initialize()})),Io(new Si(Vj,n=>{let e=n.getProvider("app-check").getImmediate();return mJ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),gn(_J,vJ)}bJ();var EJ="app-check";var Oh=class{constructor(){return kh(EJ)}};var wJ=["localhost","0.0.0.0","127.0.0.1"],iSe=typeof window<"u"&&wJ.includes(window.location.hostname);function aB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cB=aB,lB=new Co("auth","Firebase",aB());var yb=new ps("@firebase/auth");function CJ(n,...e){yb.logLevel<=nt.WARN&&yb.warn(`Auth (${Ec}): ${n}`,...e)}function gb(n,...e){yb.logLevel<=nt.ERROR&&yb.error(`Auth (${Ec}): ${n}`,...e)}function _s(n,...e){throw C1(n,...e)}function _u(n,...e){return C1(n,...e)}function uB(n,e,t){let i=Object.assign(Object.assign({},cB()),{[e]:t});return new Co("auth","Firebase",i).create(e,{appName:n.name})}function _a(n){return uB(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C1(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return lB.create(n,...e)}function xe(n,e,...t){if(!n)throw C1(e,...t)}function ga(n){let e="INTERNAL ASSERTION FAILED: "+n;throw gb(e),new Error(e)}function Tc(n,e){n||ga(e)}function i1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function IJ(){return Wj()==="http:"||Wj()==="https:"}function Wj(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function xJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IJ()||uj()||"connection"in navigator)?navigator.onLine:!0}function DJ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var vu=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tc(t>e,"Short delay should be less than long delay!"),this.isMobile=aj()||dj()}get(){return xJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function I1(n,e){Tc(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var bb=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AJ=new vu(3e4,6e4);function va(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function vs(o,s,a,c){return A(this,arguments,function*(n,e,t,i,r={}){return dB(n,r,()=>A(null,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let h=jg(Object.assign({key:n.config.apiKey},u)).slice(1),p=yield n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:p},l);return lj()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&yc(n.emulatorConfig.host)&&(g.credentials="include"),bb.fetch()(yield hB(n,n.config.apiHost,t,h),g)}))})}function dB(n,e,t){return A(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},TJ),e);try{let r=new r1(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pb(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pb(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw pb(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw pb(n,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uB(n,u,l);_s(n,u)}}catch(r){if(r instanceof pr)throw r;_s(n,"network-request-failed",{message:String(r)})}})}function Jg(o,s,a,c){return A(this,arguments,function*(n,e,t,i,r={}){let l=yield vs(n,e,t,i,r);return"mfaPendingCredential"in l&&_s(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function hB(n,e,t,i){return A(this,null,function*(){let r=`${e}${t}?${i}`,o=n,s=o.config.emulator?I1(n.config,r):`${n.config.apiScheme}://${r}`;return SJ.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function MJ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var r1=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_u(this.auth,"network-request-failed")),AJ.get())})}};function pb(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=_u(n,e,i);return r.customData._tokenResponse=t,r}function Gj(n){return n!==void 0&&n.enterprise!==void 0}var o1=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MJ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function PJ(n,e){return A(this,null,function*(){return vs(n,"GET","/v2/recaptchaConfig",va(n,e))})}function RJ(n,e){return A(this,null,function*(){return vs(n,"POST","/v1/accounts:delete",e)})}function Eb(n,e){return A(this,null,function*(){return vs(n,"POST","/v1/accounts:lookup",e)})}function Wg(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function x1(n,e=!1){return A(this,null,function*(){let t=cn(n),i=yield t.getIdToken(e),r=D1(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Wg(e1(r.auth_time)),issuedAtTime:Wg(e1(r.iat)),expirationTime:Wg(e1(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function e1(n){return Number(n)*1e3}function D1(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gb("JWT malformed, contained fewer than 3 sections"),null;try{let r=rb(t);return r?JSON.parse(r):(gb("Failed to decode base64 JWT payload"),null)}catch(r){return gb("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Kj(n){let e=D1(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Nh(n,e,t=!1){return A(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof pr&&kJ(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function kJ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var s1=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>A(this,null,function*(){yield this.iteration()}),t)}iteration(){return A(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kg=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wg(this.lastLoginAt),this.creationTime=Wg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wb(n){return A(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Nh(n,Eb(t,{idToken:i}));xe(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fB(o.providerUserInfo):[],a=OJ(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,u=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kg(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function T1(n){return A(this,null,function*(){let e=cn(n);yield wb(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OJ(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function fB(n){return n.map(e=>{var{providerId:t}=e,i=II(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function NJ(n,e){return A(this,null,function*(){let t=yield dB(n,{},()=>A(null,null,function*(){let i=jg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=yield hB(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:i};return n.emulatorConfig&&yc(n.emulatorConfig.host)&&(c.credentials="include"),bb.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function FJ(n,e){return A(this,null,function*(){return vs(n,"POST","/v2/accounts:revokeToken",va(n,e))})}var Gg=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");let t=Kj(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return A(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return A(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield NJ(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(xe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(xe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ga("not implemented")}};function xc(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Dc=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=II(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kg(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return A(this,null,function*(){let t=yield Nh(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return x1(this,e)}reload(){return T1(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return A(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield wb(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return A(this,null,function*(){if(Yi(this.auth.app))return Promise.reject(_a(this.auth));let e=yield this.getIdToken();return yield Nh(this,RJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(r=t.email)!==null&&r!==void 0?r:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=t.photoURL)!==null&&s!==void 0?s:void 0,E=(a=t.tenantId)!==null&&a!==void 0?a:void 0,b=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,M=(l=t.createdAt)!==null&&l!==void 0?l:void 0,O=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:q,isAnonymous:H,providerData:G,stsTokenManager:R}=t;xe(B&&R,e,"internal-error");let x=Gg.fromJSON(this.name,R);xe(typeof B=="string",e,"internal-error"),xc(h,e.name),xc(p,e.name),xe(typeof q=="boolean",e,"internal-error"),xe(typeof H=="boolean",e,"internal-error"),xc(g,e.name),xc(y,e.name),xc(E,e.name),xc(b,e.name),xc(M,e.name),xc(O,e.name);let P=new n({uid:B,auth:e,email:p,emailVerified:q,displayName:h,isAnonymous:H,photoURL:y,phoneNumber:g,tenantId:E,stsTokenManager:x,createdAt:M,lastLoginAt:O});return G&&Array.isArray(G)&&(P.providerData=G.map(N=>Object.assign({},N))),b&&(P._redirectEventId=b),P}static _fromIdTokenResponse(e,t,i=!1){return A(this,null,function*(){let r=new Gg;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield wb(o),o})}static _fromGetAccountInfoResponse(e,t,i){return A(this,null,function*(){let r=t.users[0];xe(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?fB(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Gg;a.updateFromIdToken(i);let c=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Kg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var Yj=new Map;function ma(n){Tc(n instanceof Function,"Expected a class definition");let e=Yj.get(n);return e?(Tc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yj.set(n,e),e)}var LJ=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(this,null,function*(){return!0})}_set(t,i){return A(this,null,function*(){this.storage[t]=i})}_get(t){return A(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return A(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),a1=LJ;function mb(n,e,t){return`firebase:${n}:${e}:${t}`}var Cb=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=mb(this.userKey,r.apiKey,o),this.fullPersistenceKey=mb("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return A(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Eb(this.auth,{idToken:e}).catch(()=>{});return t?Dc._fromGetAccountInfoResponse(this.auth,t,e):null}return Dc._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return A(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return A(this,null,function*(){if(!t.length)return new n(ma(a1),e,i);let r=(yield Promise.all(t.map(l=>A(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||ma(a1),s=mb(i,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let h;if(typeof u=="string"){let p=yield Eb(e,{idToken:u}).catch(()=>{});if(!p)break;h=yield Dc._fromGetAccountInfoResponse(e,p,u)}else h=Dc._fromJSON(e,u);l!==o&&(a=h),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>A(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,i))})}};function Qj(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_B(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yB(e))return"Blackberry";if(bB(e))return"Webos";if(gB(e))return"Safari";if((e.includes("chrome/")||mB(e))&&!e.includes("edge/"))return"Chrome";if(vB(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function pB(n=In()){return/firefox\//i.test(n)}function gB(n=In()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mB(n=In()){return/crios\//i.test(n)}function _B(n=In()){return/iemobile/i.test(n)}function vB(n=In()){return/android/i.test(n)}function yB(n=In()){return/blackberry/i.test(n)}function bB(n=In()){return/webos/i.test(n)}function S1(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VJ(n=In()){var e;return S1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jJ(){return hj()&&document.documentMode===10}function EB(n=In()){return S1(n)||vB(n)||bB(n)||yB(n)||/windows phone/i.test(n)||_B(n)}function wB(n,e=[]){let t;switch(n){case"Browser":t=Qj(In());break;case"Worker":t=`${Qj(In())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ec}/${i}`}var c1=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return A(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function BJ(t){return A(this,arguments,function*(n,e={}){return vs(n,"GET","/v2/passwordPolicy",va(n,e))})}var UJ=6,l1=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:UJ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var u1=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new c1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ma(t)),this._initializationPromise=this.queue(()=>A(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield Cb.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return A(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return A(this,null,function*(){try{let t=yield Eb(this,{idToken:e}),i=yield Dc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return A(this,null,function*(){var t;if(Yi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return A(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return A(this,null,function*(){try{yield wb(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DJ()}_delete(){return A(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return A(this,null,function*(){if(Yi(this.app))return Promise.reject(_a(this));let t=e?cn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return A(this,null,function*(){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>A(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return A(this,null,function*(){return Yi(this.app)?Promise.reject(_a(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yi(this.app)?Promise.reject(_a(this)):this.queue(()=>A(this,null,function*(){yield this.assertedPersistence.setPersistence(ma(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return A(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return A(this,null,function*(){let e=yield BJ(this),t=new l1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return A(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield FJ(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return A(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return A(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ma(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=yield Cb.create(this,[ma(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return A(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>A(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return A(this,null,function*(){if(e===this.currentUser)return this.queue(()=>A(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return A(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return A(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return A(this,null,function*(){var e;if(Yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&CJ(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Sc(n){return cn(n)}var Ib=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gj(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rb={loadJS(){return A(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $J(n){Rb=n}function CB(n){return Rb.loadJS(n)}function zJ(){return Rb.recaptchaEnterpriseScript}function HJ(){return Rb.gapiScript}function IB(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var d1=class{constructor(){this.enterprise=new h1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},h1=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var qJ="recaptcha-enterprise",xB="NO_RECAPTCHA",f1=class{constructor(e){this.type=qJ,this.auth=Sc(e)}verify(e="verify",t=!1){return A(this,null,function*(){function i(o){return A(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>A(null,null,function*(){PJ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new o1(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;Gj(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(xB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d1().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!t&&Gj(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zJ();c.length!==0&&(c+=a),CB(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function qg(n,e,t,i=!1,r=!1){return A(this,null,function*(){let o=new f1(n),s;if(r)s=xB;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function xb(n,e,t,i,r){return A(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield qg(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(a=>A(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield qg(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield qg(n,e,t);return i(n,a).catch(c=>A(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield qg(n,e,t,!1,!0);return i(n,u)}return Promise.reject(c)}))}else{let a=yield qg(n,e,t,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function A1(n,e){let t=Ph(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(fs(o,e??{}))return r;_s(r,"already-initialized")}return t.initialize({options:e})}function WJ(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ma);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function M1(n,e,t){let i=Sc(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=DB(e),{host:s,port:a}=GJ(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(fs(l,i.config.emulator)&&fs(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,yc(s)?(ab(`${o}//${s}${c}`),cb("Auth",!0)):r||KJ()}function DB(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GJ(n){let e=DB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:Xj(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:Xj(s)}}}function Xj(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function KJ(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Yg=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ga("not implemented")}_getIdTokenResponse(e){return ga("not implemented")}_linkToIdToken(e,t){return ga("not implemented")}_getReauthenticationResolver(e){return ga("not implemented")}};function YJ(n,e){return A(this,null,function*(){return vs(n,"POST","/v1/accounts:signUp",e)})}function QJ(n,e){return A(this,null,function*(){return Jg(n,"POST","/v1/accounts:signInWithPassword",va(n,e))})}function XJ(n,e){return A(this,null,function*(){return vs(n,"POST","/v1/accounts:sendOobCode",va(n,e))})}function JJ(n,e){return A(this,null,function*(){return XJ(n,e)})}function ZJ(n,e){return A(this,null,function*(){return Jg(n,"POST","/v1/accounts:signInWithEmailLink",va(n,e))})}function eZ(n,e){return A(this,null,function*(){return Jg(n,"POST","/v1/accounts:signInWithEmailLink",va(n,e))})}var Qg=class n extends Yg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return A(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xb(e,t,"signInWithPassword",QJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ZJ(e,{email:this._email,oobCode:this._password});default:_s(e,"internal-error")}})}_linkToIdToken(e,t){return A(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xb(e,i,"signUpPassword",YJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eZ(e,{idToken:t,email:this._email,oobCode:this._password});default:_s(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function t1(n,e){return A(this,null,function*(){return Jg(n,"POST","/v1/accounts:signInWithIdp",va(n,e))})}function tZ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nZ(n){let e=Ah(Mh(n)).link,t=e?Ah(Mh(e)).deep_link_id:null,i=Ah(Mh(n)).deep_link_id;return(i?Ah(Mh(i)).link:null)||i||t||e||n}var Db=class n{constructor(e){var t,i,r,o,s,a;let c=Ah(Mh(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,h=tZ((r=c.mode)!==null&&r!==void 0?r:null);xe(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=nZ(e);try{return new n(t)}catch{return null}}};var TB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Qg._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Db.parseLink(i);return xe(r,"argument-error"),Qg._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Tb=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var p1=class extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iZ(n,e){return A(this,null,function*(){return Jg(n,"POST","/v1/accounts:signUp",va(n,e))})}var Fh=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return A(this,null,function*(){let o=yield Dc._fromIdTokenResponse(e,i,r),s=Jj(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return A(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Jj(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function Jj(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var g1=class n extends pr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function SB(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?g1._fromErrorAndOperation(n,o,e,i):o})}function rZ(n,e,t=!1){return A(this,null,function*(){let i=yield Nh(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Fh._forOperation(n,"link",i)})}function oZ(n,e,t=!1){return A(this,null,function*(){let{auth:i}=n;if(Yi(i.app))return Promise.reject(_a(i));let r="reauthenticate";try{let o=yield Nh(n,SB(i,r,e,n),t);xe(o.idToken,i,"internal-error");let s=D1(o.idToken);xe(s,i,"internal-error");let{sub:a}=s;return xe(n.uid===a,i,"user-mismatch"),Fh._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&_s(i,"user-mismatch"),o}})}function AB(n,e,t=!1){return A(this,null,function*(){if(Yi(n.app))return Promise.reject(_a(n));let i="signIn",r=yield SB(n,i,e),o=yield Fh._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function P1(n,e){return A(this,null,function*(){return AB(Sc(n),e)})}function sZ(n,e,t){var i;xe(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),xe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),xe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(xe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(xe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function MB(n){return A(this,null,function*(){let e=Sc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function R1(n,e,t){return A(this,null,function*(){let i=Sc(n),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&sZ(i,r,t),yield xb(i,r,"getOobCode",JJ,"EMAIL_PASSWORD_PROVIDER")})}function k1(n,e,t){return A(this,null,function*(){if(Yi(n.app))return Promise.reject(_a(n));let i=Sc(n),s=yield xb(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iZ,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&MB(n),c}),a=yield Fh._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function O1(n,e,t){return Yi(n.app)?Promise.reject(_a(n)):P1(cn(n),TB.credential(e,t)).catch(i=>A(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&MB(n),i}))}function aZ(n,e){return A(this,null,function*(){return vs(n,"POST","/v1/accounts:update",e)})}function N1(i,r){return A(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=cn(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Nh(o,aZ(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let l=o.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function F1(n,e){return cn(n).setPersistence(e)}function L1(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function V1(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function j1(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}var Sb="__sak";var Ab=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sb,"1"),this.storage.removeItem(Sb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cZ=1e3,lZ=10,uZ=(()=>{class n extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);jJ()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lZ):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},cZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return A(this,null,function*(){yield Ks(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return A(this,null,function*(){let i=yield Ks(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return A(this,null,function*(){yield Ks(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),kb=uZ;var dZ=(()=>{class n extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),B1=dZ;function hZ(n){return Promise.all(n.map(e=>A(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var fZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return A(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(u=>A(this,null,function*(){return u(i.origin,s)})),l=yield hZ(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function PB(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var m1=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return A(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=PB("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(h){let p=h;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ms(){return window}function pZ(n){ms().location.href=n}function RB(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}function gZ(){return A(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mZ(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _Z(){return RB()?self:null}var kB="firebaseLocalStorageDb",vZ=1,Mb="firebaseLocalStorage",OB="fbase_key",yu=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ob(n,e){return n.transaction([Mb],e?"readwrite":"readonly").objectStore(Mb)}function yZ(){let n=indexedDB.deleteDatabase(kB);return new yu(n).toPromise()}function _1(){let n=indexedDB.open(kB,vZ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Mb,{keyPath:OB})}catch(r){t(r)}}),n.addEventListener("success",()=>A(null,null,function*(){let i=n.result;i.objectStoreNames.contains(Mb)?e(i):(i.close(),yield yZ(),e(yield _1()))}))})}function Zj(n,e,t){return A(this,null,function*(){let i=Ob(n,!0).put({[OB]:e,value:t});return new yu(i).toPromise()})}function bZ(n,e){return A(this,null,function*(){let t=Ob(n,!1).get(e),i=yield new yu(t).toPromise();return i===void 0?null:i.value})}function eB(n,e){let t=Ob(n,!0).delete(e);return new yu(t).toPromise()}var EZ=800,wZ=3,CZ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return A(this,null,function*(){return this.db?this.db:(this.db=yield _1(),this.db)})}_withRetries(t){return A(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>wZ)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return A(this,null,function*(){return RB()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return A(this,null,function*(){this.receiver=fZ._getInstance(_Z()),this.receiver._subscribe("keyChanged",(t,i)=>A(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>A(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return A(this,null,function*(){var t,i;if(this.activeServiceWorker=yield gZ(),!this.activeServiceWorker)return;this.sender=new m1(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return A(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mZ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return A(this,null,function*(){try{if(!indexedDB)return!1;let t=yield _1();return yield Zj(t,Sb,"1"),yield eB(t,Sb),!0}catch{}return!1})}_withPendingWrite(t){return A(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(r=>Zj(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return A(this,null,function*(){let i=yield this._withRetries(r=>bZ(r,t));return this.localCache[t]=i,i})}_remove(t){return A(this,null,function*(){return this._withPendingWrite(()=>A(this,null,function*(){return yield this._withRetries(i=>eB(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return A(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ob(o,!1).getAll();return new yu(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>A(this,null,function*(){return this._poll()}),EZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),NB=CZ;var dSe=IB("rcb"),hSe=new vu(3e4,6e4);function IZ(n,e){return e?ma(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Xg=class extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return t1(e,this._buildIdpRequest())}_linkToIdToken(e,t){return t1(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return t1(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function xZ(n){return AB(n.auth,new Xg(n),n.bypassAuthState)}function DZ(n){let{auth:e,user:t}=n;return xe(t,e,"internal-error"),oZ(t,new Xg(n),n.bypassAuthState)}function TZ(n){return A(this,null,function*(){let{auth:e,user:t}=n;return xe(t,e,"internal-error"),rZ(t,new Xg(n),n.bypassAuthState)})}var v1=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>A(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return A(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xZ;case"linkViaPopup":case"linkViaRedirect":return TZ;case"reauthViaPopup":case"reauthViaRedirect":return DZ;default:_s(this.auth,"internal-error")}}resolve(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fSe=new vu(2e3,1e4);var SZ="pendingRedirect",_b=new Map,y1=class n extends v1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return A(this,null,function*(){let e=_b.get(this.auth._key());if(!e){try{let i=(yield AZ(this.resolver,this.auth))?yield Ks(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}_b.set(this.auth._key(),e)}return this.bypassAuthState||_b.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return A(this,null,function*(){if(e.type==="signInViaRedirect")return Ks(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ks(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return A(this,null,function*(){})}cleanUp(){}};function AZ(n,e){return A(this,null,function*(){let t=RZ(e),i=PZ(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function MZ(n,e){_b.set(n._key(),e)}function PZ(n){return ma(n._redirectPersistence)}function RZ(n){return mb(SZ,n.config.apiKey,n.name)}function kZ(n,e,t=!1){return A(this,null,function*(){if(Yi(n.app))return Promise.reject(_a(n));let i=Sc(n),r=IZ(i,e),s=yield new y1(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var OZ=600*1e3,b1=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NZ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!FB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(_u(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(tB(e))}saveEventToCache(e){this.cachedEventUids.add(tB(e)),this.lastProcessedEventTime=Date.now()}};function tB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FB({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function NZ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FB(n);default:return!1}}function FZ(t){return A(this,arguments,function*(n,e={}){return vs(n,"GET","/v1/projects",e)})}var LZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VZ=/^https?/;function jZ(n){return A(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield FZ(n);for(let t of e)try{if(BZ(t))return}catch{}_s(n,"unauthorized-domain")})}function BZ(n){let e=i1(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!VZ.test(t))return!1;if(LZ.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var UZ=new vu(3e4,6e4);function nB(){let n=ms().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $Z(n){return new Promise((e,t)=>{var i,r,o;function s(){nB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nB(),t(_u(n,"network-request-failed"))},timeout:UZ.get()})}if(!((r=(i=ms().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ms().gapi)===null||o===void 0)&&o.load)s();else{let a=IB("iframefcb");return ms()[a]=()=>{gapi.load?s():t(_u(n,"network-request-failed"))},CB(`${HJ()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw vb=null,e})}var vb=null;function zZ(n){return vb=vb||$Z(n),vb}var HZ=new vu(5e3,15e3),qZ="__/auth/iframe",WZ="emulator/auth/iframe",GZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YZ(n){let e=n.config;xe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?I1(e,WZ):`https://${n.config.authDomain}/${qZ}`,i={apiKey:e.apiKey,appName:n.name,v:Ec},r=KZ.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${jg(i).slice(1)}`}function QZ(n){return A(this,null,function*(){let e=yield zZ(n),t=ms().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:YZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GZ,dontclear:!0},i=>new Promise((r,o)=>A(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=_u(n,"network-request-failed"),a=ms().setTimeout(()=>{o(s)},HZ.get());function c(){ms().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var XZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JZ=500,ZZ=600,eee="_blank",tee="http://localhost",Pb=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nee(n,e,t,i=JZ,r=ZZ){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},XZ),{width:i.toString(),height:r.toString(),top:o,left:s}),l=In().toLowerCase();t&&(a=mB(l)?eee:t),pB(l)&&(e=e||tee,c.scrollbars="yes");let u=Object.entries(c).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(VJ(l)&&a!=="_self")return iee(e||"",a),new Pb(null);let h=window.open(e||"",a,u);xe(h,n,"popup-blocked");try{h.focus()}catch{}return new Pb(h)}function iee(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var ree="__/auth/handler",oee="emulator/auth/handler",see=encodeURIComponent("fac");function iB(n,e,t,i,r,o){return A(this,null,function*(){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ec,eventId:r};if(e instanceof Tb){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",pj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(o||{}))s[u]=h}if(e instanceof p1){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${see}=${encodeURIComponent(c)}`:"";return`${aee(n)}?${jg(a).slice(1)}${l}`})}function aee({config:n}){return n.emulator?I1(n,oee):`https://${n.authDomain}/${ree}`}var n1="webStorageSupport",E1=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=kZ,this._overrideRedirectResult=MZ}_openPopup(e,t,i,r){return A(this,null,function*(){var o;Tc((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iB(e,t,i,i1(),r);return nee(e,s,PB())})}_openRedirect(e,t,i,r){return A(this,null,function*(){yield this._originValidation(e);let o=yield iB(e,t,i,i1(),r);return pZ(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Tc(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return A(this,null,function*(){let t=yield QZ(e),i=new b1(e);return t.register("authEvent",r=>(xe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(n1,{type:n1},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[n1];s!==void 0&&t(!!s),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jZ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EB()||gB()||S1()}},LB=E1;var rB="@firebase/auth",oB="1.10.8";var w1=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return A(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lee(n){Io(new Si("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;xe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wB(n)},l=new u1(i,r,o,c);return WJ(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Io(new Si("auth-internal",e=>{let t=Sc(e.getProvider("auth").getImmediate());return(i=>new w1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gn(rB,oB,cee(n)),gn(rB,oB,"esm2017")}var uee=300,dee=AS("authIdTokenMaxAge")||uee,sB=null,hee=n=>e=>A(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dee)return;let r=t?.token;sB!==r&&(sB=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function U1(n=pu()){let e=Ph(n,"auth");if(e.isInitialized())return e.getImmediate();let t=A1(n,{popupRedirectResolver:LB,persistence:[NB,kb,B1]}),i=AS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=hee(o.toString());V1(t,s,()=>s(t.currentUser)),L1(t,a=>s(a))}}let r=TS("auth");return r&&M1(t,`http://${r}`),t}function fee(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$J({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=_u("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",fee().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lee("Browser");var VB="auth",ni=class{constructor(e){return e}},Zg=class{constructor(){return kh(VB)}};var $1=new le("angularfire2.auth-instances");function Zee(n,e){let t=$g(VB,n,e);return t&&new ni(t)}function ete(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ni(i)}}var tte={provide:Zg,deps:[[new Bi,$1]]},nte={provide:ni,useFactory:Zee,deps:[[new Bi,$1],pa]};function jB(n,...e){return gn("angularfire",wc.full,"auth"),Vi([nte,tte,{provide:$1,useFactory:ete(n),multi:!0,deps:[ft,Wt,Cc,mu,[new Bi,Oh],...e]}])}var BB=zt(k1,!0,2);var UB=zt(U1,!0);var gr=zt(j1,!0);var $B=zt(R1,!0,2);var zB=zt(F1,!0);var HB=zt(O1,!0,2);var qB=zt(N1,!0,2);var Do=()=>A(null,null,function*(){let n=z(ni),e=z(pt);return n.currentUser??(yield new Promise(i=>{let r=gr(n,o=>{i(o),r()})}))?!0:(e.navigateByUrl("/"),!1)});var WB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GB={};var ya,z1;(function(){var n;function e(R,x){function P(){}P.prototype=x.prototype,R.D=x.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(N,F,V){for(var k=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)k[jt-2]=arguments[jt];return x.prototype[F].apply(N,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,x,P){P||(P=0);var N=Array(16);if(typeof x=="string")for(var F=0;16>F;++F)N[F]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(F=0;16>F;++F)N[F]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=R.g[0],P=R.g[1],F=R.g[2];var V=R.g[3],k=x+(V^P&(F^V))+N[0]+3614090360&4294967295;x=P+(k<<7&4294967295|k>>>25),k=V+(F^x&(P^F))+N[1]+3905402710&4294967295,V=x+(k<<12&4294967295|k>>>20),k=F+(P^V&(x^P))+N[2]+606105819&4294967295,F=V+(k<<17&4294967295|k>>>15),k=P+(x^F&(V^x))+N[3]+3250441966&4294967295,P=F+(k<<22&4294967295|k>>>10),k=x+(V^P&(F^V))+N[4]+4118548399&4294967295,x=P+(k<<7&4294967295|k>>>25),k=V+(F^x&(P^F))+N[5]+1200080426&4294967295,V=x+(k<<12&4294967295|k>>>20),k=F+(P^V&(x^P))+N[6]+2821735955&4294967295,F=V+(k<<17&4294967295|k>>>15),k=P+(x^F&(V^x))+N[7]+4249261313&4294967295,P=F+(k<<22&4294967295|k>>>10),k=x+(V^P&(F^V))+N[8]+1770035416&4294967295,x=P+(k<<7&4294967295|k>>>25),k=V+(F^x&(P^F))+N[9]+2336552879&4294967295,V=x+(k<<12&4294967295|k>>>20),k=F+(P^V&(x^P))+N[10]+4294925233&4294967295,F=V+(k<<17&4294967295|k>>>15),k=P+(x^F&(V^x))+N[11]+2304563134&4294967295,P=F+(k<<22&4294967295|k>>>10),k=x+(V^P&(F^V))+N[12]+1804603682&4294967295,x=P+(k<<7&4294967295|k>>>25),k=V+(F^x&(P^F))+N[13]+4254626195&4294967295,V=x+(k<<12&4294967295|k>>>20),k=F+(P^V&(x^P))+N[14]+2792965006&4294967295,F=V+(k<<17&4294967295|k>>>15),k=P+(x^F&(V^x))+N[15]+1236535329&4294967295,P=F+(k<<22&4294967295|k>>>10),k=x+(F^V&(P^F))+N[1]+4129170786&4294967295,x=P+(k<<5&4294967295|k>>>27),k=V+(P^F&(x^P))+N[6]+3225465664&4294967295,V=x+(k<<9&4294967295|k>>>23),k=F+(x^P&(V^x))+N[11]+643717713&4294967295,F=V+(k<<14&4294967295|k>>>18),k=P+(V^x&(F^V))+N[0]+3921069994&4294967295,P=F+(k<<20&4294967295|k>>>12),k=x+(F^V&(P^F))+N[5]+3593408605&4294967295,x=P+(k<<5&4294967295|k>>>27),k=V+(P^F&(x^P))+N[10]+38016083&4294967295,V=x+(k<<9&4294967295|k>>>23),k=F+(x^P&(V^x))+N[15]+3634488961&4294967295,F=V+(k<<14&4294967295|k>>>18),k=P+(V^x&(F^V))+N[4]+3889429448&4294967295,P=F+(k<<20&4294967295|k>>>12),k=x+(F^V&(P^F))+N[9]+568446438&4294967295,x=P+(k<<5&4294967295|k>>>27),k=V+(P^F&(x^P))+N[14]+3275163606&4294967295,V=x+(k<<9&4294967295|k>>>23),k=F+(x^P&(V^x))+N[3]+4107603335&4294967295,F=V+(k<<14&4294967295|k>>>18),k=P+(V^x&(F^V))+N[8]+1163531501&4294967295,P=F+(k<<20&4294967295|k>>>12),k=x+(F^V&(P^F))+N[13]+2850285829&4294967295,x=P+(k<<5&4294967295|k>>>27),k=V+(P^F&(x^P))+N[2]+4243563512&4294967295,V=x+(k<<9&4294967295|k>>>23),k=F+(x^P&(V^x))+N[7]+1735328473&4294967295,F=V+(k<<14&4294967295|k>>>18),k=P+(V^x&(F^V))+N[12]+2368359562&4294967295,P=F+(k<<20&4294967295|k>>>12),k=x+(P^F^V)+N[5]+4294588738&4294967295,x=P+(k<<4&4294967295|k>>>28),k=V+(x^P^F)+N[8]+2272392833&4294967295,V=x+(k<<11&4294967295|k>>>21),k=F+(V^x^P)+N[11]+1839030562&4294967295,F=V+(k<<16&4294967295|k>>>16),k=P+(F^V^x)+N[14]+4259657740&4294967295,P=F+(k<<23&4294967295|k>>>9),k=x+(P^F^V)+N[1]+2763975236&4294967295,x=P+(k<<4&4294967295|k>>>28),k=V+(x^P^F)+N[4]+1272893353&4294967295,V=x+(k<<11&4294967295|k>>>21),k=F+(V^x^P)+N[7]+4139469664&4294967295,F=V+(k<<16&4294967295|k>>>16),k=P+(F^V^x)+N[10]+3200236656&4294967295,P=F+(k<<23&4294967295|k>>>9),k=x+(P^F^V)+N[13]+681279174&4294967295,x=P+(k<<4&4294967295|k>>>28),k=V+(x^P^F)+N[0]+3936430074&4294967295,V=x+(k<<11&4294967295|k>>>21),k=F+(V^x^P)+N[3]+3572445317&4294967295,F=V+(k<<16&4294967295|k>>>16),k=P+(F^V^x)+N[6]+76029189&4294967295,P=F+(k<<23&4294967295|k>>>9),k=x+(P^F^V)+N[9]+3654602809&4294967295,x=P+(k<<4&4294967295|k>>>28),k=V+(x^P^F)+N[12]+3873151461&4294967295,V=x+(k<<11&4294967295|k>>>21),k=F+(V^x^P)+N[15]+530742520&4294967295,F=V+(k<<16&4294967295|k>>>16),k=P+(F^V^x)+N[2]+3299628645&4294967295,P=F+(k<<23&4294967295|k>>>9),k=x+(F^(P|~V))+N[0]+4096336452&4294967295,x=P+(k<<6&4294967295|k>>>26),k=V+(P^(x|~F))+N[7]+1126891415&4294967295,V=x+(k<<10&4294967295|k>>>22),k=F+(x^(V|~P))+N[14]+2878612391&4294967295,F=V+(k<<15&4294967295|k>>>17),k=P+(V^(F|~x))+N[5]+4237533241&4294967295,P=F+(k<<21&4294967295|k>>>11),k=x+(F^(P|~V))+N[12]+1700485571&4294967295,x=P+(k<<6&4294967295|k>>>26),k=V+(P^(x|~F))+N[3]+2399980690&4294967295,V=x+(k<<10&4294967295|k>>>22),k=F+(x^(V|~P))+N[10]+4293915773&4294967295,F=V+(k<<15&4294967295|k>>>17),k=P+(V^(F|~x))+N[1]+2240044497&4294967295,P=F+(k<<21&4294967295|k>>>11),k=x+(F^(P|~V))+N[8]+1873313359&4294967295,x=P+(k<<6&4294967295|k>>>26),k=V+(P^(x|~F))+N[15]+4264355552&4294967295,V=x+(k<<10&4294967295|k>>>22),k=F+(x^(V|~P))+N[6]+2734768916&4294967295,F=V+(k<<15&4294967295|k>>>17),k=P+(V^(F|~x))+N[13]+1309151649&4294967295,P=F+(k<<21&4294967295|k>>>11),k=x+(F^(P|~V))+N[4]+4149444226&4294967295,x=P+(k<<6&4294967295|k>>>26),k=V+(P^(x|~F))+N[11]+3174756917&4294967295,V=x+(k<<10&4294967295|k>>>22),k=F+(x^(V|~P))+N[2]+718787259&4294967295,F=V+(k<<15&4294967295|k>>>17),k=P+(V^(F|~x))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(F+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+V&4294967295}i.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var P=x-this.blockSize,N=this.B,F=this.h,V=0;V<x;){if(F==0)for(;V<=P;)r(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<x;)if(N[F++]=R.charCodeAt(V++),F==this.blockSize){r(this,N),F=0;break}}else for(;V<x;)if(N[F++]=R[V++],F==this.blockSize){r(this,N),F=0;break}}this.h=F,this.o+=x},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var P=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=P&255,P/=256;for(this.u(R),R=Array(16),x=P=0;4>x;++x)for(var N=0;32>N;N+=8)R[P++]=this.g[x]>>>N&255;return R};function o(R,x){var P=a;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=x(R)}function s(R,x){this.h=x;for(var P=[],N=!0,F=R.length-1;0<=F;F--){var V=R[F]|0;N&&V==x||(P[F]=V,N=!1)}this.g=P}var a={};function c(R){return-128<=R&&128>R?o(R,function(x){return new s([x|0],0>x?-1:0)}):new s([R|0],0>R?-1:0)}function l(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return b(l(-R));for(var x=[],P=1,N=0;R>=P;N++)x[N]=R/P|0,P*=4294967296;return new s(x,0)}function u(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return b(u(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=l(Math.pow(x,8)),N=h,F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F),k=parseInt(R.substring(F,F+V),x);8>V?(V=l(Math.pow(x,V)),N=N.j(V).add(l(k))):(N=N.j(P),N=N.add(l(k)))}return N}var h=c(0),p=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(E(this))return-b(this).m();for(var R=0,x=1,P=0;P<this.g.length;P++){var N=this.i(P);R+=(0<=N?N:4294967296+N)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(y(this))return"0";if(E(this))return"-"+b(this).toString(R);for(var x=l(Math.pow(R,6)),P=this,N="";;){var F=q(P,x).g;P=M(P,F.j(x));var V=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=F,y(P))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function y(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function E(R){return R.h==-1}n.l=function(R){return R=M(this,R),E(R)?-1:y(R)?0:1};function b(R){for(var x=R.g.length,P=[],N=0;N<x;N++)P[N]=~R.g[N];return new s(P,~R.h).add(p)}n.abs=function(){return E(this)?b(this):this},n.add=function(R){for(var x=Math.max(this.g.length,R.g.length),P=[],N=0,F=0;F<=x;F++){var V=N+(this.i(F)&65535)+(R.i(F)&65535),k=(V>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);N=k>>>16,V&=65535,k&=65535,P[F]=k<<16|V}return new s(P,P[P.length-1]&-2147483648?-1:0)};function M(R,x){return R.add(b(x))}n.j=function(R){if(y(this)||y(R))return h;if(E(this))return E(R)?b(this).j(b(R)):b(b(this).j(R));if(E(R))return b(this.j(b(R)));if(0>this.l(g)&&0>R.l(g))return l(this.m()*R.m());for(var x=this.g.length+R.g.length,P=[],N=0;N<2*x;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<R.g.length;F++){var V=this.i(N)>>>16,k=this.i(N)&65535,jt=R.i(F)>>>16,tt=R.i(F)&65535;P[2*N+2*F]+=k*tt,O(P,2*N+2*F),P[2*N+2*F+1]+=V*tt,O(P,2*N+2*F+1),P[2*N+2*F+1]+=k*jt,O(P,2*N+2*F+1),P[2*N+2*F+2]+=V*jt,O(P,2*N+2*F+2)}for(N=0;N<x;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=x;N<2*x;N++)P[N]=0;return new s(P,0)};function O(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function B(R,x){this.g=R,this.h=x}function q(R,x){if(y(x))throw Error("division by zero");if(y(R))return new B(h,h);if(E(R))return x=q(b(R),x),new B(b(x.g),b(x.h));if(E(x))return x=q(R,b(x)),new B(b(x.g),x.h);if(30<R.g.length){if(E(R)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var P=p,N=x;0>=N.l(R);)P=H(P),N=H(N);var F=G(P,1),V=G(N,1);for(N=G(N,2),P=G(P,2);!y(N);){var k=V.add(N);0>=k.l(R)&&(F=F.add(P),V=k),N=G(N,1),P=G(P,1)}return x=M(R,F.j(x)),new B(F,x)}for(F=h;0<=R.l(x);){for(P=Math.max(1,Math.floor(R.m()/x.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=l(P),k=V.j(x);E(k)||0<k.l(R);)P-=N,V=l(P),k=V.j(x);y(V)&&(V=p),F=F.add(V),R=M(R,k)}return new B(F,R)}n.A=function(R){return q(this,R).h},n.and=function(R){for(var x=Math.max(this.g.length,R.g.length),P=[],N=0;N<x;N++)P[N]=this.i(N)&R.i(N);return new s(P,this.h&R.h)},n.or=function(R){for(var x=Math.max(this.g.length,R.g.length),P=[],N=0;N<x;N++)P[N]=this.i(N)|R.i(N);return new s(P,this.h|R.h)},n.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),P=[],N=0;N<x;N++)P[N]=this.i(N)^R.i(N);return new s(P,this.h^R.h)};function H(R){for(var x=R.g.length+1,P=[],N=0;N<x;N++)P[N]=R.i(N)<<1|R.i(N-1)>>>31;return new s(P,R.h)}function G(R,x){var P=x>>5;x%=32;for(var N=R.g.length-P,F=[],V=0;V<N;V++)F[V]=0<x?R.i(V+P)>>>x|R.i(V+P+1)<<32-x:R.i(V+P);return new s(F,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,z1=GB.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=u,ya=GB.Integer=s}).apply(typeof WB<"u"?WB:typeof self<"u"?self:typeof window<"u"?window:{});var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba={};var H1,rte,Lh,q1,em,Fb,W1,G1,K1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,v){return d==Array.prototype||d==Object.prototype||(d[m]=v.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nb=="object"&&Nb];for(var m=0;m<d.length;++m){var v=d[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function r(d,m){if(m)e:{var v=i;d=d.split(".");for(var D=0;D<d.length-1;D++){var $=d[D];if(!($ in v))break e;v=v[$]}d=d[d.length-1],D=v[d],m=m(D),m!=D&&m!=null&&e(v,d,{configurable:!0,writable:!0,value:m})}}function o(d,m){d instanceof String&&(d+="");var v=0,D=!1,$={next:function(){if(!D&&v<d.length){var K=v++;return{value:m(K,d[K]),done:!1}}return D=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(d){return d||function(){return o(this,function(m,v){return v})}});var s=s||{},a=this||self;function c(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function l(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,v){return d.call.apply(d.bind,arguments)}function h(d,m,v){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,D),d.apply(m,$)}}return function(){return d.apply(m,arguments)}}function p(d,m,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function g(d,m){var v=Array.prototype.slice.call(arguments,1);return function(){var D=v.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function y(d,m){function v(){}v.prototype=m.prototype,d.aa=m.prototype,d.prototype=new v,d.prototype.constructor=d,d.Qb=function(D,$,K){for(var se=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)se[Ct-2]=arguments[Ct];return m.prototype[$].apply(D,se)}}function E(d){let m=d.length;if(0<m){let v=Array(m);for(let D=0;D<m;D++)v[D]=d[D];return v}return[]}function b(d,m){for(let v=1;v<arguments.length;v++){let D=arguments[v];if(c(D)){let $=d.length||0,K=D.length||0;d.length=$+K;for(let se=0;se<K;se++)d[$+se]=D[se]}else d.push(D)}}class M{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function O(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var H=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function G(d,m,v){for(let D in d)m.call(v,d[D],D,d)}function R(d,m){for(let v in d)m.call(void 0,d[v],v,d)}function x(d){let m={};for(let v in d)m[v]=d[v];return m}let P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,m){let v,D;for(let $=1;$<arguments.length;$++){D=arguments[$];for(v in D)d[v]=D[v];for(let K=0;K<P.length;K++)v=P[K],Object.prototype.hasOwnProperty.call(D,v)&&(d[v]=D[v])}}function F(d){var m=1;d=d.split(":");let v=[];for(;0<m&&d.length;)v.push(d.shift()),m--;return d.length&&v.push(d.join(":")),v}function V(d){a.setTimeout(()=>{throw d},0)}function k(){var d=J;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class jt{constructor(){this.h=this.g=null}add(m,v){let D=tt.get();D.set(m,v),this.h?this.h.next=D:this.g=D,this.h=D}}var tt=new M(()=>new vt,d=>d.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,xn=!1,J=new jt,nr=()=>{let d=a.Promise.resolve(void 0);wt=()=>{d.then(Rs)}};var Rs=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(v){V(v)}var m=tt;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}xn=!1};function On(){this.s=this.s,this.C=this.C}On.prototype.s=!1,On.prototype.ma=function(){this.s||(this.s=!0,this.N())},On.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var yi=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return d})();function rn(d,m){if(dt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(H){e:{try{q(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else v=="mouseover"?m=d.fromElement:v=="mouseout"&&(m=d.toElement);this.relatedTarget=m,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ir[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&rn.aa.h.call(this)}}y(rn,dt);var ir={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),td=0;function x_(d,m,v,D,$){this.listener=d,this.proxy=null,this.src=m,this.type=v,this.capture=!!D,this.ha=$,this.key=++td,this.da=this.fa=!1}function nd(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function id(d){this.src=d,this.g={},this.h=0}id.prototype.add=function(d,m,v,D,$){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var se=rd(d,m,D,$);return-1<se?(m=d[se],v||(m.fa=!1)):(m=new x_(m,this.src,K,!!D,$),m.fa=v,d.push(m)),m};function ks(d,m){var v=m.type;if(v in d.g){var D=d.g[v],$=Array.prototype.indexOf.call(D,m,void 0),K;(K=0<=$)&&Array.prototype.splice.call(D,$,1),K&&(nd(m),d.g[v].length==0&&(delete d.g[v],d.h--))}}function rd(d,m,v,D){for(var $=0;$<d.length;++$){var K=d[$];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==D)return $}return-1}var Os="closure_lm_"+(1e6*Math.random()|0),No={};function D_(d,m,v,D,$){if(D&&D.once)return S_(d,m,v,D,$);if(Array.isArray(m)){for(var K=0;K<m.length;K++)D_(d,m[K],v,D,$);return null}return v=qf(v),d&&d[we]?d.K(m,v,l(D)?!!D.capture:!!D,$):T_(d,m,v,!1,D,$)}function T_(d,m,v,D,$,K){if(!m)throw Error("Invalid event type");var se=l($)?!!$.capture:!!$,Ct=br(d);if(Ct||(d[Os]=Ct=new id(d)),v=Ct.add(m,v,D,se,K),v.proxy)return v;if(D=OC(),v.proxy=D,D.src=d,D.listener=v,d.addEventListener)yi||($=se),$===void 0&&($=!1),d.addEventListener(m.toString(),D,$);else if(d.attachEvent)d.attachEvent(M_(m.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return v}function OC(){function d(v){return m.call(d.src,d.listener,v)}let m=od;return d}function S_(d,m,v,D,$){if(Array.isArray(m)){for(var K=0;K<m.length;K++)S_(d,m[K],v,D,$);return null}return v=qf(v),d&&d[we]?d.L(m,v,l(D)?!!D.capture:!!D,$):T_(d,m,v,!0,D,$)}function A_(d,m,v,D,$){if(Array.isArray(m))for(var K=0;K<m.length;K++)A_(d,m[K],v,D,$);else D=l(D)?!!D.capture:!!D,v=qf(v),d&&d[we]?(d=d.i,m=String(m).toString(),m in d.g&&(K=d.g[m],v=rd(K,v,D,$),-1<v&&(nd(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete d.g[m],d.h--)))):d&&(d=br(d))&&(m=d.g[m.toString()],d=-1,m&&(d=rd(m,v,D,$)),(v=-1<d?m[d]:null)&&Hf(v))}function Hf(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[we])ks(m.i,d);else{var v=d.type,D=d.proxy;m.removeEventListener?m.removeEventListener(v,D,d.capture):m.detachEvent?m.detachEvent(M_(v),D):m.addListener&&m.removeListener&&m.removeListener(D),(v=br(m))?(ks(v,d),v.h==0&&(v.src=null,m[Os]=null)):nd(d)}}}function M_(d){return d in No?No[d]:No[d]="on"+d}function od(d,m){if(d.da)d=!0;else{m=new rn(m,this);var v=d.listener,D=d.ha||d.src;d.fa&&Hf(d),d=v.call(D,m)}return d}function br(d){return d=d[Os],d instanceof id?d:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function qf(d){return typeof d=="function"?d:(d[sd]||(d[sd]=function(m){return d.handleEvent(m)}),d[sd])}function Wn(){On.call(this),this.i=new id(this),this.M=this,this.F=null}y(Wn,On),Wn.prototype[we]=!0,Wn.prototype.removeEventListener=function(d,m,v,D){A_(this,d,m,v,D)};function _n(d,m){var v,D=d.F;if(D)for(v=[];D;D=D.F)v.push(D);if(d=d.M,D=m.type||m,typeof m=="string")m=new dt(m,d);else if(m instanceof dt)m.target=m.target||d;else{var $=m;m=new dt(D,d),N(m,$)}if($=!0,v)for(var K=v.length-1;0<=K;K--){var se=m.g=v[K];$=Qr(se,D,!0,m)&&$}if(se=m.g=d,$=Qr(se,D,!0,m)&&$,$=Qr(se,D,!1,m)&&$,v)for(K=0;K<v.length;K++)se=m.g=v[K],$=Qr(se,D,!1,m)&&$}Wn.prototype.N=function(){if(Wn.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var v=d.g[m],D=0;D<v.length;D++)nd(v[D]);delete d.g[m],d.h--}}this.F=null},Wn.prototype.K=function(d,m,v,D){return this.i.add(String(d),m,!1,v,D)},Wn.prototype.L=function(d,m,v,D){return this.i.add(String(d),m,!0,v,D)};function Qr(d,m,v,D){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,K=0;K<m.length;++K){var se=m[K];if(se&&!se.da&&se.capture==v){var Ct=se.listener,Nn=se.ha||se.src;se.fa&&ks(d.i,se),$=Ct.call(Nn,D)!==!1&&$}}return $&&!D.defaultPrevented}function Ns(d,m,v){if(typeof d=="function")v&&(d=p(d,v));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function ul(d){d.g=Ns(()=>{d.g=null,d.i&&(d.i=!1,ul(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class NC extends On{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(d){On.call(this),this.h=d,this.g={}}y(Fs,On);var P_=[];function R_(d){G(d.g,function(m,v){this.g.hasOwnProperty(v)&&Hf(m)},d),d.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),R_(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wf=a.JSON.stringify,FC=a.JSON.parse,LC=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Gf(){}Gf.prototype.h=null;function Kf(d){return d.h||(d.h=d.i())}function dl(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ad(){dt.call(this,"d")}y(ad,dt);function Yf(){dt.call(this,"c")}y(Yf,dt);var Ls={},k_=null;function cd(){return k_=k_||new Wn}Ls.La="serverreachability";function Vs(d){dt.call(this,Ls.La,d)}y(Vs,dt);function Xr(d){let m=cd();_n(m,new Vs(m))}Ls.STAT_EVENT="statevent";function O_(d,m){dt.call(this,Ls.STAT_EVENT,d),this.stat=m}y(O_,dt);function Xn(d){let m=cd();_n(m,new O_(m,d))}Ls.Ma="timingevent";function N_(d,m){dt.call(this,Ls.Ma,d),this.size=m}y(N_,dt);function hl(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function Qf(d,m,v,D,$,K){d.info(function(){if(d.g)if(K)for(var se="",Ct=K.split("&"),Nn=0;Nn<Ct.length;Nn++){var at=Ct[Nn].split("=");if(1<at.length){var Mt=at[0];at=at[1];var Fn=Mt.split("_");se=2<=Fn.length&&Fn[1]=="type"?se+(Mt+"="+at+"&"):se+(Mt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+D+") [attempt "+$+"]: "+m+`
`+v+`
`+se})}function ka(d,m,v,D,$,K,se){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+$+"]: "+m+`
`+v+`
`+K+" "+se})}function Jr(d,m,v,D){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xf(d,v)+(D?" "+D:"")})}function VC(d,m){d.info(function(){return"TIMEOUT: "+m})}fl.prototype.info=function(){};function Xf(d,m){if(!d.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var D=v[d];if(!(2>D.length)){var $=D[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<$.length;se++)$[se]=""}}}}return Wf(v)}catch{return m}}var ld={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fo;function Dn(){}y(Dn,Gf),Dn.prototype.g=function(){return new XMLHttpRequest},Dn.prototype.i=function(){return{}},Fo=new Dn;function dn(d,m,v,D){this.j=d,this.i=m,this.l=v,this.R=D||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Gn={},Oa={};function Lo(d,m,v){d.L=1,d.v=Fa(rr(m)),d.m=v,d.P=!0,Vo(d,null)}function Vo(d,m){d.F=Date.now(),Na(d),d.A=rr(d.v);var v=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),op(v.i,"t",D),d.C=0,v=d.j.J,d.h=new ai,d.g=X_(d.j,v?m:null,!d.m),0<d.O&&(d.M=new NC(p(d.Y,d,d.g),d.O)),m=d.U,v=d.g,D=d.ca;var $="readystatechange";Array.isArray($)||($&&(P_[0]=$.toString()),$=P_);for(var K=0;K<$.length;K++){var se=D_(v,$[K],D||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Xr(),Qf(d.i,d.u,d.A,d.l,d.R,d.m)}dn.prototype.ca=function(d){d=d.target;let m=this.M;m&&Ir(d)==3?m.j():this.Y(d)},dn.prototype.Y=function(d){try{if(d==this.g)e:{let Fn=Ir(this.g);var m=this.g.Ba();let qs=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||lp(this.g)))){this.J||Fn!=4||m==7||(m==8||0>=qs?Xr(3):Xr(2)),ud(this);var v=this.g.Z();this.X=v;t:if(js(this)){var D=lp(this.g);d="";var $=D.length,K=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Us(this);var se="";break t}this.h.i=new a.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,d+=this.h.i.decode(D[m],{stream:!(K&&m==$-1)});D.length=0,this.h.g+=d,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,ka(this.i,this.u,this.A,this.l,this.R,Fn,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Nn=this.g;if((Ct=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(Ct)){var at=Ct;break t}}at=null}if(v=at)Jr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dd(this,v);else{this.o=!1,this.s=3,Xn(12),Zr(this),Us(this);break e}}if(this.P){v=!0;let Ni;for(;!this.J&&this.C<se.length;)if(Ni=L_(this,se),Ni==Oa){Fn==4&&(this.s=4,Xn(14),v=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ni==Gn){this.s=4,Xn(15),Jr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Jr(this.i,this.l,Ni,null),dd(this,Ni);if(js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||se.length!=0||this.h.h||(this.s=1,Xn(16),v=!1),this.o=this.o&&v,!v)Jr(this.i,this.l,se,"[Invalid Chunked Response]"),Zr(this),Us(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ed(Mt),Mt.M=!0,Xn(11))}}else Jr(this.i,this.l,se,null),dd(this,se);Fn==4&&Zr(this),this.o&&!this.J&&(Fn==4?wd(this.j,this):(this.o=!1,Na(this)))}else z_(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,Xn(12)):(this.s=0,Xn(13)),Zr(this),Us(this)}}}catch{}finally{}};function js(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function L_(d,m){var v=d.C,D=m.indexOf(`
`,v);return D==-1?Oa:(v=Number(m.substring(v,D)),isNaN(v)?Gn:(D+=1,D+v>m.length?Oa:(m=m.slice(D,D+v),d.C=D+v,m)))}dn.prototype.cancel=function(){this.J=!0,Zr(this)};function Na(d){d.S=Date.now()+d.I,Bs(d,d.I)}function Bs(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hl(p(d.ba,d),m)}function ud(d){d.B&&(a.clearTimeout(d.B),d.B=null)}dn.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(VC(this.i,this.A),this.L!=2&&(Xr(),Xn(17)),Zr(this),this.s=2,Us(this)):Bs(this,this.S-d)};function Us(d){d.j.G==0||d.J||wd(d.j,d)}function Zr(d){ud(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,R_(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function dd(d,m){try{var v=d.j;if(v.G!=0&&(v.g==d||hd(v.h,d))){if(!d.K&&hd(v.h,d)&&v.G==3){try{var D=v.Da.g.parse(m)}catch{D=null}if(Array.isArray(D)&&D.length==3){var $=D;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<d.F)xr(v),bl(v);else break e;El(v),Xn(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=hl(p(v.Za,v),6e3));if(1>=ep(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $o(v,11)}else if((d.K||v.g==d)&&xr(v),!O(m))for($=v.Da.g.parse(m),m=0;m<$.length;m++){let at=$[m];if(v.T=at[0],at=at[1],v.G==2)if(at[0]=="c"){v.K=at[1],v.ia=at[2];let Mt=at[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));let Fn=at[4];Fn!=null&&(v.Aa=Fn,v.j.info("SVER="+v.Aa));let qs=at[5];qs!=null&&typeof qs=="number"&&0<qs&&(D=1.5*qs,v.L=D,v.j.info("backChannelRequestTimeoutMs_="+D)),D=v;let Ni=d.g;if(Ni){let Cd=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var K=D.h;K.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(fd(K,K.h),K.h=null))}if(D.D){let fp=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;fp&&(D.ya=fp,ht(D.I,D.D,fp))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-d.F,v.j.info("Handshake RTT: "+v.R+"ms")),D=v;var se=d;if(D.qa=Q_(D,D.J?D.ia:null,D.W),se.K){tp(D.h,se);var Ct=se,Nn=D.L;Nn&&(Ct.I=Nn),Ct.B&&(ud(Ct),Na(Ct)),D.g=se}else G_(D);0<v.i.length&&bd(v)}else at[0]!="stop"&&at[0]!="close"||$o(v,7);else v.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?$o(v,7):yl(v):at[0]!="noop"&&v.l&&v.l.ta(at),v.v=0)}}Xr(4)}catch{}}var V_=class{constructor(d,m){this.g=d,this.map=m}};function Jf(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zf(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ep(d){return d.h?1:d.g?d.g.size:0}function hd(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function fd(d,m){d.g?d.g.add(m):d.h=m}function tp(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}Jf.prototype.cancel=function(){if(this.i=np(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function np(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let v of d.g.values())m=m.concat(v.D);return m}return E(d.i)}function j_(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var m=[],v=d.length,D=0;D<v;D++)m.push(d[D]);return m}m=[],v=0;for(D in d)m[v++]=d[D];return m}function Er(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var m=[];d=d.length;for(var v=0;v<d;v++)m.push(v);return m}m=[],v=0;for(let D in d)m[v++]=D;return m}}}function ci(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var v=Er(d),D=j_(d),$=D.length,K=0;K<$;K++)m.call(void 0,D[K],v&&v[K],d)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(d,m){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var D=d[v].indexOf("="),$=null;if(0<=D){var K=d[v].substring(0,D);$=d[v].substring(D+1)}else K=d[v];m(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function eo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof eo){this.h=d.h,bi(this,d.j),this.o=d.o,this.g=d.g,wr(this,d.s),this.l=d.l;var m=d.i,v=new Va;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),pl(this,v),this.m=d.m}else d&&(m=String(d).match(jo))?(this.h=!1,bi(this,m[1]||"",!0),this.o=La(m[2]||""),this.g=La(m[3]||"",!0),wr(this,m[4]),this.l=La(m[5]||"",!0),pl(this,m[6]||"",!0),this.m=La(m[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}eo.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Cr(m,rp,!0),":");var v=this.g;return(v||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Cr(m,rp,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&d.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Cr(v,v.charAt(0)=="/"?jC:to,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Cr(v,pd)),d.join("")};function rr(d){return new eo(d)}function bi(d,m,v){d.j=v?La(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function wr(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function pl(d,m,v){m instanceof Va?(d.i=m,B_(d.i,d.h)):(v||(m=Cr(m,Bo)),d.i=new Va(m,d.h))}function ht(d,m,v){d.i.set(m,v)}function Fa(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function La(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Cr(d,m,v){return typeof d=="string"?(d=encodeURI(d).replace(m,ip),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ip(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var rp=/[#\/\?@]/g,to=/[#\?:]/g,jC=/[#\?]/g,Bo=/[#\?@]/g,pd=/#/g;function Va(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function ki(d){d.g||(d.g=new Map,d.h=0,d.i&&Ri(d.i,function(m,v){d.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Va.prototype,n.add=function(d,m){ki(this),this.i=null,d=$s(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(m),this.h+=1,this};function gd(d,m){ki(d),m=$s(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function ja(d,m){return ki(d),m=$s(d,m),d.g.has(m)}n.forEach=function(d,m){ki(this),this.g.forEach(function(v,D){v.forEach(function($){d.call(m,$,D,this)},this)},this)},n.na=function(){ki(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let D=0;D<m.length;D++){let $=d[D];for(let K=0;K<$.length;K++)v.push(m[D])}return v},n.V=function(d){ki(this);let m=[];if(typeof d=="string")ja(this,d)&&(m=m.concat(this.g.get($s(this,d))));else{d=Array.from(this.g.values());for(let v=0;v<d.length;v++)m=m.concat(d[v])}return m},n.set=function(d,m){return ki(this),this.i=null,d=$s(this,d),ja(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function op(d,m,v){gd(d,m),0<v.length&&(d.i=null,d.g.set($s(d,m),E(v)),d.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var D=m[v];let K=encodeURIComponent(String(D)),se=this.V(D);for(D=0;D<se.length;D++){var $=K;se[D]!==""&&($+="="+encodeURIComponent(String(se[D]))),d.push($)}}return this.i=d.join("&")};function $s(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function B_(d,m){m&&!d.j&&(ki(d),d.i=null,d.g.forEach(function(v,D){var $=D.toLowerCase();D!=$&&(gd(this,D),op(this,$,v))},d)),d.j=m}function Ba(d,m){let v=new fl;if(a.Image){let D=new Image;D.onload=g(no,v,"TestLoadImage: loaded",!0,m,D),D.onerror=g(no,v,"TestLoadImage: error",!1,m,D),D.onabort=g(no,v,"TestLoadImage: abort",!1,m,D),D.ontimeout=g(no,v,"TestLoadImage: timeout",!1,m,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else m(!1)}function BC(d,m){let v=new fl,D=new AbortController,$=setTimeout(()=>{D.abort(),no(v,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:D.signal}).then(K=>{clearTimeout($),K.ok?no(v,"TestPingServer: ok",!0,m):no(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),no(v,"TestPingServer: error",!1,m)})}function no(d,m,v,D,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),D(v)}catch{}}function sp(){this.g=new LC}function md(d,m,v){let D=v||"";try{ci(d,function($,K){let se=$;l($)&&(se=Wf($)),m.push(D+K+"="+encodeURIComponent(se))})}catch($){throw m.push(D+"type="+encodeURIComponent("_badmap")),$}}function zs(d){this.l=d.Ub||null,this.j=d.eb||!1}y(zs,Gf),zs.prototype.g=function(){return new _d(this.l,this.j)},zs.prototype.i=(function(d){return function(){return d}})({});function _d(d,m){Wn.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(_d,Wn),n=_d.prototype,n.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Ua(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?ml(this):Ua(this),this.readyState==3&&gl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ml(this))},n.Qa=function(d){this.g&&(this.response=d,ml(this))},n.ga=function(){this.g&&ml(this)};function ml(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ua(d)}n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=m.next();return d.join(`\r
`)};function Ua(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function vd(d){let m="";return G(d,function(v,D){m+=D,m+=":",m+=v,m+=`\r
`}),m}function _l(d,m,v){e:{for(D in v){var D=!1;break e}D=!0}D||(v=vd(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):ht(d,m,v))}function Bt(d){Wn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Bt,Wn);var U_=/^https?$/i,vl=["POST","PUT"];n=Bt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,m,v,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fo.g(),this.v=this.o?Kf(this.o):Kf(Fo),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(K){yd(this,K);return}if(d=v||"",v=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var $ in D)v.set($,D[$]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(let K of D.keys())v.set(K,D.get(K));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),$=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vl,m,void 0))||D||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$_(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){yd(this,K)}};function yd(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,ap(d),io(d)}function ap(d){d.A||(d.A=!0,_n(d,"complete"),_n(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_n(this,"complete"),_n(this,"abort"),io(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),Bt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cp(this):this.bb())},n.bb=function(){cp(this)};function cp(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Ir(d)!=4||d.Z()!=2)){if(d.u&&Ir(d)==4)Ns(d.Ea,0,d);else if(_n(d,"readystatechange"),Ir(d)==4){d.h=!1;try{let se=d.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var D;if(D=se===0){var $=String(d.D).match(jo)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),D=!U_.test($?$.toLowerCase():"")}v=D}if(v)_n(d,"complete"),_n(d,"success");else{d.m=6;try{var K=2<Ir(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",ap(d)}}finally{io(d)}}}}function io(d,m){if(d.g){$_(d);let v=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||_n(d,"ready");try{v.onreadystatechange=D}catch{}}}function $_(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ir(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),FC(m)}};function lp(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function z_(d){let m={};d=(d.g&&2<=Ir(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(O(d[D]))continue;var v=F(d[D]);let $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let K=m[$]||[];m[$]=K,K.push(v)}R(m,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(d,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||m}function up(d){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,d),this.cb=$a("retryDelaySeedMs",1e4,d),this.Wa=$a("forwardChannelMaxRetries",2,d),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Jf(d&&d.concurrentRequestLimit),this.Da=new sp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=up.prototype,n.la=8,n.G=1,n.connect=function(d,m,v,D){Xn(0),this.W=d,this.H=m||{},v&&D!==void 0&&(this.H.OSID=v,this.H.OAID=D),this.F=this.X,this.I=Q_(this,null,this.W),bd(this)};function yl(d){if(H_(d),d.G==3){var m=d.U++,v=rr(d.I);if(ht(v,"SID",d.K),ht(v,"RID",m),ht(v,"TYPE","terminate"),Uo(d,v),m=new dn(d,d.j,m),m.L=2,m.v=Fa(rr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=X_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Na(m)}Y_(d)}function bl(d){d.g&&(Ed(d),d.g.cancel(),d.g=null)}function H_(d){bl(d),d.u&&(a.clearTimeout(d.u),d.u=null),xr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function bd(d){if(!Zf(d.h)&&!d.s){d.s=!0;var m=d.Ga;wt||nr(),xn||(wt(),xn=!0),J.add(m,d),d.B=0}}function q_(d,m){return ep(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hl(p(d.Ga,d,m),K_(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let $=new dn(this,this.j,d),K=this.o;if(this.S&&(K?(K=x(K),N(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var D=this.i[v];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(m+=D,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=W_(this,$,m),v=rr(this.I),ht(v,"RID",d),ht(v,"CVER",22),this.D&&ht(v,"X-HTTP-Session-Id",this.D),Uo(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(vd(K)))+"&"+m:this.m&&_l(v,this.m,K)),fd(this.h,$),this.Ua&&ht(v,"TYPE","init"),this.P?(ht(v,"$req",m),ht(v,"SID","null"),$.T=!0,Lo($,v,null)):Lo($,v,m),this.G=2}}else this.G==3&&(d?dp(this,d):this.i.length==0||Zf(this.h)||dp(this))};function dp(d,m){var v;m?v=m.l:v=d.U++;let D=rr(d.I);ht(D,"SID",d.K),ht(D,"RID",v),ht(D,"AID",d.T),Uo(d,D),d.m&&d.o&&_l(D,d.m,d.o),v=new dn(d,d.j,v,d.B+1),d.m===null&&(v.H=d.o),m&&(d.i=m.D.concat(d.i)),m=W_(d,v,1e3),v.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),fd(d.h,v),Lo(v,D,m)}function Uo(d,m){d.H&&G(d.H,function(v,D){ht(m,D,v)}),d.l&&ci({},function(v,D){ht(m,D,v)})}function W_(d,m,v){v=Math.min(d.i.length,v);var D=d.l?p(d.l.Na,d.l,d):null;e:{var $=d.i;let K=-1;for(;;){let se=["count="+v];K==-1?0<v?(K=$[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ct=!0;for(let Nn=0;Nn<v;Nn++){let at=$[Nn].g,Mt=$[Nn].map;if(at-=K,0>at)K=Math.max(0,$[Nn].g-100),Ct=!1;else try{md(Mt,se,"req"+at+"_")}catch{D&&D(Mt)}}if(Ct){D=se.join("&");break e}}}return d=d.i.splice(0,v),m.D=d,D}function G_(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;wt||nr(),xn||(wt(),xn=!0),J.add(m,d),d.v=0}}function El(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hl(p(d.Fa,d),K_(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,hp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hl(p(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xn(10),bl(this),hp(this))};function Ed(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function hp(d){d.g=new dn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=rr(d.qa);ht(m,"RID","rpc"),ht(m,"SID",d.K),ht(m,"AID",d.T),ht(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(m,"TO",d.ja),ht(m,"TYPE","xmlhttp"),Uo(d,m),d.m&&d.o&&_l(m,d.m,d.o),d.L&&(d.g.I=d.L);var v=d.g;d=d.ia,v.L=1,v.v=Fa(rr(m)),v.m=null,v.P=!0,Vo(v,d)}n.Za=function(){this.C!=null&&(this.C=null,bl(this),El(this),Xn(19))};function xr(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function wd(d,m){var v=null;if(d.g==m){xr(d),Ed(d),d.g=null;var D=2}else if(hd(d.h,m))v=m.D,tp(d.h,m),D=1;else return;if(d.G!=0){if(m.o)if(D==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var $=d.B;D=cd(),_n(D,new N_(D,v)),bd(d)}else G_(d);else if($=m.s,$==3||$==0&&0<m.X||!(D==1&&q_(d,m)||D==2&&El(d)))switch(v&&0<v.length&&(m=d.h,m.i=m.i.concat(v)),$){case 1:$o(d,5);break;case 4:$o(d,10);break;case 3:$o(d,6);break;default:$o(d,2)}}}function K_(d,m){let v=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(v*=2),v*m}function $o(d,m){if(d.j.info("Error code "+m),m==2){var v=p(d.fb,d),D=d.Xa;let $=!D;D=new eo(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bi(D,"https"),Fa(D),$?Ba(D.toString(),v):BC(D.toString(),v)}else Xn(2);d.G=0,d.l&&d.l.sa(m),Y_(d),H_(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Xn(2)):(this.j.info("Failed to ping google.com"),Xn(1))};function Y_(d){if(d.G=0,d.ka=[],d.l){let m=np(d.h);(m.length!=0||d.i.length!=0)&&(b(d.ka,m),b(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function Q_(d,m,v){var D=v instanceof eo?rr(v):new eo(v);if(D.g!="")m&&(D.g=m+"."+D.g),wr(D,D.s);else{var $=a.location;D=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var K=new eo(null);D&&bi(K,D),m&&(K.g=m),$&&wr(K,$),v&&(K.l=v),D=K}return v=d.D,m=d.ya,v&&m&&ht(D,v,m),ht(D,"VER",d.la),Uo(d,D),D}function X_(d,m,v){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new Bt(new zs({eb:v})):new Bt(d.pa),m.Ha(d.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function J_(){}n=J_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wl(){}wl.prototype.g=function(d,m){return new li(d,m)};function li(d,m){Wn.call(this),this.g=new up(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!O(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!O(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Oi(this)}y(li,Wn),li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){yl(this.g)},li.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.u&&(v={},v.__data__=Wf(d),d=v);m.i.push(new V_(m.Ya++,d)),m.G==3&&bd(m)},li.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,li.aa.N.call(this)};function Z_(d){ad.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let v in m){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}y(Z_,ad);function Hs(){Yf.call(this),this.status=1}y(Hs,Yf);function Oi(d){this.g=d}y(Oi,J_),Oi.prototype.ua=function(){_n(this.g,"a")},Oi.prototype.ta=function(d){_n(this.g,new Z_(d))},Oi.prototype.sa=function(d){_n(this.g,new Hs)},Oi.prototype.ra=function(){_n(this.g,"b")},wl.prototype.createWebChannel=wl.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,K1=ba.createWebChannelTransport=function(){return new wl},G1=ba.getStatEventTarget=function(){return cd()},W1=ba.Event=Ls,Fb=ba.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ld.NO_ERROR=0,ld.TIMEOUT=8,ld.HTTP_ERROR=6,em=ba.ErrorCode=ld,F_.COMPLETE="complete",q1=ba.EventType=F_,dl.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",Wn.prototype.listen=Wn.prototype.K,Lh=ba.WebChannel=dl,rte=ba.FetchXmlHttpFactory=zs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,H1=ba.XhrIo=Bt}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var KB="@firebase/firestore",YB="4.8.0";var Bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");var bf="11.10.0";var Fu=new ps("@firebase/firestore");function Hh(){return Fu.logLevel}function ie(n,...e){if(Fu.logLevel<=nt.DEBUG){let t=e.map(QM);Fu.debug(`Firestore (${bf}): ${n}`,...t)}}function Ai(n,...e){if(Fu.logLevel<=nt.ERROR){let t=e.map(QM);Fu.error(`Firestore (${bf}): ${n}`,...t)}}function ws(n,...e){if(Fu.logLevel<=nt.WARN){let t=e.map(QM);Fu.warn(`Firestore (${bf}): ${n}`,...t)}}function QM(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,l3(n,i,t)}function l3(n,e,t){let i=`FIRESTORE (${bf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ai(i),new Error(i)}function Ce(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||l3(e,r,i)}function je(n,e){return n}var X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},oe=class extends pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Qb=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}},nA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},iA=class{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0,42304);let i=this.i,r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve(),o=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hr,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>A(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ce(typeof i.accessToken=="string",31837,{l:i}),new Qb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}},rA=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},oA=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new rA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sA=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ce(this.o===void 0,3512);let i=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ote(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function u3(){return new TextEncoder}var pm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=ote(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}};function Re(n,e){return n<e?-1:n>e?1:0}function aA(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Re(i,r);{let o=u3(),s=ste(o.encode(QB(n,t)),o.encode(QB(e,t)));return s!==0?s:Re(i,r)}}t+=i>65535?2:1}return Re(n.length,e.length)}function QB(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ste(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Re(n[t],e[t]);return Re(n.length,e.length)}function Zh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function d3(n){return n+"\0"}var XB="__name__",Jb=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=n.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return Re(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):aA(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}},St=class n extends Jb{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},ate=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Un=class n extends Jb{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return ate.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XB}static keyField(){return new n([XB])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var de=class n{constructor(e){this.path=e}static fromPath(e){return new n(St.fromString(e))}static fromName(e){return new n(St.fromString(e).popFirst(5))}static empty(){return new n(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new St(e.slice()))}};function h3(n,e,t){if(!t)throw new oe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cte(n,e,t,i){if(e===!0&&i===!0)throw new oe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JB(n){if(!de.isDocumentKey(n))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZB(n){if(de.isDocumentKey(n))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function XE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function Xi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=XE(n);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lte(n,e){if(e<=0)throw new oe(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Rn(n,e){let t={typeString:n};return e&&(t.value=e),t}function Vm(n,e){if(!f3(n))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(let i in e)if(e[i]){let r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}let s=n[i];if(r&&typeof s!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new oe(X.INVALID_ARGUMENT,t);return!0}var eU=-62135596800,tU=1e6,Ot=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*tU);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eU)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tU}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vm(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-eU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Rn("string",Ot._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};var Te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ot(0,0))}static max(){return new n(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gm=-1,ef=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};function cA(n){return n.fields.find(e=>e.kind===2)}function Eu(n){return n.fields.filter(e=>e.kind!==2)}ef.UNKNOWN_ID=-1;var Qh=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var mm=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Wr.min())}};function ute(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Te.fromTimestamp(i===1e9?new Ot(t+1,0):new Ot(t,i));return new Wr(r,de.empty(),e)}function p3(n){return new Wr(n.readTime,n.key,gm)}var Wr=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Te.min(),de.empty(),gm)}static max(){return new n(Te.max(),de.empty(),gm)}};function XM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}var g3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zu(n){return A(this,null,function*(){if(n.code!==X.FAILED_PRECONDITION||n.message!==g3)throw n;ie("LocalStore","Unexpectedly lost primary lease")})}var W=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};var mr="SimpleDb",eE=class n{static open(e,t,i,r){try{return new n(t,e.transaction(r,i))}catch(o){throw new Mu(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Hr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Mu(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{let r=JM(i.target.error);this.S.reject(new Mu(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ie(mr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new uA(t)}},tf=class n{static delete(e){return ie(mr,"Removing database:",e),Cu(ob().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Sh())return!1;if(n.F())return!0;let e=In(),t=n.M(e),i=0<t&&t<10,r=m3(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.B=i,this.L=null,n.M(In())===12.2&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}k(e){return A(this,null,function*(){return this.db||(ie(mr,"Opening database:",this.name),this.db=yield new Promise((t,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;t(s)},r.onblocked=()=>{i(new Mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new oe(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new oe(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new Mu(e,s))},r.onupgradeneeded=o=>{ie(mr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${s.version}`);this.B.q(s,r.transaction,o.oldVersion,this.version).next(()=>{ie(mr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{let i=t.target;this.L=i.version},{passive:!0})),this.db.addEventListener("versionchange",t=>{var i;t.newVersion===null&&(ws('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(i=this.databaseDeletedListener)===null||i===void 0||i.call(this))},{passive:!0}),this.db})}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}runTransaction(e,t,i,r){return A(this,null,function*(){let o=t==="readonly",s=0;for(;;){++s;try{this.db=yield this.k(e);let a=eE.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(l=>(a.v(),l)).catch(l=>(a.abort(l),W.reject(l))).toPromise();return c.catch(()=>{}),yield a.D,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(ie(mr,"Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function m3(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var lA=class{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Cu(this.$.delete())}},Mu=class extends oe{constructor(e,t){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Kc(n){return n.name==="IndexedDbTransactionError"}var uA=class{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ie(mr,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(ie(mr,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Cu(i)}add(e){return ie(mr,"ADD",this.store.name,e,e),Cu(this.store.add(e))}get(e){return Cu(this.store.get(e)).next(t=>(t===void 0&&(t=null),ie(mr,"GET",this.store.name,e,t),t))}delete(e){return ie(mr,"DELETE",this.store.name,e),Cu(this.store.delete(e))}count(){return ie(mr,"COUNT",this.store.name),Cu(this.store.count())}j(e,t){let i=this.options(e,t),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new W((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.J(o,(a,c)=>{s.push(c)}).next(()=>s)}}H(e,t){let i=this.store.getAll(e,t===null?void 0:t);return new W((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}Y(e,t){ie(mr,"DELETE ALL",this.store.name);let i=this.options(e,t);i.Z=!1;let r=this.cursor(i);return this.J(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);let r=this.cursor(i);return this.J(r,t)}ee(e){let t=this.cursor({});return new W((i,r)=>{t.onerror=o=>{let s=JM(o.target.error);r(s)},t.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}J(e,t){let i=[];return new W((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new lA(a),l=t(a.primaryKey,a.value,c);if(l instanceof W){let u=l.catch(h=>(c.done(),W.reject(h)));i.push(u)}c.isDone?r():c.W===null?a.continue():a.continue(c.W)}}).next(()=>W.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Cu(n){return new W((e,t)=>{n.onsuccess=i=>{let r=i.target.result;e(r)},n.onerror=i=>{let r=JM(i.target.error);t(r)}})}var nU=!1;function JM(n){let e=tf.M(In());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let i=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nU||(nU=!0,setTimeout(()=>{throw i},0)),i}}return n}var am="IndexBackfiller",dA=class{constructor(e,t){this.asyncQueue=e,this.te=t,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){ie(am,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>A(this,null,function*(){this.task=null;try{let t=yield this.te.re();ie(am,`Documents written: ${t}`)}catch(t){Kc(t)?ie(am,"Ignoring IndexedDB error during index backfill: ",t):yield zu(t)}yield this.ne(6e4)}))}},hA=class{constructor(e,t){this.localStore=e,this.persistence=t}re(e=50){return A(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.ie(t,e))})}ie(e,t){let i=new Set,r=t,o=!0;return W.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return ie(am,`Processing collection: ${s}`),this.se(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}se(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.oe(r,o)).next(a=>(ie(am,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}oe(e,t){let i=e;return t.changes.forEach((r,o)=>{let s=p3(o);XM(s,i)>0&&(i=s)}),new Wr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}};var So=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Pu=-1;function JE(n){return n==null}function _m(n){return n===0&&1/n==-1/0}function dte(n){return typeof n=="number"&&Number.isInteger(n)&&!_m(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var tE="";function mi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iU(e)),e=hte(n.get(t),e);return iU(e)}function hte(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":t+="";break;case tE:t+="";break;default:t+=o}}return t}function iU(n){return n+tE+""}function ys(n){let e=n.length;if(Ce(e>=2,64408,{path:n}),e===2)return Ce(n.charAt(0)===tE&&n.charAt(1)==="",56145,{path:n}),St.emptyPath();let t=e-2,i=[],r="";for(let o=0;o<e;){let s=n.indexOf(tE,o);switch((s<0||s>t)&&ye(50515,{path:n}),n.charAt(s+1)){case"":let a=n.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:ye(61167,{path:n})}o=s+2}return new St(i)}var wu="remoteDocuments",jm="owner",Vh="owner",vm="mutationQueues",fte="userId",To="mutations",rU="batchId",Tu="userMutationsIndex",oU=["userId","batchId"];function $b(n,e){return[n,mi(e)]}function _3(n,e,t){return[n,mi(e),t]}var pte={},nf="documentMutations",nE="remoteDocumentsV14",gte=["prefixPath","collectionGroup","readTime","documentId"],zb="documentKeyIndex",mte=["prefixPath","collectionGroup","documentId"],v3="collectionGroupIndex",_te=["collectionGroup","readTime","prefixPath","documentId"],ym="remoteDocumentGlobal",fA="remoteDocumentGlobalKey",rf="targets",y3="queryTargetsIndex",vte=["canonicalId","targetId"],of="targetDocuments",yte=["targetId","path"],ZM="documentTargetsIndex",bte=["path","targetId"],iE="targetGlobalKey",Ru="targetGlobal",bm="collectionParents",Ete=["collectionId","parent"],sf="clientMetadata",wte="clientId",ZE="bundles",Cte="bundleId",ew="namedQueries",Ite="name",eP="indexConfiguration",xte="indexId",pA="collectionGroupIndex",Dte="collectionGroup",cm="indexState",Tte=["indexId","uid"],b3="sequenceNumberIndex",Ste=["uid","sequenceNumber"],lm="indexEntries",Ate=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],E3="documentKeyIndex",Mte=["indexId","uid","orderedDocumentKey"],tw="documentOverlays",Pte=["userId","collectionPath","documentId"],gA="collectionPathOverlayIndex",Rte=["userId","collectionPath","largestBatchId"],w3="collectionGroupOverlayIndex",kte=["userId","collectionGroup","largestBatchId"],tP="globals",Ote="name",C3=[vm,To,nf,wu,rf,jm,Ru,of,sf,ym,bm,ZE,ew],Nte=[...C3,tw],I3=[vm,To,nf,nE,rf,jm,Ru,of,sf,ym,bm,ZE,ew,tw],x3=I3,nP=[...x3,eP,cm,lm],Fte=nP,D3=[...nP,tP],Lte=D3;var Em=class extends Zb{constructor(e,t){super(),this.ce=e,this.currentSequenceNumber=t}};function Hn(n,e){let t=je(n);return tf.N(t.ce,e)}function sU(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function T3(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ln=class n{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}},Yh=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Es=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}};Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new Es(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Nt=class n{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},rE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function jh(n){return n.hasNext()?n.getNext():void 0}var _r=class n{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new n([])}unionWith(e){let t=new Nt(Un.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zh(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var oE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oE("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zn.EMPTY_BYTE_STRING=new zn("");var Vte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(Ce(!!n,39018),typeof n=="string"){let e=0,t=Vte.exec(n);if(Ce(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ca(n){return typeof n=="string"?zn.fromBase64String(n):zn.fromUint8Array(n)}var S3="server_timestamp",A3="__type__",M3="__previous_value__",P3="__local_write_time__";function iP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[A3])===null||t===void 0?void 0:t.stringValue)===S3}function nw(n){let e=n.mapValue.fields[M3];return iP(e)?nw(e):e}function wm(n){let e=wa(n.mapValue.fields[P3].timestampValue);return new Ot(e.seconds,e.nanos)}var mA=class{constructor(e,t,i,r,o,s,a,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=u}},sE="(default)",af=class n{constructor(e,t){this.projectId=e,this.database=t||sE}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===sE}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rP="__type__",R3="__max__",kc={mapValue:{fields:{__type__:{stringValue:R3}}}},oP="__vector__",cf="value",Hb={nullValue:"NULL_VALUE"};function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iP(n)?4:k3(n)?9007199254740991:iw(n)?10:11:ye(28295,{value:n})}function Cs(n,e){if(n===e)return!0;let t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wm(n).isEqual(wm(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=wa(r.timestampValue),a=wa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return Ca(r.bytesValue).isEqual(Ca(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return nn(r.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(r.geoPointValue.longitude)===nn(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return nn(r.integerValue)===nn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=nn(r.doubleValue),a=nn(o.doubleValue);return s===a?_m(s)===_m(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Zh(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(sU(s)!==sU(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Cs(s[c],a[c])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function Cm(n,e){return(n.values||[]).find(t=>Cs(t,e))!==void 0}function jc(n,e){if(n===e)return 0;let t=Vc(n),i=Vc(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=nn(o.integerValue||o.doubleValue),c=nn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return aU(n.timestampValue,e.timestampValue);case 4:return aU(wm(n),wm(e));case 5:return aA(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ca(o),c=Ca(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=Re(a[l],c[l]);if(u!==0)return u}return Re(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Re(nn(o.latitude),nn(s.latitude));return a!==0?a:Re(nn(o.longitude),nn(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return cU(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,u;let h=o.fields||{},p=s.fields||{},g=(a=h[cf])===null||a===void 0?void 0:a.arrayValue,y=(c=p[cf])===null||c===void 0?void 0:c.arrayValue,E=Re(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return E!==0?E:cU(g,y)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===kc.mapValue&&s===kc.mapValue)return 0;if(o===kc.mapValue)return 1;if(s===kc.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let p=aA(c[h],u[h]);if(p!==0)return p;let g=jc(a[c[h]],l[u[h]]);if(g!==0)return g}return Re(c.length,u.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{le:t})}}function aU(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);let t=wa(n),i=wa(e),r=Re(t.seconds,i.seconds);return r!==0?r:Re(t.nanos,i.nanos)}function cU(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=jc(t[r],i[r]);if(o)return o}return Re(t.length,i.length)}function lf(n){return _A(n)}function _A(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let i=wa(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ca(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return de.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=_A(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${_A(t.fields[s])}`;return r+"}"})(n.mapValue):ye(61005,{value:n})}function qb(n){switch(Vc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=nw(n);return e?16+qb(e):16;case 5:return 2*n.stringValue.length;case 6:return Ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce((r,o)=>r+qb(o),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Yc(i.fields,(o,s)=>{r+=o.length+qb(s)}),r})(n.mapValue);default:throw ye(13486,{value:n})}}function Im(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vA(n){return!!n&&"integerValue"in n}function xm(n){return!!n&&"arrayValue"in n}function lU(n){return!!n&&"nullValue"in n}function uU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wb(n){return!!n&&"mapValue"in n}function iw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rP])===null||t===void 0?void 0:t.stringValue)===oP}function um(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Yc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=um(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=um(n.arrayValue.values[t]);return e}return Object.assign({},n)}function k3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===R3}var O3={mapValue:{fields:{[rP]:{stringValue:oP},[cf]:{arrayValue:{}}}}};function jte(n){return"nullValue"in n?Hb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Im(af.empty(),de.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?iw(n)?O3:{mapValue:{}}:ye(35942,{value:n})}function Bte(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Im(af.empty(),de.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?O3:"mapValue"in n?iw(n)?{mapValue:{}}:kc:ye(61959,{value:n})}function dU(n,e){let t=jc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hU(n,e){let t=jc(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Mi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=um(t)}setAll(e){let t=Un.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=um(s):r.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Wb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Wb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Yc(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(um(this.value))}};function N3(n){let e=[];return Yc(n.fields,(t,i)=>{let r=new Un([t]);if(Wb(i)){let o=N3(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new _r(e)}var ii=class n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Te.min(),Te.min(),Te.min(),Mi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Te.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Te.min(),Te.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Te.min(),Te.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bc=class{constructor(e,t){this.position=e,this.inclusive=t}};function fU(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=de.comparator(de.fromName(s.referenceValue),t.key):i=jc(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pU(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}var Lu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Ute(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var aE=class{},ot=class n extends aE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new EA(e,t,i):t==="array-contains"?new IA(e,i):t==="in"?new cE(e,i):t==="not-in"?new xA(e,i):t==="array-contains-any"?new DA(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new wA(e,i):new CA(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jc(t,this.value)):t!==null&&Vc(this.value)===Vc(t)&&this.matchesComparison(jc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},At=class n extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return uf(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function uf(n){return n.op==="and"}function yA(n){return n.op==="or"}function sP(n){return F3(n)&&uf(n)}function F3(n){for(let e of n.filters)if(e instanceof At)return!1;return!0}function bA(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+lf(n.value);if(sP(n))return n.filters.map(e=>bA(e)).join(",");{let e=n.filters.map(t=>bA(t)).join(",");return`${n.op}(${e})`}}function L3(n,e){return n instanceof ot?(function(i,r){return r instanceof ot&&i.op===r.op&&i.field.isEqual(r.field)&&Cs(i.value,r.value)})(n,e):n instanceof At?(function(i,r){return r instanceof At&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&L3(s,r.filters[a]),!0):!1})(n,e):void ye(19439)}function V3(n,e){let t=n.filters.concat(e);return At.create(t,n.op)}function j3(n){return n instanceof ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${lf(t.value)}`})(n):n instanceof At?(function(t){return t.op.toString()+" {"+t.getFilters().map(j3).join(" ,")+"}"})(n):"Filter"}var EA=class extends ot{constructor(e,t,i){super(e,t,i),this.key=de.fromName(i.referenceValue)}matches(e){let t=de.comparator(e.key,this.key);return this.matchesComparison(t)}},wA=class extends ot{constructor(e,t){super(e,"in",t),this.keys=B3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},CA=class extends ot{constructor(e,t){super(e,"not-in",t),this.keys=B3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function B3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>de.fromName(i.referenceValue))}var IA=class extends ot{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xm(t)&&Cm(t.arrayValue,this.value)}},cE=class extends ot{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Cm(this.value.arrayValue,t)}},xA=class extends ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cm(this.value.arrayValue,t)}},DA=class extends ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cm(this.value.arrayValue,i))}};var TA=class{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function SA(n,e=null,t=[],i=[],r=null,o=null,s=null){return new TA(n,e,t,i,r,o,s)}function Vu(n){let e=je(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bA(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>(function(o){return o.field.canonicalString()+o.dir})(i)).join(","),JE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>lf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>lf(i)).join(",")),e.Pe=t}return e.Pe}function Bm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ute(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pU(n.startAt,e.startAt)&&pU(n.endAt,e.endAt)}function lE(n){return de.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function uE(n,e){return n.filters.filter(t=>t instanceof ot&&t.field.isEqual(e))}function gU(n,e,t){let i=Hb,r=!0;for(let o of uE(n,e)){let s=Hb,a=!0;switch(o.op){case"<":case"<=":s=jte(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Hb}dU({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];dU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}}return{value:i,inclusive:r}}function mU(n,e,t){let i=kc,r=!0;for(let o of uE(n,e)){let s=kc,a=!0;switch(o.op){case">=":case">":s=Bte(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=kc}hU({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=t.position[o];hU({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}}return{value:i,inclusive:r}}var Uc=class{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function $te(n,e,t,i,r,o,s,a){return new Uc(n,e,t,i,r,o,s,a)}function Um(n){return new Uc(n)}function _U(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function U3(n){return n.collectionGroup!==null}function dm(n){let e=je(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nt(Un.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Lu(o,i))}),t.has(Un.keyField().canonicalString())||e.Te.push(new Lu(Un.keyField(),i))}return e.Te}function qr(n){let e=je(n);return e.Ie||(e.Ie=zte(e,dm(n))),e.Ie}function zte(n,e){if(n.limitType==="F")return SA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Lu(r.field,o)});let t=n.endAt?new Bc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bc(n.startAt.position,n.startAt.inclusive):null;return SA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function AA(n,e){let t=n.filters.concat([e]);return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dE(n,e,t){return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rw(n,e){return Bm(qr(n),qr(e))&&n.limitType===e.limitType}function $3(n){return`${Vu(qr(n))}|lt:${n.limitType}`}function qh(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>j3(r)).join(", ")}]`),JE(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>lf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>lf(r)).join(",")),`Target(${i})`})(qr(n))}; limitType=${n.limitType})`}function $m(n,e){return e.isFoundDocument()&&(function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):de.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,r){for(let o of dm(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(s,a,c){let l=fU(s,a,c);return s.inclusive?l<=0:l<0})(i.startAt,dm(i),r)||i.endAt&&!(function(s,a,c){let l=fU(s,a,c);return s.inclusive?l>=0:l>0})(i.endAt,dm(i),r))})(n,e)}function Hte(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z3(n){return(e,t)=>{let i=!1;for(let r of dm(n)){let o=qte(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function qte(n,e,t){let i=n.field.isKeyField()?de.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?jc(c,l):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}var Ao=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return T3(this.inner)}size(){return this.innerSize}};var Wte=new ln(de.comparator);function vr(){return Wte}var H3=new ln(de.comparator);function om(...n){let e=H3;for(let t of n)e=e.insert(t.key,t);return e}function q3(n){let e=H3;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function bs(){return hm()}function W3(){return hm()}function hm(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}var Gte=new ln(de.comparator),Kte=new Nt(de.comparator);function Xe(...n){let e=Kte;for(let t of n)e=e.add(t);return e}var Yte=new Nt(Re);function Qte(){return Yte}function aP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(e)?"-0":e}}function G3(n){return{integerValue:""+n}}function Xte(n,e){return dte(e)?G3(e):aP(n,e)}var df=class{constructor(){this._=void 0}};function Jte(n,e,t){return n instanceof $c?(function(r,o){let s={fields:{[A3]:{stringValue:S3},[P3]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&iP(o)&&(o=nw(o)),o&&(s.fields[M3]=o),{mapValue:s}})(t,e):n instanceof zc?Y3(n,e):n instanceof Hc?Q3(n,e):(function(r,o){let s=K3(r,o),a=vU(s)+vU(r.Ee);return vA(s)&&vA(r.Ee)?G3(a):aP(r.serializer,a)})(n,e)}function Zte(n,e,t){return n instanceof zc?Y3(n,e):n instanceof Hc?Q3(n,e):t}function K3(n,e){return n instanceof ju?(function(i){return vA(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}var $c=class extends df{},zc=class extends df{constructor(e){super(),this.elements=e}};function Y3(n,e){let t=X3(e);for(let i of n.elements)t.some(r=>Cs(r,i))||t.push(i);return{arrayValue:{values:t}}}var Hc=class extends df{constructor(e){super(),this.elements=e}};function Q3(n,e){let t=X3(e);for(let i of n.elements)t=t.filter(r=>!Cs(r,i));return{arrayValue:{values:t}}}var ju=class extends df{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function vU(n){return nn(n.integerValue||n.doubleValue)}function X3(n){return xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var hE=class{constructor(e,t){this.field=e,this.transform=t}};function ene(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof zc&&r instanceof zc||i instanceof Hc&&r instanceof Hc?Zh(i.elements,r.elements,Cs):i instanceof ju&&r instanceof ju?Cs(i.Ee,r.Ee):i instanceof $c&&r instanceof $c})(n.transform,e.transform)}var MA=class{constructor(e,t){this.version=e,this.transformResults=t}},yr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gb(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var hf=class{};function J3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dm(n.key,yr.none()):new qc(n.key,n.data,yr.none());{let t=n.data,i=Mi.empty(),r=new Nt(Un.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Mo(n.key,i,new _r(r.toArray()),yr.none())}}function tne(n,e,t){n instanceof qc?(function(r,o,s){let a=r.value.clone(),c=bU(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Mo?(function(r,o,s){if(!Gb(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bU(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(Z3(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function fm(n,e,t,i){return n instanceof qc?(function(o,s,a,c){if(!Gb(o.precondition,s))return a;let l=o.value.clone(),u=EU(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,i):n instanceof Mo?(function(o,s,a,c){if(!Gb(o.precondition,s))return a;let l=EU(o.fieldTransforms,c,s),u=s.data;return u.setAll(Z3(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))})(n,e,t,i):(function(o,s,a){return Gb(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function nne(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=K3(i.transform,r||null);o!=null&&(t===null&&(t=Mi.empty()),t.set(i.field,o))}return t||null}function yU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Zh(i,r,(o,s)=>ene(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var qc=class extends hf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Mo=class extends hf{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Z3(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function bU(n,e,t){let i=new Map;Ce(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Zte(s,a,t[r]))}return i}function EU(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,Jte(o,s,e))}return i}var Dm=class extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fE=class extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Tm=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&tne(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=fm(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=fm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=W3();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;let c=J3(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Zh(this.mutations,e.mutations,(t,i)=>yU(t,i))&&Zh(this.baseMutations,e.baseMutations,(t,i)=>yU(t,i))}},PA=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ce(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=(function(){return Gte})(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var Sm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var RA=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Mn,lt;function ine(n){switch(n){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function e5(n){if(n===void 0)return Ai("GRPC error has no .code"),X.UNKNOWN;switch(n){case Mn.OK:return X.OK;case Mn.CANCELLED:return X.CANCELLED;case Mn.UNKNOWN:return X.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return X.INTERNAL;case Mn.UNAVAILABLE:return X.UNAVAILABLE;case Mn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Mn.NOT_FOUND:return X.NOT_FOUND;case Mn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Mn.ABORTED:return X.ABORTED;case Mn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Mn.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:n})}}(lt=Mn||(Mn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";var wU=null;var rne=new ya([4294967295,4294967295],0);function CU(n){let e=u3().encode(n),t=new z1;return t.update(e),new Uint8Array(t.digest())}function IU(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ya([t,i],0),new ya([r,o],0)]}var kA=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(i<0)throw new Su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ya.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(ya.fromNumber(i)));return r.compare(rne)===1&&(r=new ya([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=CU(e),[i,r]=IU(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);if(!this.ye(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=CU(e),[i,r]=IU(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);this.we(s)}}we(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Su=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pE=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Am.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Te.min(),r,new ln(Re),vr(),Xe())}},Am=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Xe(),Xe(),Xe())}};var Xh=class{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}},gE=class{constructor(e,t){this.targetId=e,this.De=t}},mE=class{constructor(e,t,i=zn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},_E=class{constructor(){this.ve=0,this.Ce=xU(),this.Fe=zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Xe(),t=Xe(),i=Xe();return this.Ce.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ye(38017,{changeType:o})}}),new Am(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=xU()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},OA=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=vr(),this.je=Lb(),this.Je=Lb(),this.He=new ln(Re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,r)=>{this.nt(r)&&t(r)})}it(e){let t=e.targetId,i=e.De.count,r=this.st(t);if(r){let o=r.target;if(lE(o))if(i===0){let s=new de(o.path);this.Xe(t,s,ii.newNoDocument(s,Te.min()))}else Ce(i===1,20013,{expectedCount:i});else{let s=this.ot(t);if(s!==i){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}wU?.ct((function(u,h,p,g,y){var E,b,M,O,B,q;let H={localCacheCount:u,existenceFilterCount:h.count,databaseId:p.database,projectId:p.projectId},G=h.unchangedNames;return G&&(H.bloomFilter={applied:y===0,hashCount:(E=G?.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(O=(M=(b=G?.bits)===null||b===void 0?void 0:b.bitmap)===null||M===void 0?void 0:M.length)!==null&&O!==void 0?O:0,padding:(q=(B=G?.bits)===null||B===void 0?void 0:B.padding)!==null&&q!==void 0?q:0,mightContain:R=>{var x;return(x=g?.mightContain(R))!==null&&x!==void 0&&x}}),H})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,a;try{s=Ca(i).toUint8Array()}catch(c){if(c instanceof oE)return ws("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kA(s,r,o)}catch(c){return ws(c instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){let i=this.We.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),r++)}),r}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&lE(a.target)){let c=new de(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,ii.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let i=Xe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let r=new pE(e,t,this.He,this.ze,i);return this.ze=vr(),this.je=Lb(),this.Je=Lb(),this.He=new ln(Re),r}Ze(e,t){if(!this.nt(e))return;let i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;let r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new _E,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Nt(Re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Nt(Re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _E),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Lb(){return new ln(de.comparator)}function xU(){return new ln(de.comparator)}var one={asc:"ASCENDING",desc:"DESCENDING"},sne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ane={and:"AND",or:"OR"},NA=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function FA(n,e){return n.useProto3Json||JE(e)?e:{value:e}}function ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cne(n,e){return ff(n,e.toTimestamp())}function Pi(n){return Ce(!!n,49232),Te.fromTimestamp((function(t){let i=wa(t);return new Ot(i.seconds,i.nanos)})(n))}function cP(n,e){return LA(n,e).canonicalString()}function LA(n,e){let t=(function(r){return new St(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function n5(n){let e=St.fromString(n);return Ce(d5(e),10190,{key:e.toString()}),e}function vE(n,e){return cP(n.databaseId,e.path)}function ku(n,e){let t=n5(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new de(o5(t))}function i5(n,e){return cP(n.databaseId,e)}function r5(n){let e=n5(n);return e.length===4?St.emptyPath():o5(e)}function VA(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o5(n){return Ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DU(n,e,t){return{name:vE(n,e),fields:t.value.mapValue.fields}}function lne(n,e,t){let i=ku(n,e.name),r=Pi(e.updateTime),o=e.createTime?Pi(e.createTime):Te.min(),s=new Mi({mapValue:{fields:e.fields}}),a=ii.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function une(n,e){let t;if("targetChange"in e){e.targetChange;let i=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(l,u){return l.useProto3Json?(Ce(u===void 0||typeof u=="string",58123),zn.fromBase64String(u||"")):(Ce(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),zn.fromUint8Array(u||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let u=l.code===void 0?X.UNKNOWN:e5(l.code);return new oe(u,l.message||"")})(s);t=new mE(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=ku(n,i.document.name),o=Pi(i.document.updateTime),s=i.document.createTime?Pi(i.document.createTime):Te.min(),a=new Mi({mapValue:{fields:i.document.fields}}),c=ii.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];t=new Xh(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=ku(n,i.document),o=i.readTime?Pi(i.readTime):Te.min(),s=ii.newNoDocument(r,o),a=i.removedTargetIds||[];t=new Xh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=ku(n,i.document),o=i.removedTargetIds||[];t=new Xh([],o,r,null)}else{if(!("filter"in e))return ye(11601,{At:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new RA(r,o),a=i.targetId;t=new gE(a,s)}}return t}function yE(n,e){let t;if(e instanceof qc)t={update:DU(n,e.key,e.value)};else if(e instanceof Dm)t={delete:vE(n,e.key)};else if(e instanceof Mo)t={update:DU(n,e.key,e.data),updateMask:mne(e.fieldMask)};else{if(!(e instanceof fE))return ye(16599,{Rt:e.type});t={verify:vE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>(function(o,s){let a=s.transform;if(a instanceof $c)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ju)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ye(20930,{transform:s.transform})})(0,i))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:cne(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function jA(n,e){let t=e.currentDocument?(function(o){return o.updateTime!==void 0?yr.updateTime(Pi(o.updateTime)):o.exists!==void 0?yr.exists(o.exists):yr.none()})(e.currentDocument):yr.none(),i=e.updateTransforms?e.updateTransforms.map(r=>(function(s,a){let c=null;if("setToServerValue"in a)Ce(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),c=new $c;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new zc(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new Hc(u)}else"increment"in a?c=new ju(s,a.increment):ye(16584,{proto:a});let l=Un.fromServerFormat(a.fieldPath);return new hE(l,c)})(n,r)):[];if(e.update){e.update.name;let r=ku(n,e.update.name),o=new Mi({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=(function(c){let l=c.fieldPaths||[];return new _r(l.map(u=>Un.fromServerFormat(u)))})(e.updateMask);return new Mo(r,o,s,t,i)}return new qc(r,o,t,i)}if(e.delete){let r=ku(n,e.delete);return new Dm(r,t)}if(e.verify){let r=ku(n,e.verify);return new fE(r,t)}return ye(1463,{proto:e})}function dne(n,e){return n&&n.length>0?(Ce(e!==void 0,14353),n.map(t=>(function(r,o){let s=r.updateTime?Pi(r.updateTime):Pi(o);return s.isEqual(Te.min())&&(s=Pi(o)),new MA(s,r.transformResults||[])})(t,e))):[]}function s5(n,e){return{documents:[i5(n,e.path)]}}function a5(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=i5(n,r);let o=(function(l){if(l.length!==0)return u5(At.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(u=>(function(p){return{field:Wh(p.field),direction:fne(p.dir)}})(u))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=FA(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:r}}function c5(n){let e=r5(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){Ce(i===1,65062);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(h){let p=l5(h);return p instanceof At&&sP(p)?p.getFilters():[p]})(t.where));let s=[];t.orderBy&&(s=(function(h){return h.map(p=>(function(y){return new Lu(Gh(y.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(p))})(t.orderBy));let a=null;t.limit&&(a=(function(h){let p;return p=typeof h=="object"?h.value:h,JE(p)?null:p})(t.limit));let c=null;t.startAt&&(c=(function(h){let p=!!h.before,g=h.values||[];return new Bc(g,p)})(t.startAt));let l=null;return t.endAt&&(l=(function(h){let p=!h.before,g=h.values||[];return new Bc(g,p)})(t.endAt)),$te(e,r,s,o,a,"F",c,l)}function hne(n,e){let t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function l5(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Gh(t.unaryFilter.field);return ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Gh(t.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Gh(t.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Gh(t.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ot.create(Gh(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return At.create(t.compositeFilter.filters.map(i=>l5(i)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function fne(n){return one[n]}function pne(n){return sne[n]}function gne(n){return ane[n]}function Wh(n){return{fieldPath:n.canonicalString()}}function Gh(n){return Un.fromServerFormat(n.fieldPath)}function u5(n){return n instanceof ot?(function(t){if(t.op==="=="){if(uU(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NAN"}};if(lU(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uU(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NAN"}};if(lU(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(t.field),op:pne(t.op),value:t.value}}})(n):n instanceof At?(function(t){let i=t.getFilters().map(r=>u5(r));return i.length===1?i[0]:{compositeFilter:{op:gne(t.op),filters:i}}})(n):ye(54877,{filter:n})}function mne(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function d5(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pf=class n{constructor(e,t,i,r,o=Te.min(),s=Te.min(),a=zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bE=class{constructor(e){this.gt=e}};function _ne(n,e){let t;if(e.document)t=lne(n.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=de.fromSegments(e.noDocument.path),r=Uu(e.noDocument.readTime);t=ii.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{let i=de.fromSegments(e.unknownDocument.path),r=Uu(e.unknownDocument.version);t=ii.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime((function(r){let o=new Ot(r[0],r[1]);return Te.fromTimestamp(o)})(e.readTime)),t}function TU(n,e){let t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:EE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,s){return{name:vE(o,s.key),fields:s.data.value.mapValue.fields,updateTime:ff(o,s.version.toTimestamp()),createTime:ff(o,s.createTime.toTimestamp())}})(n.gt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Bu(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:Bu(e.version)}}return i}function EE(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Bu(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uu(n){let e=new Ot(n.seconds,n.nanoseconds);return Te.fromTimestamp(e)}function Iu(n,e){let t=(e.baseMutations||[]).map(o=>jA(n.gt,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>jA(n.gt,o)),r=Ot.fromMillis(e.localWriteTimeMs);return new Tm(e.batchId,r,t,i)}function sm(n){let e=Uu(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Uu(n.lastLimboFreeSnapshotVersion):Te.min(),i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){let s=o.documents.length;return Ce(s===1,1966,{count:s}),qr(Um(r5(o.documents[0])))})(n.query):(function(o){return qr(c5(o))})(n.query),new pf(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,zn.fromBase64String(n.resumeToken))}function h5(n,e){let t=Bu(e.snapshotVersion),i=Bu(e.lastLimboFreeSnapshotVersion),r;r=lE(e.target)?s5(n.gt,e.target):a5(n.gt,e.target).Vt;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function f5(n){let e=c5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dE(e,e.limit,"L"):e}function Y1(n,e){return new Sm(e.largestBatchId,jA(n.gt,e.overlayMutation))}function SU(n,e){let t=e.path.lastSegment();return[n,mi(e.path.popLast()),t]}function AU(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:Bu(i.readTime),documentKey:mi(i.documentKey.path),largestBatchId:i.largestBatchId}}var BA=class{getBundleMetadata(e,t){return MU(e).get(t).next(i=>{if(i)return(function(o){return{id:o.bundleId,createTime:Uu(o.createTime),version:o.version}})(i)})}saveBundleMetadata(e,t){return MU(e).put((function(r){return{bundleId:r.id,createTime:Bu(Pi(r.createTime)),version:r.version}})(t))}getNamedQuery(e,t){return PU(e).get(t).next(i=>{if(i)return(function(o){return{name:o.name,query:f5(o.bundledQuery),readTime:Uu(o.readTime)}})(i)})}saveNamedQuery(e,t){return PU(e).put((function(r){return{name:r.name,readTime:Bu(Pi(r.readTime)),bundledQuery:r.bundledQuery}})(t))}};function MU(n){return Hn(n,ZE)}function PU(n){return Hn(n,ew)}var wE=class n{constructor(e,t){this.serializer=e,this.userId=t}static yt(e,t){let i=t.uid||"";return new n(e,i)}getOverlay(e,t){return tm(e).get(SU(this.userId,t)).next(i=>i?Y1(this.serializer,i):null)}getOverlays(e,t){let i=bs();return W.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){let r=[];return i.forEach((o,s)=>{let a=new Sm(t,s);r.push(this.wt(e,a))}),W.waitFor(r)}removeOverlaysForBatchId(e,t,i){let r=new Set;t.forEach(s=>r.add(mi(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(tm(e).Y(gA,a))}),W.waitFor(o)}getOverlaysForCollection(e,t,i){let r=bs(),o=mi(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tm(e).j(gA,s).next(a=>{for(let c of a){let l=Y1(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){let o=bs(),s,a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tm(e).X({index:w3,range:a},(c,l,u)=>{let h=Y1(this.serializer,l);o.size()<r||h.largestBatchId===s?(o.set(h.getKey(),h),s=h.largestBatchId):u.done()}).next(()=>o)}wt(e,t){return tm(e).put((function(r,o,s){let[a,c,l]=SU(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:yE(r.gt,s.mutation)}})(this.serializer,this.userId,t))}};function tm(n){return Hn(n,tw)}var UA=class{St(e){return Hn(e,tP)}getSessionToken(e){return this.St(e).get("sessionToken").next(t=>{let i=t?.value;return i?zn.fromUint8Array(i):zn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}};var Ea=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(nn(e.integerValue));else if("doubleValue"in e){let i=nn(e.doubleValue);isNaN(i)?this.Ct(t,13):(this.Ct(t,15),_m(i)?t.Ft(0):t.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(t,20),typeof i=="string"&&(i=wa(i)),t.Mt(`${i.seconds||""}`),t.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ca(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(t,45),t.Ft(i.latitude||0),t.Ft(i.longitude||0)}else"mapValue"in e?k3(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):iw(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ye(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let i=e.fields||{};this.Ct(t,55);for(let r of Object.keys(i))this.xt(r,t),this.Dt(i[r],t)}Lt(e,t){var i,r;let o=e.fields||{};this.Ct(t,53);let s=cf,a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(t,15),t.Ft(nn(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let i=e.values||[];this.Ct(t,50);for(let r of i)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),de.fromName(e).path.forEach(i=>{this.Ct(t,60),this.$t(i,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ea.Ut=new Ea;var Bh=255;function vne(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function RU(n){let e=64-(function(i){let r=0;for(let o=0;o<8;++o){let s=vne(255&i[o]);if(r+=s,s!==8)break}return r})(n);return Math.ceil(e/8)}var $A=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.Wt(i.value),i=t.next();this.Gt()}zt(e){let t=e[Symbol.iterator](),i=t.next();for(;!i.done;)this.jt(i.value),i=t.next();this.Jt()}Ht(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.Wt(i);else if(i<2048)this.Wt(960|i>>>6),this.Wt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Wt(480|i>>>12),this.Wt(128|63&i>>>6),this.Wt(128|63&i);else{let r=t.codePointAt(0);this.Wt(240|r>>>18),this.Wt(128|63&r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r)}}this.Gt()}Yt(e){for(let t of e){let i=t.charCodeAt(0);if(i<128)this.jt(i);else if(i<2048)this.jt(960|i>>>6),this.jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.jt(480|i>>>12),this.jt(128|63&i>>>6),this.jt(128|63&i);else{let r=t.codePointAt(0);this.jt(240|r>>>18),this.jt(128|63&r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r)}}this.Jt()}Zt(e){let t=this.Xt(e),i=RU(t);this.en(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}tn(e){let t=this.Xt(e),i=RU(t);this.en(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}nn(){this.rn(Bh),this.rn(255)}sn(){this._n(Bh),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){let t=(function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Wt(e){let t=255&e;t===0?(this.rn(0),this.rn(255)):t===Bh?(this.rn(Bh),this.rn(0)):this.rn(t)}jt(e){let t=255&e;t===0?(this._n(0),this._n(255)):t===Bh?(this._n(Bh),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){let t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},zA=class{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}},HA=class{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}},xu=class{constructor(){this.un=new $A,this.cn=new zA(this.un),this.ln=new HA(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}};var Du=class n{constructor(e,t,i,r){this.Pn=e,this.Tn=t,this.In=i,this.dn=r}En(){let e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new n(this.Pn,this.Tn,this.In,i)}An(e,t,i){return{indexId:this.Pn,uid:e,arrayValue:Kb(this.In),directionalValue:Kb(this.dn),orderedDocumentKey:Kb(t),documentKey:i.path.toArray()}}Rn(e,t,i){let r=this.An(e,t,i);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}};function Ac(n,e){let t=n.Pn-e.Pn;return t!==0?t:(t=kU(n.In,e.In),t!==0?t:(t=kU(n.dn,e.dn),t!==0?t:de.comparator(n.Tn,e.Tn)))}function kU(n,e){for(let t=0;t<n.length&&t<e.length;++t){let i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function Kb(n){return PS()?(function(t){let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return i})(n):n}function OU(n){return typeof n!="string"?n:(function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(n)}var CE=class{constructor(e){this.Vn=new Nt((t,i)=>Un.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(let t of e.filters){let i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.fn.push(i)}}get gn(){return this.Vn.size>1}pn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.gn)return!1;let t=cA(e);if(t!==void 0&&!this.yn(t))return!1;let i=Eu(e),r=new Set,o=0,s=0;for(;o<i.length&&this.yn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Vn.size>0){let a=this.Vn.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.wn(a,c)||!this.Sn(this.mn[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.mn.length||!this.Sn(this.mn[s++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new Nt(Un.comparator),t=[];for(let i of this.fn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Qh(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Qh(i.field,0))}for(let i of this.mn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Qh(i.field,i.dir==="asc"?0:1)));return new ef(ef.UNKNOWN_ID,this.collectionId,t,mm.empty())}yn(e){for(let t of this.fn)if(this.wn(t,e))return!0;return!1}wn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}Sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function p5(n){var e,t;if(Ce(n instanceof ot||n instanceof At,20012),n instanceof ot){if(n instanceof cE){let r=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>ot.create(n.field,"==",o)))||[];return At.create(r,"or")}return n}let i=n.filters.map(r=>p5(r));return At.create(i,n.op)}function yne(n){if(n.getFilters().length===0)return[];let e=GA(p5(n));return Ce(g5(e),7391),qA(e)||WA(e)?[e]:e.getFilters()}function qA(n){return n instanceof ot}function WA(n){return n instanceof At&&sP(n)}function g5(n){return qA(n)||WA(n)||(function(t){if(t instanceof At&&yA(t)){for(let i of t.getFilters())if(!qA(i)&&!WA(i))return!1;return!0}return!1})(n)}function GA(n){if(Ce(n instanceof ot||n instanceof At,34018),n instanceof ot)return n;if(n.filters.length===1)return GA(n.filters[0]);let e=n.filters.map(i=>GA(i)),t=At.create(e,n.op);return t=IE(t),g5(t)?t:(Ce(t instanceof At,64498),Ce(uf(t),40251),Ce(t.filters.length>1,57927),t.filters.reduce((i,r)=>lP(i,r)))}function lP(n,e){let t;return Ce(n instanceof ot||n instanceof At,38388),Ce(e instanceof ot||e instanceof At,25473),t=n instanceof ot?e instanceof ot?(function(r,o){return At.create([r,o],"and")})(n,e):NU(n,e):e instanceof ot?NU(e,n):(function(r,o){if(Ce(r.filters.length>0&&o.filters.length>0,48005),uf(r)&&uf(o))return V3(r,o.getFilters());let s=yA(r)?r:o,a=yA(r)?o:r,c=s.filters.map(l=>lP(l,a));return At.create(c,"or")})(n,e),IE(t)}function NU(n,e){if(uf(e))return V3(e,n.getFilters());{let t=e.filters.map(i=>lP(n,i));return At.create(t,"or")}}function IE(n){if(Ce(n instanceof ot||n instanceof At,11850),n instanceof ot)return n;let e=n.getFilters();if(e.length===1)return IE(e[0]);if(F3(n))return n;let t=e.map(r=>IE(r)),i=[];return t.forEach(r=>{r instanceof ot?i.push(r):r instanceof At&&(r.op===n.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:At.create(i,n.op)}var KA=class{constructor(){this.Dn=new Mm}addToCollectionParentIndex(e,t){return this.Dn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(Wr.min())}updateCollectionGroup(e,t,i){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}},Mm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Nt(St.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nt(St.comparator)).toArray()}};var FU="IndexedDbIndexManager",Vb=new Uint8Array(0),YA=class{constructor(e,t){this.databaseId=t,this.vn=new Mm,this.Cn=new Ao(i=>Vu(i),(i,r)=>Bm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){let i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});let o={collectionId:i,parent:mi(r)};return LU(e).put(o)}return W.resolve()}getCollectionParents(e,t){let i=[],r=IDBKeyRange.bound([t,""],[d3(t),""],!1,!0);return LU(e).j(r).next(o=>{for(let s of o){if(s.collectionId!==t)break;i.push(ys(s.parent))}return i})}addFieldIndex(e,t){let i=nm(e),r=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}})(t);delete r.indexId;let o=i.add(r);if(t.indexState){let s=$h(e);return o.next(a=>{s.put(AU(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){let i=nm(e),r=$h(e),o=Uh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=nm(e),i=Uh(e),r=$h(e);return t.Y().next(()=>i.Y()).next(()=>r.Y())}createTargetIndexes(e,t){return W.forEach(this.Fn(t),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new CE(i).bn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){let i=Uh(e),r=!0,o=new Map;return W.forEach(this.Fn(t),s=>this.Mn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Xe(),a=[];return W.forEach(o,(c,l)=>{ie(FU,`Using index ${(function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(q=>`${q.fieldPath}:${q.kind}`).join(",")}`})(c)} to execute ${Vu(t)}`);let u=(function(B,q){let H=cA(q);if(H===void 0)return null;for(let G of uE(B,H.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(l,c),h=(function(B,q){let H=new Map;for(let G of Eu(q))for(let R of uE(B,G.fieldPath))switch(R.op){case"==":case"in":H.set(G.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return H.set(G.fieldPath.canonicalString(),R.value),Array.from(H.values())}return null})(l,c),p=(function(B,q){let H=[],G=!0;for(let R of Eu(q)){let x=R.kind===0?gU(B,R.fieldPath,B.startAt):mU(B,R.fieldPath,B.startAt);H.push(x.value),G&&(G=x.inclusive)}return new Bc(H,G)})(l,c),g=(function(B,q){let H=[],G=!0;for(let R of Eu(q)){let x=R.kind===0?mU(B,R.fieldPath,B.endAt):gU(B,R.fieldPath,B.endAt);H.push(x.value),G&&(G=x.inclusive)}return new Bc(H,G)})(l,c),y=this.xn(c,l,p),E=this.xn(c,l,g),b=this.On(c,l,h),M=this.Nn(c.indexId,u,y,p.inclusive,E,g.inclusive,b);return W.forEach(M,O=>i.H(O,t.limit).next(B=>{B.forEach(q=>{let H=de.fromSegments(q.documentKey);s.has(H)||(s=s.add(H),a.push(H))})}))}).next(()=>a)}return W.resolve(null)})}Fn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=yne(At.create(e.filters,"and")).map(i=>SA(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t),t)}Nn(e,t,i,r,o,s,a){let c=(t!=null?t.length:1)*Math.max(i.length,o.length),l=c/(t!=null?t.length:1),u=[];for(let h=0;h<c;++h){let p=t?this.Bn(t[h/l]):Vb,g=this.Ln(e,p,i[h%l],r),y=this.kn(e,p,o[h%l],s),E=a.map(b=>this.Ln(e,p,b,!0));u.push(...this.createRange(g,y,E))}return u}Ln(e,t,i,r){let o=new Du(e,de.empty(),t,i);return r?o:o.En()}kn(e,t,i,r){let o=new Du(e,de.empty(),t,i);return r?o.En():o}Mn(e,t){let i=new CE(t),r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.pn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2,r=this.Fn(t);return W.forEach(r,o=>this.Mn(e,o).next(s=>{s?i!==0&&s.fields.length<(function(c){let l=new Nt(Un.comparator),u=!1;for(let h of c.filters)for(let p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?u=!0:l=l.add(p.field));for(let h of c.orderBy)h.field.isKeyField()||(l=l.add(h.field));return l.size+(u?1:0)})(o)&&(i=1):i=0})).next(()=>(function(s){return s.limit!==null})(t)&&r.length>1&&i===2?1:i)}qn(e,t){let i=new xu;for(let r of Eu(e)){let o=t.data.field(r.fieldPath);if(o==null)return null;let s=i.hn(r.kind);Ea.Ut.bt(o,s)}return i.an()}Bn(e){let t=new xu;return Ea.Ut.bt(e,t.hn(0)),t.an()}Qn(e,t){let i=new xu;return Ea.Ut.bt(Im(this.databaseId,t),i.hn((function(o){let s=Eu(o);return s.length===0?0:s[s.length-1].kind})(e))),i.an()}On(e,t,i){if(i===null)return[];let r=[];r.push(new xu);let o=0;for(let s of Eu(e)){let a=i[o++];for(let c of r)if(this.$n(t,s.fieldPath)&&xm(a))r=this.Un(r,s,a);else{let l=c.hn(s.kind);Ea.Ut.bt(a,l)}}return this.Kn(r)}xn(e,t,i){return this.On(e,t,i.position)}Kn(e){let t=[];for(let i=0;i<e.length;++i)t[i]=e[i].an();return t}Un(e,t,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new xu;c.seed(a.an()),Ea.Ut.bt(s,c.hn(t.kind)),o.push(c)}return o}$n(e,t){return!!e.filters.find(i=>i instanceof ot&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){let i=nm(e),r=$h(e);return(t?i.j(pA,IDBKeyRange.bound(t,t)):i.j()).next(o=>{let s=[];return W.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push((function(u,h){let p=h?new mm(h.sequenceNumber,new Wr(Uu(h.readTime),new de(ys(h.documentKey)),h.largestBatchId)):mm.empty(),g=u.fields.map(([y,E])=>new Qh(Un.fromServerFormat(y),E));return new ef(u.indexId,u.collectionGroup,g,p)})(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Re(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){let r=nm(e),o=$h(e);return this.Wn(e).next(s=>r.j(pA,IDBKeyRange.bound(t,t)).next(a=>W.forEach(a,c=>o.put(AU(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,t){let i=new Map;return W.forEach(t,(r,o)=>{let s=i.get(r.collectionGroup);return(s?W.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),W.forEach(a,c=>this.Gn(e,r,c).next(l=>{let u=this.zn(o,c);return l.isEqual(u)?W.resolve():this.jn(e,o,c,l,u)}))))})}Jn(e,t,i,r){return Uh(e).put(r.An(this.uid,this.Qn(i,t.key),t.key))}Hn(e,t,i,r){return Uh(e).delete(r.Rn(this.uid,this.Qn(i,t.key),t.key))}Gn(e,t,i){let r=Uh(e),o=new Nt(Ac);return r.X({index:E3,range:IDBKeyRange.only([i.indexId,this.uid,Kb(this.Qn(i,t))])},(s,a)=>{o=o.add(new Du(i.indexId,t,OU(a.arrayValue),OU(a.directionalValue)))}).next(()=>o)}zn(e,t){let i=new Nt(Ac),r=this.qn(t,e);if(r==null)return i;let o=cA(t);if(o!=null){let s=e.data.field(o.fieldPath);if(xm(s))for(let a of s.arrayValue.values||[])i=i.add(new Du(t.indexId,e.key,this.Bn(a),r))}else i=i.add(new Du(t.indexId,e.key,Vb,r));return i}jn(e,t,i,r,o){ie(FU,"Updating index entries for document '%s'",t.key);let s=[];return(function(c,l,u,h,p){let g=c.getIterator(),y=l.getIterator(),E=jh(g),b=jh(y);for(;E||b;){let M=!1,O=!1;if(E&&b){let B=u(E,b);B<0?O=!0:B>0&&(M=!0)}else E!=null?O=!0:M=!0;M?(h(b),b=jh(y)):O?(p(E),E=jh(g)):(E=jh(g),b=jh(y))}})(r,o,Ac,a=>{s.push(this.Jn(e,t,i,a))},a=>{s.push(this.Hn(e,t,i,a))}),W.waitFor(s)}Wn(e){let t=1;return $h(e).X({index:b3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Ac(s,a)).filter((s,a,c)=>!a||Ac(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=Ac(s,e),c=Ac(s,t);if(a===0)r[0]=e.En();else if(a>0&&c<0)r.push(s),r.push(s.En());else if(c>0)break}r.push(t);let o=[];for(let s=0;s<r.length;s+=2){if(this.Yn(r[s],r[s+1]))return[];let a=r[s].Rn(this.uid,Vb,de.empty()),c=r[s+1].Rn(this.uid,Vb,de.empty());o.push(IDBKeyRange.bound(a,c))}return o}Yn(e,t){return Ac(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(VU)}getMinOffset(e,t){return W.mapArray(this.Fn(t),i=>this.Mn(e,i).next(r=>r||ye(44426))).next(VU)}};function LU(n){return Hn(n,bm)}function Uh(n){return Hn(n,lm)}function nm(n){return Hn(n,eP)}function $h(n){return Hn(n,cm)}function VU(n){Ce(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){let r=n[i].indexState.offset;XM(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Wr(e.readTime,e.documentKey,t)}var jU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m5=41943040,Qi=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};function _5(n,e,t){let i=n.store(To),r=n.store(nf),o=[],s=IDBKeyRange.only(t.batchId),a=0,c=i.X({range:s},(u,h,p)=>(a++,p.delete()));o.push(c.next(()=>{Ce(a===1,47070,{batchId:t.batchId})}));let l=[];for(let u of t.mutations){let h=_3(e,u.key.path,t.batchId);o.push(r.delete(h)),l.push(u.key)}return W.waitFor(o).next(()=>l)}function xE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(m5,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);var DE=class n{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Zn={}}static yt(e,t,i,r){Ce(e.uid!=="",64387);let o=e.isAuthenticated()?e.uid:"";return new n(o,t,i,r)}checkEmpty(e){let t=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).X({index:Tu,range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){let o=Kh(e),s=Mc(e);return s.add({}).next(a=>{Ce(typeof a=="number",49019);let c=new Tm(a,t,i,r),l=(function(g,y,E){let b=E.baseMutations.map(O=>yE(g.gt,O)),M=E.mutations.map(O=>yE(g.gt,O));return{userId:y,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:b,mutations:M}})(this.serializer,this.userId,c),u=[],h=new Nt((p,g)=>Re(p.canonicalString(),g.canonicalString()));for(let p of r){let g=_3(this.userId,p.key.path,a);h=h.add(p.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,pte))}return h.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Zn[a]=c.keys()}),W.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return Mc(e).get(t).next(i=>i?(Ce(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Iu(this.serializer,i)):null)}Xn(e,t){return this.Zn[t]?W.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){let r=i.keys();return this.Zn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Mc(e).X({index:Tu,range:r},(s,a,c)=>{a.userId===this.userId&&(Ce(a.batchId>=i,47524,{er:i}),o=Iu(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=Pu;return Mc(e).X({index:Tu,range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,Pu],[this.userId,Number.POSITIVE_INFINITY]);return Mc(e).j(Tu,t).next(i=>i.map(r=>Iu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){let i=$b(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Kh(e).X({range:r},(s,a,c)=>{let[l,u,h]=s,p=ys(u);if(l===this.userId&&t.path.isEqual(p))return Mc(e).get(h).next(g=>{if(!g)throw ye(61480,{tr:s,batchId:h});Ce(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:h}),o.push(Iu(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Re),r=[];return t.forEach(o=>{let s=$b(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Kh(e).X({range:a},(l,u,h)=>{let[p,g,y]=l,E=ys(g);p===this.userId&&o.path.isEqual(E)?i=i.add(y):h.done()});r.push(c)}),W.waitFor(r).next(()=>this.nr(e,i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=$b(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Nt(Re);return Kh(e).X({range:s},(c,l,u)=>{let[h,p,g]=c,y=ys(p);h===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(g)):u.done()}).next(()=>this.nr(e,a))}nr(e,t){let i=[],r=[];return t.forEach(o=>{r.push(Mc(e).get(o).next(s=>{if(s===null)throw ye(35274,{batchId:o});Ce(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),i.push(Iu(this.serializer,s))}))}),W.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return _5(e.ce,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.rr(t.batchId)}),W.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return W.resolve();let i=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),r=[];return Kh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=ys(o[1]);r.push(c)}else a.done()}).next(()=>{Ce(r.length===0,56720,{ir:r.map(o=>o.canonicalString())})})})}containsKey(e,t){return v5(e,this.userId,t)}sr(e){return y5(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Pu,lastStreamToken:""})}};function v5(n,e,t){let i=$b(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Kh(n).X({range:o,Z:!0},(a,c,l)=>{let[u,h,p]=a;u===e&&h===r&&(s=!0),l.done()}).next(()=>s)}function Mc(n){return Hn(n,To)}function Kh(n){return Hn(n,nf)}function y5(n){return Hn(n,vm)}var gf=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var QA=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.cr(e).next(t=>{let i=new gf(t.highestTargetId);return t.highestTargetId=i.next(),this.lr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(t=>Te.fromTimestamp(new Ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.cr(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.lr(e,r)))}addTargetData(e,t){return this.hr(e,t).next(()=>this.cr(e).next(i=>(i.targetCount+=1,this.Pr(t,i),this.lr(e,i))))}updateTargetData(e,t){return this.hr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>zh(e).delete(t.targetId)).next(()=>this.cr(e)).next(i=>(Ce(i.targetCount>0,8065),i.targetCount-=1,this.lr(e,i)))}removeTargets(e,t,i){let r=0,o=[];return zh(e).X((s,a)=>{let c=sm(a);c.sequenceNumber<=t&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>W.waitFor(o)).next(()=>r)}forEachTarget(e,t){return zh(e).X((i,r)=>{let o=sm(r);t(o)})}cr(e){return BU(e).get(iE).next(t=>(Ce(t!==null,2888),t))}lr(e,t){return BU(e).put(iE,t)}hr(e,t){return zh(e).put(h5(this.serializer,t))}Pr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.cr(e).next(t=>t.targetCount)}getTargetData(e,t){let i=Vu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return zh(e).X({range:r,index:y3},(s,a,c)=>{let l=sm(a);Bm(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){let r=[],o=Rc(e);return t.forEach(s=>{let a=mi(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),W.waitFor(r)}removeMatchingKeys(e,t,i){let r=Rc(e);return W.forEach(t,o=>{let s=mi(o.path);return W.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){let i=Rc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){let i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rc(e),o=Xe();return r.X({range:i,Z:!0},(s,a,c)=>{let l=ys(s[1]),u=new de(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){let i=mi(t.path),r=IDBKeyRange.bound([i],[d3(i)],!1,!0),o=0;return Rc(e).X({index:ZM,Z:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}Et(e,t){return zh(e).get(t).next(i=>i?sm(i):null)}};function zh(n){return Hn(n,rf)}function BU(n){return Hn(n,Ru)}function Rc(n){return Hn(n,of)}var UU="LruGarbageCollector",bne=1048576;function $U([n,e],[t,i]){let r=Re(n,t);return r===0?Re(e,i):r}var XA=class{constructor(e){this.Tr=e,this.buffer=new Nt($U),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();$U(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},TE=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ie(UU,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>A(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kc(t)?ie(UU,"Ignoring IndexedDB error during garbage collection: ",t):yield zu(t)}yield this.Rr(3e5)}))}},JA=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return W.resolve(So.ue);let i=new XA(t);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(jU)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jU):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,s=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(l=Date.now(),Hh()<=nt.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:h})))}};function b5(n,e){return new JA(n,e)}var ZA=class{constructor(e,t){this.db=e,this.garbageCollector=b5(this,t)}mr(e){let t=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}gr(e,t){return this.wr(e,(i,r)=>t(r))}addReference(e,t,i){return jb(e,i)}removeReference(e,t,i){return jb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return jb(e,t)}Sr(e,t){return(function(r,o){let s=!1;return y5(r).ee(a=>v5(r,a,o).next(c=>(c&&(s=!0),W.resolve(!c)))).next(()=>s)})(e,t)}removeOrphanedDocuments(e,t){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.wr(e,(s,a)=>{if(a<=t){let c=this.Sr(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Te.min()),Rc(e).delete((function(h){return[0,mi(h.path)]})(s))))});r.push(c)}}).next(()=>W.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return jb(e,t)}wr(e,t){let i=Rc(e),r,o=So.ue;return i.X({index:ZM},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==So.ue&&t(new de(ys(r)),o),o=l,r=c):o=So.ue}).next(()=>{o!==So.ue&&t(new de(ys(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function jb(n,e){return Rc(n).put((function(i,r){return{targetId:0,path:mi(i.path),sequenceNumber:r}})(e,n.currentSequenceNumber))}var SE=class{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?W.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var eM=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return bu(e).put(i)}removeEntry(e,t,i){return bu(e).delete((function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],EE(s),a[a.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.br(e,i)))}getEntry(e,t){let i=ii.newInvalidDocument(t);return bu(e).X({index:zb,range:IDBKeyRange.only(im(t))},(r,o)=>{i=this.Dr(t,o)}).next(()=>i)}vr(e,t){let i={size:0,document:ii.newInvalidDocument(t)};return bu(e).X({index:zb,range:IDBKeyRange.only(im(t))},(r,o)=>{i={document:this.Dr(t,o),size:xE(o)}}).next(()=>i)}getEntries(e,t){let i=vr();return this.Cr(e,t,(r,o)=>{let s=this.Dr(r,o);i=i.insert(r,s)}).next(()=>i)}Fr(e,t){let i=vr(),r=new ln(de.comparator);return this.Cr(e,t,(o,s)=>{let a=this.Dr(o,s);i=i.insert(o,a),r=r.insert(o,xE(s))}).next(()=>({documents:i,Mr:r}))}Cr(e,t,i){if(t.isEmpty())return W.resolve();let r=new Nt(qU);t.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(im(r.first()),im(r.last())),s=r.getIterator(),a=s.getNext();return bu(e).X({index:zb,range:o},(c,l,u)=>{let h=de.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&qU(a,h)<0;)i(a,null),a=s.getNext();a&&a.isEqual(h)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(im(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),EE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bu(e).j(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=vr();for(let h of l){let p=this.Dr(de.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&($m(t,p)||r.has(p.key))&&(u=u.insert(p.key,p))}return u})}getAllFromCollectionGroup(e,t,i,r){let o=vr(),s=HU(t,i),a=HU(t,Wr.max());return bu(e).X({index:v3,range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let h=this.Dr(de.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(h.key,h),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new tM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zU(e).get(fA).next(t=>(Ce(!!t,20021),t))}br(e,t){return zU(e).put(fA,t)}Dr(e,t){if(t){let i=_ne(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Te.min())))return i}return ii.newInvalidDocument(e)}};function E5(n){return new eM(n)}var tM=class extends SE{constructor(e,t){super(),this.Or=e,this.trackRemovals=t,this.Nr=new Ao(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let t=[],i=0,r=new Nt((o,s)=>Re(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.Nr.get(o);if(t.push(this.Or.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=TU(this.Or.serializer,s);r=r.add(o.path.popLast());let l=xE(c);i+=l-a.size,t.push(this.Or.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=TU(this.Or.serializer,s.convertToNoDocument(Te.min()));t.push(this.Or.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.Or.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Or.updateMetadata(e,i)),W.waitFor(t)}getFromCache(e,t){return this.Or.vr(e,t).next(i=>(this.Nr.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Or.Fr(e,t).next(({documents:i,Mr:r})=>(r.forEach((o,s)=>{this.Nr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function zU(n){return Hn(n,ym)}function bu(n){return Hn(n,nE)}function im(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HU(n,e){let t=e.documentKey.path.toArray();return[n,EE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qU(n,e){let t=n.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Re(t[o],i[o]),r)return r;return r=Re(t.length,i.length),r||(r=Re(t[t.length-2],i[i.length-2]),r||Re(t[t.length-1],i[i.length-1]))}var nM=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var AE=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&fm(i.mutation,r,_r.empty(),Ot.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xe()){let r=bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=om();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xe()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=vr(),s=hm(),a=(function(){return hm()})();return t.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Mo)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),fm(u.mutation,l,u.mutation.getFieldMask(),Ot.now())):s.set(l.key,_r.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new nM(u,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=hm(),r=new ln((s,a)=>s-a),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=i.get(c)||_r.empty();u=a.applyToLocalView(l,u),i.set(c,u);let h=(r.get(a.batchId)||Xe()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=W3();u.forEach(p=>{if(!o.has(p)){let g=J3(t.get(p),i.get(p));g!==null&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return W.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return(function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):U3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):W.resolve(bs()),a=gm,c=o;return s.next(l=>W.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?W.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{c=c.insert(u,p)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Xe())).next(u=>({batchId:a,changes:q3(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next(i=>{let r=om();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=om();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,c=>{let l=(function(h,p){return new Uc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,ii.newInvalidDocument(u)))});let a=om();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&fm(u.mutation,l,_r.empty(),Ot.now()),$m(t,l)&&(a=a.insert(c,l))}),a})}};var iM=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return W.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:f5(r.bundledQuery),readTime:Pi(r.readTime)}})(t)),W.resolve()}};var rM=class{constructor(){this.overlays=new ln(de.comparator),this.kr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){let i=bs();return W.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.wt(e,t,o)}),W.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),W.resolve()}getOverlaysForCollection(e,t,i){let r=bs(),o=t.length+1,s=new de(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return W.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ln((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=bs(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=bs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return W.resolve(a)}wt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Sm(t,i));let o=this.kr.get(t);o===void 0&&(o=Xe(),this.kr.set(t,o)),this.kr.set(t,o.add(i.key))}};var oM=class{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}};var Pm=class{constructor(){this.qr=new Nt(Pn.Qr),this.$r=new Nt(Pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let i=new Pn(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Pn(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){let t=new de(new St([])),i=new Pn(t,e),r=new Pn(t,e+1),o=[];return this.$r.forEachInRange([i,r],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new de(new St([])),i=new Pn(t,e),r=new Pn(t,e+1),o=Xe();return this.$r.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Pn(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Pn=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return de.comparator(e.key,t.key)||Re(e.Hr,t.Hr)}static Ur(e,t){return Re(e.Hr,t.Hr)||de.comparator(e.key,t.key)}};var sM=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Nt(Pn.Qr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Tm(o,t,i,r);this.mutationQueue.push(s);for(let a of r)this.Yr=this.Yr.add(new Pn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,t){return W.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Xr(i),o=r<0?0:r;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Pu:this.er-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Pn(t,0),r=new Pn(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],s=>{let a=this.Zr(s.Hr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Re);return t.forEach(r=>{let o=new Pn(r,0),s=new Pn(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{i=i.add(a.Hr)})}),W.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;de.isDocumentKey(o)||(o=o.child(""));let s=new Pn(new de(o),0),a=new Nt(Re);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.Hr)),!0)},s),W.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(i=>{let r=this.Zr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ce(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return W.forEach(t.mutations,r=>{let o=new Pn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){let i=new Pn(t,0),r=this.Yr.firstAfterOrEqual(i);return W.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var aM=class{constructor(e){this.ni=e,this.docs=(function(){return new ln(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return W.resolve(i?i.document.mutableCopy():ii.newInvalidDocument(t))}getEntries(e,t){let i=vr();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ii.newInvalidDocument(r))}),W.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=vr(),s=t.path,a=new de(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XM(p3(u),i)<=0||(r.has(u.key)||$m(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ye(9500)}ri(e,t){return W.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cM(this)}getSize(e){return W.resolve(this.size)}},cM=class extends SE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),W.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var lM=class{constructor(e){this.persistence=e,this.ii=new Ao(t=>Vu(t),Bm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.si=0,this.oi=new Pm,this.targetCount=0,this._i=gf.ar()}forEachTarget(e,t){return this.ii.forEach((i,r)=>t(r)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),W.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new gf(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.hr(t),W.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),W.waitFor(o).next(()=>r)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){let i=this.ii.get(t)||null;return W.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),W.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),W.resolve()}getMatchingKeysForTargetId(e,t){let i=this.oi.Jr(t);return W.resolve(i)}containsKey(e,t){return W.resolve(this.oi.containsKey(t))}};var Rm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new So(0),this.ci=!1,this.ci=!0,this.li=new oM,this.referenceDelegate=e(this),this.hi=new lM(this),this.indexManager=new KA,this.remoteDocumentCache=(function(r){return new aM(r)})(i=>this.referenceDelegate.Pi(i)),this.serializer=new bE(t),this.Ti=new iM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new sM(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){ie("MemoryPersistence","Starting transaction:",e);let r=new uM(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(e,t){return W.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}},uM=class extends Zb{constructor(e){super(),this.currentSequenceNumber=e}},ME=class n{constructor(e){this.persistence=e,this.Ai=new Pm,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ye(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),W.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(r=>this.mi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.mi,i=>{let r=de.fromPath(i);return this.fi(e,r).next(o=>{o||t.removeEntry(r,Te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return W.or([()=>W.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},PE=class n{constructor(e,t){this.persistence=e,this.gi=new Ao(i=>mi(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=b5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return W.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(o=>o?W.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(i++,o.removeEntry(s,Te.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),W.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),W.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qb(e.data.value)),t}Sr(e,t,i){return W.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.gi.get(t);return W.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var dM=class{constructor(e){this.serializer=e}q(e,t,i,r){let o=new eE("createOrUpgrade",t);i<1&&r>=1&&((function(c){c.createObjectStore(jm)})(e),(function(c){c.createObjectStore(vm,{keyPath:fte}),c.createObjectStore(To,{keyPath:rU,autoIncrement:!0}).createIndex(Tu,oU,{unique:!0}),c.createObjectStore(nf)})(e),WU(e),(function(c){c.createObjectStore(wu)})(e));let s=W.resolve();return i<3&&r>=3&&(i!==0&&((function(c){c.deleteObjectStore(of),c.deleteObjectStore(rf),c.deleteObjectStore(Ru)})(e),WU(e)),s=s.next(()=>(function(c){let l=c.store(Ru),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return l.put(iE,u)})(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>(function(c,l){return l.store(To).j().next(h=>{c.deleteObjectStore(To),c.createObjectStore(To,{keyPath:rU,autoIncrement:!0}).createIndex(Tu,oU,{unique:!0});let p=l.store(To),g=h.map(y=>p.put(y));return W.waitFor(g)})})(e,o))),s=s.next(()=>{(function(c){c.createObjectStore(sf,{keyPath:wte})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.pi(o))),i<6&&r>=6&&(s=s.next(()=>((function(c){c.createObjectStore(ym)})(e),this.yi(o)))),i<7&&r>=7&&(s=s.next(()=>this.wi(o))),i<8&&r>=8&&(s=s.next(()=>this.Si(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.bi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore(ZE,{keyPath:Cte})})(e),(function(c){c.createObjectStore(ew,{keyPath:Ite})})(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore(tw,{keyPath:Pte});l.createIndex(gA,Rte,{unique:!1}),l.createIndex(w3,kte,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>(function(c){let l=c.createObjectStore(nE,{keyPath:gte});l.createIndex(zb,mte),l.createIndex(v3,_te)})(e)).next(()=>this.Di(e,o)).next(()=>e.deleteObjectStore(wu))),i<14&&r>=14&&(s=s.next(()=>this.Ci(e,o))),i<15&&r>=15&&(s=s.next(()=>(function(c){c.createObjectStore(eP,{keyPath:xte,autoIncrement:!0}).createIndex(pA,Dte,{unique:!1}),c.createObjectStore(cm,{keyPath:Tte}).createIndex(b3,Ste,{unique:!1}),c.createObjectStore(lm,{keyPath:Ate}).createIndex(E3,Mte,{unique:!1})})(e))),i<16&&r>=16&&(s=s.next(()=>{t.objectStore(cm).clear()}).next(()=>{t.objectStore(lm).clear()})),i<17&&r>=17&&(s=s.next(()=>{(function(c){c.createObjectStore(tP,{keyPath:Ote})})(e)})),i<18&&r>=18&&PS()&&(s=s.next(()=>{t.objectStore(cm).clear()}).next(()=>{t.objectStore(lm).clear()})),s}yi(e){let t=0;return e.store(wu).X((i,r)=>{t+=xE(r)}).next(()=>{let i={byteSize:t};return e.store(ym).put(fA,i)})}pi(e){let t=e.store(vm),i=e.store(To);return t.j().next(r=>W.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,Pu],[o.userId,o.lastAcknowledgedBatchId]);return i.j(Tu,s).next(a=>W.forEach(a,c=>{Ce(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});let l=Iu(this.serializer,c);return _5(e,o.userId,l).next(()=>{})}))}))}wi(e){let t=e.store(of),i=e.store(wu);return e.store(Ru).get(iE).next(r=>{let o=[];return i.X((s,a)=>{let c=new St(s),l=(function(h){return[0,mi(h)]})(c);o.push(t.get(l).next(u=>u?W.resolve():(h=>t.put({targetId:0,path:mi(h),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>W.waitFor(o))})}Si(e,t){e.createObjectStore(bm,{keyPath:Ete});let i=t.store(bm),r=new Mm,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:mi(c)})}};return t.store(wu).X({Z:!0},(s,a)=>{let c=new St(s);return o(c.popLast())}).next(()=>t.store(nf).X({Z:!0},([s,a,c],l)=>{let u=ys(a);return o(u.popLast())}))}bi(e){let t=e.store(rf);return t.X((i,r)=>{let o=sm(r),s=h5(this.serializer,o);return t.put(s)})}Di(e,t){let i=t.store(wu),r=[];return i.X((o,s)=>{let a=t.store(nE),c=(function(h){return h.document?new de(St.fromString(h.document.name).popFirst(5)):h.noDocument?de.fromSegments(h.noDocument.path):h.unknownDocument?de.fromSegments(h.unknownDocument.path):ye(36783)})(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>W.waitFor(r))}Ci(e,t){let i=t.store(To),r=E5(this.serializer),o=new Rm(ME.Vi,this.serializer.gt);return i.j().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:Xe();Iu(this.serializer,c).keys().forEach(h=>u=u.add(h)),a.set(c.userId,u)}),W.forEach(a,(c,l)=>{let u=new Bn(l),h=wE.yt(this.serializer,u),p=o.getIndexManager(u),g=DE.yt(u,this.serializer,p,o.referenceDelegate);return new AE(r,g,h,p).recalculateAndSaveOverlaysForDocumentKeys(new Em(t,So.ue),c).next()})})}};function WU(n){n.createObjectStore(of,{keyPath:yte}).createIndex(ZM,bte,{unique:!0}),n.createObjectStore(rf,{keyPath:"targetId"}).createIndex(y3,vte,{unique:!0}),n.createObjectStore(Ru)}var Pc="IndexedDbPersistence",Q1=18e5,X1=5e3,J1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ene="main",hM=class n{constructor(e,t,i,r,o,s,a,c,l,u,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Fi=o,this.window=s,this.document=a,this.Mi=l,this.xi=u,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=p=>Promise.resolve(),!n.C())throw new oe(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ZA(this,r),this.Qi=t+Ene,this.serializer=new bE(c),this.$i=new tf(this.Qi,this.Oi,new dM(this.serializer)),this.li=new UA,this.hi=new QA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=E5(this.serializer),this.Ti=new BA,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,u===!1&&Ai(Pc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(X.FAILED_PRECONDITION,J1);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new So(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=t=>A(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(()=>A(this,null,function*(){this.started&&(yield this.Ki())})))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(t=>{t||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Yi(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(Kc(e))return ie(Pc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie(Pc,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return rm(e).get(Vh).next(t=>W.resolve(this.Xi(t)))}es(e){return Bb(e).delete(this.clientId)}ts(){return A(this,null,function*(){if(this.isPrimary&&!this.ns(this.ki,Q1)){this.ki=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let i=Hn(t,sf);return i.j().next(r=>{let o=this.rs(r,Q1),s=r.filter(a=>o.indexOf(a)===-1);return W.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.ss(t.clientId))}})}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?W.resolve(!0):rm(e).get(Vh).next(t=>{if(t!==null&&this.ns(t.leaseTimestampMs,X1)&&!this._s(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new oe(X.FAILED_PRECONDITION,J1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bb(e).j().next(i=>this.rs(i,X1).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ie(Pc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return A(this,null,function*(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),yield this.$i.runTransaction("shutdown","readwrite",[jm,sf],e=>{let t=new Em(e,So.ue);return this.Yi(t).next(()=>this.es(t))}),this.$i.close(),this.hs()})}rs(e,t){return e.filter(i=>this.ns(i.updateTimeMs,t)&&!this._s(i.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>Bb(e).j().next(t=>this.rs(t,Q1).map(i=>i.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,t){return DE.yt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YA(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return wE.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,t,i){ie(Pc,"Starting transaction:",e);let r=t==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?Lte:c===17?D3:c===16?Fte:c===15?nP:c===14?x3:c===13?I3:c===12?Nte:c===11?C3:void ye(60245)})(this.Oi),s;return this.$i.runTransaction(e,r,o,a=>(s=new Em(a,this.ui?this.ui.next():So.ue),t==="readwrite-primary"?this.Ji(s).next(c=>!!c||this.Hi(s)).next(c=>{if(!c)throw Ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new oe(X.FAILED_PRECONDITION,g3);return i(s)}).next(c=>this.Zi(s).next(()=>c)):this.Ts(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ts(e){return rm(e).get(Vh).next(t=>{if(t!==null&&this.ns(t.leaseTimestampMs,X1)&&!this._s(t.ownerId)&&!this.Xi(t)&&!(this.xi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(X.FAILED_PRECONDITION,J1)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rm(e).put(Vh,t)}static C(){return tf.C()}Yi(e){let t=rm(e);return t.get(Vh).next(i=>this.Xi(i)?(ie(Pc,"Releasing primary lease."),t.delete(Vh)):W.resolve())}ns(e,t){let i=Date.now();return!(e<i-t)&&(!(e>i)||(Ai(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();let t=/(?:Version|Mobile)\/1[456]/;MS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var t;try{let i=((t=this.Ui)===null||t===void 0?void 0:t.getItem(this.ss(e)))!==null;return ie(Pc,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ai(Pc,"Failed to get zombied client id.",i),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function rm(n){return Hn(n,jm)}function Bb(n){return Hn(n,sf)}function wne(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var fM=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=Xe(),r=Xe();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var pM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var RE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return MS()?8:m3(In())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new pM;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(Hh()<=nt.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",qh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Hh()<=nt.DEBUG&&ie("QueryEngine","Query:",qh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Hh()<=nt.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",qh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):W.resolve())}ps(e,t){if(_U(t))return W.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=dE(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Xe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,dE(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,i,r){return _U(t)||r.isEqual(Te.min())?W.resolve(null):this.gs.getDocuments(e,i).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,i,r)?W.resolve(null):(Hh()<=nt.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qh(t)),this.vs(e,s,t,ute(r,gm)).next(a=>a))})}bs(e,t){let i=new Nt(z3(e));return t.forEach((r,o)=>{$m(e,o)&&(i=i.add(o))}),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(e,t,i){return Hh()<=nt.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",qh(t)),this.gs.getDocumentsMatchingQuery(e,t,Wr.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var uP="LocalStore",Cne=3e8,gM=class{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ln(Re),this.Ms=new Ao(o=>Vu(o),Bm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function w5(n,e,t,i){return new gM(n,e,t,i)}function C5(n,e){return A(this,null,function*(){let t=je(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=Xe();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Ine(n,e){let t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,u){let h=l.batch,p=h.keys(),g=W.resolve();return p.forEach(y=>{g=g.next(()=>u.getEntry(c,y)).next(E=>{let b=l.docVersions.get(y);Ce(b!==null,48541),E.version.compareTo(b)<0&&(h.applyToRemoteDocument(E,l),E.isValidDocument()&&(E.setReadTime(l.commitVersion),u.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))})(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(a){let c=Xe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function I5(n){let e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function xne(n,e){let t=je(n),i=e.snapshotVersion,r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;let a=[];e.targetChanges.forEach((u,h)=>{let p=r.get(h);if(!p)return;a.push(t.hi.removeMatchingKeys(o,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(o,u.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(zn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(h,g),(function(E,b,M){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Cne?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(p,g,u)&&a.push(t.hi.updateTargetData(o,g))});let c=vr(),l=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(Dne(o,s,e.documentUpdates).next(u=>{c=u.Ls,l=u.ks})),!i.isEqual(Te.min())){let u=t.hi.getLastRemoteSnapshotVersion(o).next(h=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=r,o))}function Dne(n,e,t){let i=Xe(),r=Xe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=vr();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Te.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ie(uP,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:r}})}function Tne(n,e){let t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Pu),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Sne(n,e){let t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hi.getTargetData(i,e).next(o=>o?(r=o,W.resolve(r)):t.hi.allocateTargetId(i).next(s=>(r=new pf(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}function mM(n,e,t){return A(this,null,function*(){let i=je(n),r=i.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Kc(s))throw s;ie(uP,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)})}function GU(n,e,t){let i=je(n),r=Te.min(),o=Xe();return i.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,u){let h=je(c),p=h.Ms.get(u);return p!==void 0?W.resolve(h.Fs.get(p)):h.hi.getTargetData(l,u)})(i,s,qr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,e,t?r:Te.min(),t?o:Xe())).next(a=>(Ane(i,Hte(e),a),{documents:a,qs:o})))}function Ane(n,e,t){let i=n.xs.get(e)||Te.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(e,i)}var kE=class{constructor(){this.activeTargetIds=Qte()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var OE=class{constructor(){this.Fo=new kE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new kE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _M=class{xo(e){}shutdown(){}};var KU="ConnectivityMonitor",NE=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ie(KU,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){ie(KU,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ub=null;function vM(){return Ub===null?Ub=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ub++,"0x"+Ub.toString(16)}var Z1="RestConnection",Mne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},yM=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===sE?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,o){let s=vM(),a=this.Go(e,t.toUriEncodedString());ie(Z1,`Sending RPC '${e}' ${s}:`,a,i);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,r,o);let{host:l}=new URL(a),u=yc(l);return this.jo(e,a,c,i,u).then(h=>(ie(Z1,`Received RPC '${e}' ${s}: `,h),h),h=>{throw ws(Z1,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",i),h})}Jo(e,t,i,r,o,s){return this.Wo(e,t,i,r,o)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Go(e,t){let i=Mne[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}};var bM=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var gi="WebChannelConnection",EM=class extends yM{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,o){let s=vM();return new Promise((a,c)=>{let l=new H1;l.setWithCredentials(!0),l.listenOnce(q1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case em.NO_ERROR:let h=l.getResponseJson();ie(gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case em.TIMEOUT:ie(gi,`RPC '${e}' ${s} timed out`),c(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:let p=l.getStatus();if(ie(gi,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let E=(function(M){let O=M.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(O)>=0?O:X.UNKNOWN})(y.status);c(new oe(E,y.message))}else c(new oe(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new oe(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{ie(gi,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);ie(gi,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",u,i,15)})}P_(e,t,i){let r=vM(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=K1(),a=G1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;let u=o.join("");ie(gi,`Creating RPC '${e}' stream ${r}: ${u}`,c);let h=s.createWebChannel(u,c);this.T_(h);let p=!1,g=!1,y=new bM({Ho:b=>{g?ie(gi,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(p||(ie(gi,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),ie(gi,`RPC '${e}' stream ${r} sending:`,b),h.send(b))},Yo:()=>h.close()}),E=(b,M,O)=>{b.listen(M,B=>{try{O(B)}catch(q){setTimeout(()=>{throw q},0)}})};return E(h,Lh.EventType.OPEN,()=>{g||(ie(gi,`RPC '${e}' stream ${r} transport opened.`),y.s_())}),E(h,Lh.EventType.CLOSE,()=>{g||(g=!0,ie(gi,`RPC '${e}' stream ${r} transport closed`),y.__(),this.I_(h))}),E(h,Lh.EventType.ERROR,b=>{g||(g=!0,ws(gi,`RPC '${e}' stream ${r} transport errored. Name:`,b.name,"Message:",b.message),y.__(new oe(X.UNAVAILABLE,"The operation could not be completed")))}),E(h,Lh.EventType.MESSAGE,b=>{var M;if(!g){let O=b.data[0];Ce(!!O,16349);let B=O,q=B?.error||((M=B[0])===null||M===void 0?void 0:M.error);if(q){ie(gi,`RPC '${e}' stream ${r} received error:`,q);let H=q.status,G=(function(P){let N=Mn[P];if(N!==void 0)return e5(N)})(H),R=q.message;G===void 0&&(G=X.INTERNAL,R="Unknown error status: "+H+" with message "+q.message),g=!0,y.__(new oe(G,R)),h.close()}else ie(gi,`RPC '${e}' stream ${r} received:`,O),y.a_(O)}}),E(a,W1.STAT_EVENT,b=>{b.stat===Fb.PROXY?ie(gi,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Fb.NOPROXY&&ie(gi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Pne(){return typeof window<"u"?window:null}function Yb(){return typeof document<"u"?document:null}function ow(n){return new NA(n,!0)}var FE=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&ie("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var YU="PersistentStream",LE=class{constructor(e,t,i,r,o,s,a,c){this.Fi=e,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new FE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return A(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return A(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return A(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===t&&this.W_(i,r)},i=>{e(()=>{let r=new oe(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,t){let i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(()=>A(this,null,function*(){this.state=0,this.start()}))}G_(e){return ie(YU,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ie(YU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},wM=class extends LE{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=une(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?Pi(s.readTime):Te.min()})(e);return this.listener.J_(t,i)}H_(e){let t={};t.database=VA(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=lE(c)?{documents:s5(o,c)}:{query:a5(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=t5(o,s.resumeToken);let l=FA(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());let l=FA(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let i=hne(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){let t={};t.database=VA(this.serializer),t.removeTarget=e,this.k_(t)}},CM=class extends LE{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=dne(e.writeResults,e.commitTime),i=Pi(e.commitTime);return this.listener.ta(i,t)}na(){let e={};e.database=VA(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>yE(this.serializer,i))};this.k_(t)}};var IM=class{},xM=class extends IM{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,LA(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(X.UNKNOWN,o.toString())})}Jo(e,t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,LA(t,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(X.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},DM=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ai(t),this._a=!1):ie("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var $u="RemoteStore",TM=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{i.enqueueAndForget(()=>A(this,null,function*(){Hu(this)&&(ie($u,"Restarting streams for network reachability change."),yield(function(c){return A(this,null,function*(){let l=je(c);l.Ia.add(4),yield zm(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield sw(l)})})(this))}))}),this.Aa=new DM(i,r)}};function sw(n){return A(this,null,function*(){if(Hu(n))for(let e of n.da)yield e(!0)})}function zm(n){return A(this,null,function*(){for(let e of n.da)yield e(!1)})}function x5(n,e){let t=je(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),pP(t)?fP(t):Ef(t).x_()&&hP(t,e))}function dP(n,e){let t=je(n),i=Ef(t);t.Ta.delete(e),i.x_()&&D5(t,e),t.Ta.size===0&&(i.x_()?i.B_():Hu(t)&&t.Aa.set("Unknown"))}function hP(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ef(n).H_(e)}function D5(n,e){n.Ra.$e(e),Ef(n).Y_(e)}function fP(n){n.Ra=new OA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ef(n).start(),n.Aa.aa()}function pP(n){return Hu(n)&&!Ef(n).M_()&&n.Ta.size>0}function Hu(n){return je(n).Ia.size===0}function T5(n){n.Ra=void 0}function Rne(n){return A(this,null,function*(){n.Aa.set("Online")})}function kne(n){return A(this,null,function*(){n.Ta.forEach((e,t)=>{hP(n,e)})})}function One(n,e){return A(this,null,function*(){T5(n),pP(n)?(n.Aa.la(e),fP(n)):n.Aa.set("Unknown")})}function Nne(n,e,t){return A(this,null,function*(){if(n.Aa.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{yield(function(r,o){return A(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.Ta.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Ta.delete(a),r.Ra.removeTarget(a))})})(n,e)}catch(i){ie($u,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield VE(n,i)}else if(e instanceof Xh?n.Ra.Ye(e):e instanceof gE?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Te.min()))try{let i=yield I5(n.localStore);t.compareTo(i)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.Ta.get(l);u&&o.Ta.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.Ta.get(c);if(!u)return;o.Ta.set(c,u.withResumeToken(zn.EMPTY_BYTE_STRING,u.snapshotVersion)),D5(o,c);let h=new pf(u.target,c,l,u.sequenceNumber);hP(o,h)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(i){ie($u,"Failed to raise snapshot:",i),yield VE(n,i)}})}function VE(n,e,t){return A(this,null,function*(){if(!Kc(e))throw e;n.Ia.add(1),yield zm(n),n.Aa.set("Offline"),t||(t=()=>I5(n.localStore)),n.asyncQueue.enqueueRetryable(()=>A(null,null,function*(){ie($u,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield sw(n)}))})}function S5(n,e){return e().catch(t=>VE(n,t,e))}function Hm(n){return A(this,null,function*(){let e=je(n),t=Wc(e),i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Pu;for(;Fne(e);)try{let r=yield Tne(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,Lne(e,r)}catch(r){yield VE(e,r)}A5(e)&&M5(e)})}function Fne(n){return Hu(n)&&n.Pa.length<10}function Lne(n,e){n.Pa.push(e);let t=Wc(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function A5(n){return Hu(n)&&!Wc(n).M_()&&n.Pa.length>0}function M5(n){Wc(n).start()}function Vne(n){return A(this,null,function*(){Wc(n).na()})}function jne(n){return A(this,null,function*(){let e=Wc(n);for(let t of n.Pa)e.X_(t.mutations)})}function Bne(n,e,t){return A(this,null,function*(){let i=n.Pa.shift(),r=PA.from(i,e,t);yield S5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Hm(n)})}function Une(n,e){return A(this,null,function*(){e&&Wc(n).Z_&&(yield(function(i,r){return A(this,null,function*(){if((function(s){return ine(s)&&s!==X.ABORTED})(r.code)){let o=i.Pa.shift();Wc(i).N_(),yield S5(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Hm(i)}})})(n,e)),A5(n)&&M5(n)})}function QU(n,e){return A(this,null,function*(){let t=je(n);t.asyncQueue.verifyOperationInProgress(),ie($u,"RemoteStore received new credentials");let i=Hu(t);t.Ia.add(3),yield zm(t),i&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield sw(t)})}function $ne(n,e){return A(this,null,function*(){let t=je(n);e?(t.Ia.delete(2),yield sw(t)):e||(t.Ia.add(2),yield zm(t),t.Aa.set("Unknown"))})}function Ef(n){return n.Va||(n.Va=(function(t,i,r){let o=je(t);return o.ia(),new wM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:Rne.bind(null,n),e_:kne.bind(null,n),n_:One.bind(null,n),J_:Nne.bind(null,n)}),n.da.push(e=>A(null,null,function*(){e?(n.Va.N_(),pP(n)?fP(n):n.Aa.set("Unknown")):(yield n.Va.stop(),T5(n))}))),n.Va}function Wc(n){return n.ma||(n.ma=(function(t,i,r){let o=je(t);return o.ia(),new CM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Vne.bind(null,n),n_:Une.bind(null,n),ea:jne.bind(null,n),ta:Bne.bind(null,n)}),n.da.push(e=>A(null,null,function*(){e?(n.ma.N_(),yield Hm(n)):(yield n.ma.stop(),n.Pa.length>0&&(ie($u,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var SM=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,a=new n(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gP(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),Kc(n))return new oe(X.UNAVAILABLE,`${e}: ${n}`);throw n}var jE=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||de.comparator(t.key,i.key):(t,i)=>de.comparator(t.key,i.key),this.keyedMap=om(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var BE=class{constructor(){this.fa=new ln(de.comparator)}track(e){let t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ye(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}},mf=class n{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,jE.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var AM=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},MM=class{constructor(){this.queries=XU(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){let r=je(t),o=r.queries;r.queries=XU(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(i)})})(this,new oe(X.ABORTED,"Firestore shutting down"))}};function XU(){return new Ao(n=>$3(n),rw)}function mP(n,e){return A(this,null,function*(){let t=je(n),i=3,r=e.query,o=t.queries.get(r);o?!o.Sa()&&e.ba()&&(i=2):(o=new AM,i=e.ba()?0:1);try{switch(i){case 0:o.ya=yield t.onListen(r,!0);break;case 1:o.ya=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let a=gP(s,`Initialization of query '${qh(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&vP(t)})}function _P(n,e){return A(this,null,function*(){let t=je(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?r=e.ba()?0:1:!o.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function zne(n,e){let t=je(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(r)&&(i=!0);s.ya=r}}i&&vP(t)}function Hne(n,e,t){let i=je(n),r=i.queries.get(e);if(r)for(let o of r.wa)o.onError(t);i.queries.delete(e)}function vP(n){n.Da.forEach(e=>{e.next()})}var PM,JU;(JU=PM||(PM={})).Fa="default",JU.Cache="cache";var km=class{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new mf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==PM.Cache}};var UE=class{constructor(e){this.key=e}},$E=class{constructor(e){this.key=e}},RM=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xe(),this.mutatedKeys=Xe(),this.Xa=z3(e),this.eu=new jE(this.Xa)}get tu(){return this.Ha}nu(e,t){let i=t?t.ru:new BE,r=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let p=r.get(u),g=$m(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),b=!1;p&&g?p.data.isEqual(g.data)?y!==E&&(i.track({type:3,doc:g}),b=!0):this.iu(p,g)||(i.track({type:2,doc:g}),b=!0,(c&&this.Xa(g,c)>0||l&&this.Xa(g,l)<0)&&(a=!0)):!p&&g?(i.track({type:0,doc:g}),b=!0):p&&!g&&(i.track({type:1,doc:p}),b=!0,(c||l)&&(a=!0)),b&&(g?(s=s.add(g),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{eu:s,ru:i,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((u,h)=>(function(g,y){let E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{At:b})}};return E(g)-E(y)})(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(i),r=r!=null&&r;let a=t&&!r?this.ou():[],c=this.Za.size===0&&this.current&&!r?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new mf(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new BE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Xe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});let t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new $E(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new UE(i))}),t}uu(e){this.Ha=e.qs,this.Za=Xe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return mf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},yP="SyncEngine",kM=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},OM=class{constructor(e){this.key=e,this.lu=!1}},NM=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ao(a=>$3(a),rw),this.Tu=new Map,this.Iu=new Set,this.du=new ln(de.comparator),this.Eu=new Map,this.Au=new Pm,this.Ru={},this.Vu=new Map,this.mu=gf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function qne(n,e,t=!0){return A(this,null,function*(){let i=F5(n),r,o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=yield P5(i,e,t,!0),r})}function Wne(n,e){return A(this,null,function*(){let t=F5(n);yield P5(t,e,!0,!1)})}function P5(n,e,t,i){return A(this,null,function*(){let r=yield Sne(n.localStore,qr(e)),o=r.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return i&&(a=yield Gne(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&x5(n.remoteStore,r),a})}function Gne(n,e,t,i,r){return A(this,null,function*(){n.gu=(h,p,g)=>(function(E,b,M,O){return A(this,null,function*(){let B=b.view.nu(M);B.Ds&&(B=yield GU(E.localStore,b.query,!1).then(({documents:R})=>b.view.nu(R,B)));let q=O&&O.targetChanges.get(b.targetId),H=O&&O.targetMismatches.get(b.targetId)!=null,G=b.view.applyChanges(B,E.isPrimaryClient,q,H);return e3(E,b.targetId,G._u),G.snapshot})})(n,h,p,g);let o=yield GU(n.localStore,e,!0),s=new RM(e,o.qs),a=s.nu(o.documents),c=Am.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),l=s.applyChanges(a,n.isPrimaryClient,c);e3(n,t,l._u);let u=new kM(e,t,s);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Kne(n,e,t){return A(this,null,function*(){let i=je(n),r=i.Pu.get(e),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(s=>!rw(s,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mM(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&dP(i.remoteStore,r.targetId),FM(i,r.targetId)}).catch(zu))):(FM(i,r.targetId),yield mM(i.localStore,r.targetId,!0))})}function Yne(n,e){return A(this,null,function*(){let t=je(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dP(t.remoteStore,i.targetId))})}function Qne(n,e,t){return A(this,null,function*(){let i=L5(n);try{let r=yield(function(s,a){let c=je(s),l=Ot.now(),u=a.reduce((g,y)=>g.add(y.key),Xe()),h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=vr(),E=Xe();return c.Os.getEntries(g,u).next(b=>{y=b,y.forEach((M,O)=>{O.isValidDocument()||(E=E.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(b=>{h=b;let M=[];for(let O of a){let B=nne(O,h.get(O.key).overlayedDocument);B!=null&&M.push(new Mo(O.key,B,N3(B.value.mapValue),yr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,M,a)}).next(b=>{p=b;let M=b.applyToLocalDocumentSet(h,E);return c.documentOverlayCache.saveOverlays(g,b.batchId,M)})}).then(()=>({batchId:p.batchId,changes:q3(h)}))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new ln(Re)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(i,r.batchId,t),yield qm(i,r.changes),yield Hm(i.remoteStore)}catch(r){let o=gP(r,"Failed to persist write");t.reject(o)}})}function R5(n,e){return A(this,null,function*(){let t=je(n);try{let i=yield xne(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Eu.get(o);s&&(Ce(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.lu=!0:r.modifiedDocuments.size>0?Ce(s.lu,14607):r.removedDocuments.size>0&&(Ce(s.lu,42227),s.lu=!1))}),yield qm(t,i,e)}catch(i){yield zu(i)}})}function ZU(n,e,t){let i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&r.push(a.snapshot)}),(function(s,a){let c=je(s);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let p of h.wa)p.va(a)&&(l=!0)}),l&&vP(c)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Xne(n,e,t){return A(this,null,function*(){let i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Eu.get(e),o=r&&r.key;if(o){let s=new ln(de.comparator);s=s.insert(o,ii.newNoDocument(o,Te.min()));let a=Xe().add(o),c=new pE(Te.min(),new Map,new ln(Re),s,a);yield R5(i,c),i.du=i.du.remove(o),i.Eu.delete(e),bP(i)}else yield mM(i.localStore,e,!1).then(()=>FM(i,e,t)).catch(zu)})}function Jne(n,e){return A(this,null,function*(){let t=je(n),i=e.batch.batchId;try{let r=yield Ine(t.localStore,e);O5(t,i,null),k5(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield qm(t,r)}catch(r){yield zu(r)}})}function Zne(n,e,t){return A(this,null,function*(){let i=je(n);try{let r=yield(function(s,a){let c=je(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ce(h!==null,37113),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})})(i.localStore,e);O5(i,e,t),k5(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield qm(i,r)}catch(r){yield zu(r)}})}function k5(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function O5(n,e,t){let i=je(n),r=i.Ru[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function FM(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||N5(n,i)})}function N5(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(dP(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),bP(n))}function e3(n,e,t){for(let i of t)i instanceof UE?(n.Au.addReference(i.key,e),eie(n,i)):i instanceof $E?(ie(yP,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||N5(n,i.key)):ye(19791,{yu:i})}function eie(n,e){let t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(ie(yP,"New document in limbo: "+t),n.Iu.add(i),bP(n))}function bP(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new de(St.fromString(e)),i=n.mu.next();n.Eu.set(i,new OM(t)),n.du=n.du.insert(t,i),x5(n.remoteStore,new pf(qr(Um(t.path)),i,"TargetPurposeLimboResolution",So.ue))}}function qm(n,e,t){return A(this,null,function*(){let i=je(n),r=[],o=[],s=[];i.Pu.isEmpty()||(i.Pu.forEach((a,c)=>{s.push(i.gu(c,e,t).then(l=>{var u;if((l||t)&&i.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){r.push(l);let h=fM.Es(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),i.hu.J_(r),yield(function(c,l){return A(this,null,function*(){let u=je(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(l,p=>W.forEach(p.Is,g=>u.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>W.forEach(p.ds,g=>u.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Kc(h))throw h;ie(uP,"Failed to update sequence numbers: "+h)}for(let h of l){let p=h.targetId;if(!h.fromCache){let g=u.Fs.get(p),y=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(y);u.Fs=u.Fs.insert(p,E)}}})})(i.localStore,o))})}function tie(n,e){return A(this,null,function*(){let t=je(n);if(!t.currentUser.isEqual(e)){ie(yP,"User change. New user:",e.toKey());let i=yield C5(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new oe(X.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield qm(t,i.Bs)}})}function nie(n,e){let t=je(n),i=t.Eu.get(e);if(i&&i.lu)return Xe().add(i.key);{let r=Xe(),o=t.Tu.get(e);if(!o)return r;for(let s of o){let a=t.Pu.get(s);r=r.unionWith(a.view.tu)}return r}}function F5(n){let e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=R5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xne.bind(null,e),e.hu.J_=zne.bind(null,e.eventManager),e.hu.pu=Hne.bind(null,e.eventManager),e}function L5(n){let e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zne.bind(null,e),e}var EP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return A(this,null,function*(){this.serializer=ow(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,i){return null}Fu(t,i){return null}vu(t){return w5(this.persistence,new RE,t.initialUser,this.serializer)}Du(t){return new Rm(ME.Vi,this.serializer)}bu(t){return new OE}terminate(){return A(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),LM=class extends EP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ce(this.persistence.referenceDelegate instanceof PE,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new TE(i,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new Rm(i=>PE.Vi(i,t),this.serializer)}},VM=class n extends EP{constructor(e,t,i){super(),this.Mu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return A(this,null,function*(){yield Ks(n.prototype,this,"initialize").call(this,e),yield this.Mu.initialize(this,e),yield L5(this.Mu.syncEngine),yield Hm(this.Mu.remoteStore),yield this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}vu(e){return w5(this.persistence,new RE,e.initialUser,this.serializer)}Cu(e,t){let i=this.persistence.referenceDelegate.garbageCollector;return new TE(i,e.asyncQueue,t)}Fu(e,t){let i=new hA(t,this.persistence);return new dA(e.asyncQueue,i)}Du(e){let t=wne(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new hM(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Pne(),Yb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new OE}};var V5=(()=>{class n{initialize(t,i){return A(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tie.bind(null,this.syncEngine),yield $ne(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new MM})()}createDatastore(t){let i=ow(t.databaseInfo.databaseId),r=(function(s){return new EM(s)})(t.databaseInfo);return(function(s,a,c,l){return new xM(s,a,c,l)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,s,a,c){return new TM(r,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,i=>ZU(this.syncEngine,i,0),(function(){return NE.C()?new NE:new _M})())}createSyncEngine(t,i){return(function(o,s,a,c,l,u,h){let p=new NM(o,s,a,c,l,u);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return A(this,null,function*(){var t,i;yield(function(o){return A(this,null,function*(){let s=je(o);ie($u,"RemoteStore shutting down."),s.Ia.add(5),yield zm(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Om=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Gc="FirestoreClient",jM=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Bn.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>A(this,null,function*(){ie(Gc,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(ie(Gc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>A(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=gP(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function eA(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ie(Gc,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>A(null,null,function*(){i.isEqual(r)||(yield C5(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>{ws("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{ie("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{ws("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=e})}function t3(n,e){return A(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield iie(n);ie(Gc,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>QU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>QU(e.remoteStore,r)),n._onlineComponents=e})}function iie(n){return A(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ie(Gc,"Using user provided OfflineComponentProvider");try{yield eA(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===X.FAILED_PRECONDITION||r.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;ws("Error using user provided cache. Falling back to memory cache: "+t),yield eA(n,new EP)}}else ie(Gc,"Using default OfflineComponentProvider"),yield eA(n,new LM(void 0));return n._offlineComponents})}function j5(n){return A(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ie(Gc,"Using user provided OnlineComponentProvider"),yield t3(n,n._uninitializedComponentsProvider._online)):(ie(Gc,"Using default OnlineComponentProvider"),yield t3(n,new V5))),n._onlineComponents})}function rie(n){return j5(n).then(e=>e.syncEngine)}function zE(n){return A(this,null,function*(){let e=yield j5(n),t=e.eventManager;return t.onListen=qne.bind(null,e.syncEngine),t.onUnlisten=Kne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yne.bind(null,e.syncEngine),t})}function oie(n,e,t={}){let i=new Hr;return n.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return(function(o,s,a,c,l){let u=new Om({next:p=>{u.Ou(),s.enqueueAndForget(()=>_P(o,h));let g=p.docs.has(a);!g&&p.fromCache?l.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?l.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new km(Um(a.path),u,{includeMetadataChanges:!0,ka:!0});return mP(o,h)})(yield zE(n),n.asyncQueue,e,t,i)})),i.promise}function sie(n,e,t={}){let i=new Hr;return n.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return(function(o,s,a,c,l){let u=new Om({next:p=>{u.Ou(),s.enqueueAndForget(()=>_P(o,h)),p.fromCache&&c.source==="server"?l.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(p)},error:p=>l.reject(p)}),h=new km(a,u,{includeMetadataChanges:!0,ka:!0});return mP(o,h)})(yield zE(n),n.asyncQueue,e,t,i)})),i.promise}function B5(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var n3=new Map;var U5="firestore.googleapis.com",i3=!0,HE=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U5,this.ssl=i3}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bne)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B5((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_f=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new tA;switch(i.type){case"firstParty":return new oA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return A(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let i=n3.get(t);i&&(ie("ComponentProvider","Removing Datastore"),n3.delete(t),i.terminate())})(this),Promise.resolve()}};function $5(n,e,t,i={}){var r;n=Xi(n,_f);let o=yc(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(ab(`https://${c}`),cb("Firestore",!0)),s.host!==U5&&s.host!==c&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:i});if(!fs(l,a)&&(n._setSettings(l),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=Bn.MOCK_USER;else{u=sj(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bn(p)}n._authCredentials=new nA(new Qb(u,h))}}var Ia=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},$n=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Vm(t,n._jsonSchema))return new n(e,i||null,new de(St.fromString(t.referencePath)))}};$n._jsonSchemaVersion="firestore/documentReference/1.0",$n._jsonSchema={type:Rn("string",$n._jsonSchemaVersion),referencePath:Rn("string")};var Oc=class n extends Ia{constructor(e,t,i){super(e,t,Um(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new de(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function z5(n,e,...t){if(n=cn(n),h3("collection","path",e),n instanceof _f){let i=St.fromString(e,...t);return ZB(i),new Oc(n,null,i)}{if(!(n instanceof $n||n instanceof Oc))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(St.fromString(e,...t));return ZB(i),new Oc(n.firestore,null,i)}}function wP(n,e,...t){if(n=cn(n),arguments.length===1&&(e=pm.newId()),h3("doc","path",e),n instanceof _f){let i=St.fromString(e,...t);return JB(i),new $n(n,null,new de(i))}{if(!(n instanceof $n||n instanceof Oc))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(St.fromString(e,...t));return JB(i),new $n(n.firestore,n instanceof Oc?n.converter:null,new de(i))}}var r3="AsyncQueue",qE=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new FE(this,"async_queue_retry"),this.oc=()=>{let i=Yb();i&&ie(r3,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let t=Yb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Yb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Hr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return A(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Kc(e))throw e;ie(r3,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Ai("INTERNAL UNHANDLED ERROR: ",o3(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let r=SM.createAndSchedule(this,e,t,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&ye(47125,{hc:o3(this.tc)})}verifyOperationInProgress(){}Pc(){return A(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function o3(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function s3(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Po=class extends _f{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new qE,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return A(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,yield e}})}};function H5(n,e){let t=typeof n=="object"?n:pu(),i=typeof n=="string"?n:e||sE,r=Ph(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=oj("firestore");o&&$5(r,...o)}return r}function aw(n){if(n._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||q5(n),n._firestoreClient}function q5(n){var e,t,i;let r=n._freezeSettings(),o=(function(a,c,l,u){return new mA(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,B5(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new jM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}function W5(n,e){ws("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return aie(n,V5.provider,{build:i=>new VM(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function aie(n,e,t){if((n=Xi(n,Po))._firestoreClient||n._terminated)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(X.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},q5(n)}var Nc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(zn.fromBase64String(e))}catch(t){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vm(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Nc._jsonSchemaVersion="firestore/bytes/1.0",Nc._jsonSchema={type:Rn("string",Nc._jsonSchemaVersion),bytes:Rn("string")};var vf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yf=class{constructor(e){this._methodName=e}};var Fc=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Vm(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Fc._jsonSchemaVersion="firestore/geoPoint/1.0",Fc._jsonSchema={type:Rn("string",Fc._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};var Lc=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vm(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Lc._jsonSchemaVersion="firestore/vectorValue/1.0",Lc._jsonSchema={type:Rn("string",Lc._jsonSchemaVersion),vectorValues:Rn("object")};var cie=/^__.*__$/,BM=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}},WE=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function G5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ec:n})}}var UM=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return KE(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(G5(this.Ec)&&cie.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},$M=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ow(e)}Dc(e,t,i,r=!1){return new UM({Ec:e,methodName:t,bc:i,path:Un.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cw(n){let e=n._freezeSettings(),t=ow(n._databaseId);return new $M(n._databaseId,!!e.ignoreUndefinedProperties,t)}function K5(n,e,t,i,r,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,r);CP("Data must be an object, but it was:",s,i);let a=Y5(i,s),c,l;if(o.merge)c=new _r(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let h of o.mergeFields){let p=HM(e,h,t);if(!s.contains(p))throw new oe(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);X5(u,p)||u.push(p)}c=new _r(u),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new BM(new Mi(a),c,l)}var GE=class n extends yf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var zM=class n extends yf{_toFieldTransform(e){return new hE(e.path,new $c)}isEqual(e){return e instanceof n}};function lie(n,e,t,i){let r=n.Dc(1,e,t);CP("Data must be an object, but it was:",r,i);let o=[],s=Mi.empty();Yc(i,(c,l)=>{let u=IP(e,c,t);l=cn(l);let h=r.gc(u);if(l instanceof GE)o.push(u);else{let p=Wm(l,h);p!=null&&(o.push(u),s.set(u,p))}});let a=new _r(o);return new WE(s,a,r.fieldTransforms)}function uie(n,e,t,i,r,o){let s=n.Dc(1,e,t),a=[HM(e,i,t)],c=[r];if(o.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(HM(e,o[p])),c.push(o[p+1]);let l=[],u=Mi.empty();for(let p=a.length-1;p>=0;--p)if(!X5(l,a[p])){let g=a[p],y=c[p];y=cn(y);let E=s.gc(g);if(y instanceof GE)l.push(g);else{let b=Wm(y,E);b!=null&&(l.push(g),u.set(g,b))}}let h=new _r(l);return new WE(u,h,s.fieldTransforms)}function die(n,e,t,i=!1){return Wm(t,n.Dc(i?4:3,e))}function Wm(n,e){if(Q5(n=cn(n)))return CP("Unsupported field value:",e,n),Y5(n,e);if(n instanceof yf)return(function(i,r){if(!G5(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){let o=[],s=0;for(let a of i){let c=Wm(a,r.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(i,r){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Xte(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ot.fromDate(i);return{timestampValue:ff(r.serializer,o)}}if(i instanceof Ot){let o=new Ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ff(r.serializer,o)}}if(i instanceof Fc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nc)return{bytesValue:t5(r.serializer,i._byteString)};if(i instanceof $n){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cP(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Lc)return(function(s,a){return{mapValue:{fields:{[rP]:{stringValue:oP},[cf]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return aP(a.serializer,l)})}}}}}})(i,r);throw r.wc(`Unsupported field value: ${XE(i)}`)})(n,e)}function Y5(n,e){let t={};return T3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(n,(i,r)=>{let o=Wm(r,e.Vc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function Q5(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Fc||n instanceof Nc||n instanceof $n||n instanceof yf||n instanceof Lc)}function CP(n,e,t){if(!Q5(t)||!f3(t)){let i=XE(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function HM(n,e,t){if((e=cn(e))instanceof vf)return e._internalPath;if(typeof e=="string")return IP(n,e);throw KE("Field path arguments must be of type string or ",n,!1,void 0,t)}var hie=new RegExp("[~\\*/\\[\\]]");function IP(n,e,t){if(e.search(hie)>=0)throw KE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vf(...e.split("."))._internalPath}catch{throw KE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function KE(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new oe(X.INVALID_ARGUMENT,a+n+c)}function X5(n,e){return n.some(t=>t.isEqual(e))}var YE=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(lw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},qM=class extends YE{data(){return super.data()}};function lw(n,e){return typeof e=="string"?IP(n,e):e instanceof vf?e._internalPath:e._delegate._internalPath}function J5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nm=class{},Fm=class extends Nm{};function Z5(n,e,...t){let i=[];e instanceof Nm&&i.push(e),i=i.concat(t),(function(o){let s=o.filter(c=>c instanceof WM).length,a=o.filter(c=>c instanceof QE).length;if(s>1||s>0&&a>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(let r of i)n=r._apply(n);return n}var QE=class n extends Fm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return i4(e._query,t),new Ia(e.firestore,e.converter,AA(e._query,t))}_parse(e){let t=cw(e.firestore);return(function(o,s,a,c,l,u,h){let p;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){c3(h,u);let y=[];for(let E of h)y.push(a3(c,o,E));p={arrayValue:{values:y}}}else p=a3(c,o,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||c3(h,u),p=die(a,s,h,u==="in"||u==="not-in");return ot.create(l,u,p)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function e4(n,e,t){let i=e,r=lw("where",n);return QE._create(r,i,t)}var WM=class n extends Nm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:At.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)i4(s,c),s=AA(s,c)})(e._query,t),new Ia(e.firestore,e.converter,AA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var GM=class n extends Fm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(r,o,s){if(r.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(o,s)})(e._query,this._field,this._direction);return new Ia(e.firestore,e.converter,(function(r,o){let s=r.explicitOrderBy.concat([o]);return new Uc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}};function t4(n,e="asc"){let t=e,i=lw("orderBy",n);return GM._create(i,t)}var KM=class n extends Fm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new Ia(e.firestore,e.converter,dE(e._query,this._limit,this._limitType))}};function n4(n){return lte("limit",n),KM._create("limit",n,"F")}function a3(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U3(e)&&t.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(St.fromString(t));if(!de.isDocumentKey(i))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Im(n,new de(i))}if(t instanceof $n)return Im(n,t._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XE(t)}.`)}function c3(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i4(n,e){let t=(function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var YM=class{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Yc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[cf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>nn(s.doubleValue));return new Lc(o)}convertGeoPoint(e){return new Fc(nn(e.latitude),nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=nw(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wm(e));default:return null}}convertTimestamp(e){let t=wa(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=St.fromString(e);Ce(d5(i),9688,{name:e});let r=new af(i.get(1),i.get(3)),o=new de(i.popFirst(5));return r.isEqual(t)||Ai(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function r4(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Au=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ou=class n extends YE{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(lw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ou._jsonSchema={type:Rn("string",Ou._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};var Jh=class extends Ou{data(e={}){return super.data(e)}},Nu=class n{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Au(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Jh(this._firestore,this._userDataWriter,i.key,i,new Au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Jh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Au(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Jh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Au(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:fie(a.type),doc:c,oldIndex:l,newIndex:u}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function fie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}function o4(n){n=Xi(n,$n);let e=Xi(n.firestore,Po);return oie(aw(e),n._key).then(t=>d4(e,n,t))}Nu._jsonSchemaVersion="firestore/querySnapshot/1.0",Nu._jsonSchema={type:Rn("string",Nu._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};var Lm=class extends YM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}};function s4(n){n=Xi(n,Ia);let e=Xi(n.firestore,Po),t=aw(e),i=new Lm(e);return J5(n._query),sie(t,n._query).then(r=>new Nu(e,i,n,r))}function a4(n,e,t){n=Xi(n,$n);let i=Xi(n.firestore,Po),r=r4(n.converter,e,t);return xP(i,[K5(cw(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,yr.none())])}function c4(n,e,t,...i){n=Xi(n,$n);let r=Xi(n.firestore,Po),o=cw(r),s;return s=typeof(e=cn(e))=="string"||e instanceof vf?uie(o,"updateDoc",n._key,e,t,i):lie(o,"updateDoc",n._key,e),xP(r,[s.toMutation(n._key,yr.exists(!0))])}function l4(n,e){let t=Xi(n.firestore,Po),i=wP(n),r=r4(n.converter,e);return xP(t,[K5(cw(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}function u4(n,...e){var t,i,r;n=cn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||s3(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(s3(e[s])){let h=e[s];e[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[s+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[s+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,u;if(n instanceof $n)l=Xi(n.firestore,Po),u=Um(n._key.path),c={next:h=>{e[s]&&e[s](d4(l,n,h))},error:e[s+1],complete:e[s+2]};else{let h=Xi(n,Ia);l=Xi(h.firestore,Po),u=h._query;let p=new Lm(l);c={next:g=>{e[s]&&e[s](new Nu(l,p,h,g))},error:e[s+1],complete:e[s+2]},J5(n._query)}return(function(p,g,y,E){let b=new Om(E),M=new km(g,b,y);return p.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return mP(yield zE(p),M)})),()=>{b.Ou(),p.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return _P(yield zE(p),M)}))}})(aw(l),u,a,c)}function xP(n,e){return(function(i,r){let o=new Hr;return i.asyncQueue.enqueueAndForget(()=>A(null,null,function*(){return Qne(yield rie(i),r,o)})),o.promise})(aw(n),e)}function d4(n,e,t){let i=t.docs.get(e._key),r=new Lm(n);return new Ou(n,r,e._key,i,new Au(t.hasPendingWrites,t.fromCache),e.converter)}function Gr(){return new zM("serverTimestamp")}(function(e,t=!0){(function(r){bf=r})(Ec),Io(new Si("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Po(new iA(i.getProvider("auth-internal")),new sA(s,i.getProvider("app-check-internal")),(function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(l.options.projectId,u)})(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gn(KB,YB,e),gn(KB,YB,"esm2017")})();var Ro=class{constructor(e){return e}},h4="firestore",DP=class{constructor(){return kh(h4)}};var TP=new le("angularfire2.firestore-instances");function pie(n,e){let t=$g(h4,n,e);return t&&new Ro(t)}function gie(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ro(i)}}var mie={provide:DP,deps:[[new Bi,TP]]},_ie={provide:Ro,useFactory:pie,deps:[[new Bi,TP],pa]};function f4(n,...e){return gn("angularfire",wc.full,"fst"),Vi([_ie,mie,{provide:TP,useFactory:gie(n),multi:!0,deps:[ft,Wt,Cc,mu,[new Bi,Zg],[new Bi,Oh],...e]}])}var p4=zt(l4,!0,2);var g4=zt(z5,!0,2);var Qc=zt(wP,!0,2);var m4=zt(W5,!0);var uw=zt(o4,!0);var _4=zt(s4,!0);var v4=zt(H5,!0);var y4=zt(n4,!0,2);var dw=zt(u4,!0);var SP=zt(t4,!0,2),AP=zt(Z5,!0,2);var hw=zt(a4,!0,2);var fw=zt(c4,!0,2);var pw=zt(e4,!0,2);var _i=class n{auth=z(ni);db=z(Ro);getUid(){return A(this,null,function*(){let e=this.auth.currentUser??(yield new Promise(t=>{let i=gr(this.auth,r=>{t(r),i()})}));if(!e)throw new Error("not-authenticated");return e.uid})}userDocRef(e){return Qc(this.db,`users/${e}`)}getProfile(){return A(this,null,function*(){let e=yield this.getUid(),t=yield uw(this.userDocRef(e));return t.exists()?t.data():null})}profile$(){return new Oe(e=>{let t=gr(this.auth,i=>{if(!i){e.next(null);return}let r=dw(this.userDocRef(i.uid),o=>{e.next(o.exists()?o.data():null)},o=>e.error(o));return()=>r()});return()=>t()})}upsertProfile(e){return A(this,null,function*(){let t=yield this.getUid(),i=this.userDocRef(t),r={email:this.auth.currentUser?.email??void 0,displayName:this.auth.currentUser?.displayName??void 0};yield hw(i,ge(Y(Y({},r),e),{updatedAt:Gr(),createdAt:Gr()}),{merge:!0})})}markOnboardingCompleted(){return A(this,null,function*(){yield this.upsertProfile({completedOnboarding:!0})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var Is=()=>A(null,null,function*(){let n=z(_i),e=z(pt);try{let t=yield n.getProfile();return!t||!t.completedOnboarding?(yield e.navigateByUrl("/onboarding"),!1):!0}catch{return yield e.navigateByUrl("/"),!1}});var b4=()=>A(null,null,function*(){let n=z(_i),e=z(pt);try{return(yield n.getProfile())?.completedOnboarding?(yield e.navigateByUrl("/home"),!1):!0}catch{return!0}});var M4=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(me(po),me(xi))};static \u0275dir=Yt({type:n})}return n})(),Iw=(()=>{class n extends M4{static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275dir=Yt({type:n,features:[Ui]})}return n})(),xf=new le("");var yie={provide:xf,useExisting:cr(()=>Jc),multi:!0};function bie(){let n=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Eie=new le(""),Jc=(()=>{class n extends M4{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!bie())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(me(po),me(xi),me(Eie,8))};static \u0275dir=Yt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&ce("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[os([yie]),Ui]})}return n})();function NP(n){return n==null||FP(n)===0}function FP(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var xw=new le(""),LP=new le(""),wie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ft=class{static min(e){return P4(e)}static max(e){return Cie(e)}static required(e){return Iie(e)}static requiredTrue(e){return xie(e)}static email(e){return Die(e)}static minLength(e){return Tie(e)}static maxLength(e){return Sie(e)}static pattern(e){return Aie(e)}static nullValidator(e){return mw()}static compose(e){return L4(e)}static composeAsync(e){return j4(e)}};function P4(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Cie(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Iie(n){return NP(n.value)?{required:!0}:null}function xie(n){return n.value===!0?null:{required:!0}}function Die(n){return NP(n.value)||wie.test(n.value)?null:{email:!0}}function Tie(n){return e=>{let t=e.value?.length??FP(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Sie(n){return e=>{let t=e.value?.length??FP(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Aie(n){if(!n)return mw;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(NP(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function mw(n){return null}function R4(n){return n!=null}function k4(n){return lc(n)?tn(n):n}function O4(n){let e={};return n.forEach(t=>{e=t!=null?Y(Y({},e),t):e}),Object.keys(e).length===0?null:e}function N4(n,e){return e.map(t=>t(n))}function Mie(n){return!n.validate}function F4(n){return n.map(e=>Mie(e)?e:t=>e.validate(t))}function L4(n){if(!n)return null;let e=n.filter(R4);return e.length==0?null:function(t){return O4(N4(t,e))}}function V4(n){return n!=null?L4(F4(n)):null}function j4(n){if(!n)return null;let e=n.filter(R4);return e.length==0?null:function(t){let i=N4(t,e).map(k4);return DI(i).pipe(Ge(O4))}}function B4(n){return n!=null?j4(F4(n)):null}function E4(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function U4(n){return n._rawValidators}function $4(n){return n._rawAsyncValidators}function MP(n){return n?Array.isArray(n)?n:[n]:[]}function _w(n,e){return Array.isArray(n)?n.includes(e):n===e}function w4(n,e){let t=MP(e);return MP(n).forEach(r=>{_w(t,r)||t.push(r)}),t}function C4(n,e){return MP(e).filter(t=>!_w(n,t))}var vw=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=V4(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qu=class extends vw{name;get formDirective(){return null}get path(){return null}},Wu=class extends vw{_parent=null;name=null;valueAccessor=null},yw=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Pie={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nMe=ge(Y({},Pie),{"[class.ng-submitted]":"isSubmitted"}),Df=(()=>{class n extends yw{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(me(Wu,2))};static \u0275dir=Yt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ui]})}return n})(),Dw=(()=>{class n extends yw{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(me(qu,10))};static \u0275dir=Yt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ye("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ui]})}return n})();var Gm="VALID",gw="INVALID",wf="PENDING",Km="DISABLED",Xc=class{},bw=class extends Xc{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ym=class extends Xc{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Qm=class extends Xc{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cf=class extends Xc{status;source;constructor(e,t){super(),this.status=e,this.source=t}},PP=class extends Xc{source;constructor(e){super(),this.source=e}},Jm=class extends Xc{source;constructor(e){super(),this.source=e}};function VP(n){return(Tw(n)?n.validators:n)||null}function Rie(n){return Array.isArray(n)?V4(n):n||null}function jP(n,e){return(Tw(e)?e.asyncValidators:n)||null}function kie(n){return Array.isArray(n)?B4(n):n||null}function Tw(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function z4(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new re(1e3,"");if(!i[t])throw new re(1001,"")}function H4(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new re(1002,"")})}var If=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vn(this.statusReactive)}set status(e){Vn(()=>this.statusReactive.set(e))}_status=an(()=>this.statusReactive());statusReactive=Pe(void 0);get valid(){return this.status===Gm}get invalid(){return this.status===gw}get pending(){return this.status==wf}get disabled(){return this.status===Km}get enabled(){return this.status!==Km}errors;get pristine(){return Vn(this.pristineReactive)}set pristine(e){Vn(()=>this.pristineReactive.set(e))}_pristine=an(()=>this.pristineReactive());pristineReactive=Pe(!0);get dirty(){return!this.pristine}get touched(){return Vn(this.touchedReactive)}set touched(e){Vn(()=>this.touchedReactive.set(e))}_touched=an(()=>this.touchedReactive());touchedReactive=Pe(!1);get untouched(){return!this.touched}_events=new yn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(w4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(w4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(C4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(C4(e,this._rawAsyncValidators))}hasValidator(e){return _w(this._rawValidators,e)}hasAsyncValidator(e){return _w(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(Y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Qm(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Qm(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(Y({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ym(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ym(!0,i))}markAsPending(e={}){this.status=wf;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(Y({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Km,this.errors=null,this._forEachChild(r=>{r.disable(ge(Y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bw(this.value,i)),this._events.next(new Cf(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(Y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gm,this._forEachChild(i=>{i.enable(ge(Y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(Y({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gm||this.status===wf)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bw(this.value,t)),this._events.next(new Cf(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(Y({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Km:Gm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=wf,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let i=k4(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Cf(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new sn,this.statusChanges=new sn}_calculateStatus(){return this._allControlsDisabled()?Km:this.errors?gw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wf)?wf:this._anyControlsHaveStatus(gw)?gw:Gm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Ym(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qm(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tw(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Rie(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kie(this._rawAsyncValidators)}},Ew=class extends If{constructor(e,t,i){super(VP(t),jP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){H4(this,!0,e),Object.keys(e).forEach(i=>{z4(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Jm(this))}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var RP=class extends Ew{};var Sw=new le("",{providedIn:"root",factory:()=>Aw}),Aw="always";function q4(n,e){return[...e.path,n]}function kP(n,e,t=Aw){BP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Nie(n,e),Lie(n,e),Fie(n,e),Oie(n,e)}function I4(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Cw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ww(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Oie(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function BP(n,e){let t=U4(n);e.validator!==null?n.setValidators(E4(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=$4(n);e.asyncValidator!==null?n.setAsyncValidators(E4(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ww(e._rawValidators,r),ww(e._rawAsyncValidators,r)}function Cw(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=U4(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=$4(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return ww(e._rawValidators,i),ww(e._rawAsyncValidators,i),t}function Nie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&W4(n,e)})}function Fie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&W4(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function W4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lie(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Vie(n,e){n==null,BP(n,e)}function jie(n,e){return Cw(n,e)}function G4(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Bie(n){return Object.getPrototypeOf(n.constructor)===Iw}function Uie(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function K4(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Jc?t=o:Bie(o)?i=o:r=o}),r||i||t||null}function $ie(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function x4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function D4(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Xm=class extends If{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(VP(t),jP(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(D4(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Jm(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){x4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){x4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){D4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zie=n=>n instanceof Xm;var Hie={provide:Wu,useExisting:cr(()=>UP)},T4=Promise.resolve(),UP=(()=>{class n extends Wu{_changeDetectorRef;callSetDisabledState;control=new Xm;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new sn;constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K4(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),G4(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){T4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&nu(i);T4.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?q4(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(me(qu,9),me(xw,10),me(LP,10),me(xf,10),me(dc,8),me(Sw,8))};static \u0275dir=Yt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[os([Hie]),Ui,fo]})}return n})();var Mw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Yt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),qie={provide:xf,useExisting:cr(()=>Zm),multi:!0},Zm=(()=>{class n extends Iw{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275dir=Yt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&ce("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[os([qie]),Ui]})}return n})();var Y4=new le("");var Wie={provide:qu,useExisting:cr(()=>e_)},e_=(()=>{class n extends qu{callSetDisabledState;get submitted(){return Vn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=an(()=>this._submittedReactive());_submittedReactive=Pe(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new sn;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return kP(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){I4(t.control||null,t,!1),$ie(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),Uie(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new PP(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(I4(i||null,t),zie(r)&&(kP(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Vie(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&jie(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BP(this.form,this),this._oldForm&&Cw(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(me(xw,10),me(LP,10),me(Sw,8))};static \u0275dir=Yt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&ce("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[os([Wie]),Ui,fo]})}return n})();var Gie={provide:Wu,useExisting:cr(()=>t_)},t_=(()=>{class n extends Wu{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new sn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K4(this,o)}ngOnChanges(t){this._added||this._setUpControl(),G4(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return q4(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(me(qu,13),me(xw,10),me(LP,10),me(xf,10),me(Y4,8))};static \u0275dir=Yt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[os([Gie]),Ui,fo]})}return n})();var Kie={provide:xf,useExisting:cr(()=>Tf),multi:!0};function Q4(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Yie(n){return n.split(":")[0]}var Tf=(()=>{class n extends Iw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=z(is).injector;destroyRef=z(Ii);cdr=z(dc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xp({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=Q4(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Yie(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275dir=Yt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&ce("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[os([Kie]),Ui]})}return n})(),Pw=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Q4(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(me(xi),me(po),me(Tf,9))};static \u0275dir=Yt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Qie={provide:xf,useExisting:cr(()=>X4),multi:!0};function S4(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xie(n){return n.split(":")[0]}var X4=(()=>{class n extends Iw{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=i.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Xie(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275dir=Yt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&ce("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[os([Qie]),Ui]})}return n})(),Rw=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(S4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(S4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(me(xi),me(po),me(X4,9))};static \u0275dir=Yt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Jie(n){return typeof n=="number"?n:parseFloat(n)}var Zie=(()=>{class n{_validator=mw;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Yt({type:n,features:[fo]})}return n})();var ere={provide:xw,useExisting:cr(()=>n_),multi:!0},n_=(()=>{class n extends Zie{min;inputName="min";normalizeInput=t=>Jie(t);createValidator=t=>P4(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=es(n)))(r||n)}})();static \u0275dir=Yt({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&go("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[os([ere]),Ui]})}return n})();var J4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Br({type:n});static \u0275inj=lr({})}return n})(),OP=class extends If{constructor(e,t,i){super(VP(t),jP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){Array.isArray(e)?e.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){H4(this,!1,e),e.forEach((i,r)=>{z4(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Jm(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function A4(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var kw=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return A4(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ew(r,o)}record(t,i=null){let r=this._reduceControls(t);return new RP(r,i)}control(t,i,r){let o={};return this.useNonNullable?(A4(i)?o=i:(o.validators=i,o.asyncValidators=r),new Xm(t,ge(Y({},o),{nonNullable:!0}))):new Xm(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new OP(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof Xm)return t;if(t instanceof If)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sw,useValue:t.callSetDisabledState??Aw}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Br({type:n});static \u0275inj=lr({imports:[J4]})}return n})(),Ow=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Y4,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Sw,useValue:t.callSetDisabledState??Aw}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Br({type:n});static \u0275inj=lr({imports:[J4]})}return n})();var Sf=class n{auth=z(ni);profileSvc=z(_i);constructor(){zB(this.auth,kb)}onUserChanged(e){return gr(this.auth,e)}register(e){return A(this,null,function*(){let t=yield BB(this.auth,e.email,e.password);return yield qB(t.user,{displayName:e.name}),yield this.profileSvc.upsertProfile({displayName:e.name}),t.user})}login(e,t){return A(this,null,function*(){return(yield HB(this.auth,e,t)).user})}resetPassword(e){return $B(this.auth,e)}logout(){return this.auth.signOut()}authState$(){return new Oe(e=>gr(this.auth,i=>e.next(i),i=>e.error(i)))}isLoggedIn$(){return new Oe(e=>gr(this.auth,i=>e.next(!!i),i=>e.error(i)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};function tre(n,e){if(n&1&&(I(0,"div",14),C(1),S()),n&2){let t=ne();L(),Ze(" ",t.errorMsg," ")}}function nre(n,e){n&1&&(I(0,"small"),C(1,"Informe o e-mail."),S())}function ire(n,e){n&1&&(I(0,"small"),C(1,"E-mail inv\xE1lido."),S())}function rre(n,e){if(n&1&&(I(0,"div",42),$i(1,nre,2,0,"small",39)(2,ire,2,0,"small",39),S()),n&2){let t=ne(2);L(),Ae("ngIf",t.lf.email.errors.required),L(),Ae("ngIf",t.lf.email.errors.email)}}function ore(n,e){n&1&&(I(0,"small"),C(1,"Informe a senha."),S())}function sre(n,e){n&1&&(I(0,"small"),C(1,"M\xEDnimo de 8 caracteres."),S())}function are(n,e){if(n&1&&(I(0,"div",42),$i(1,ore,2,0,"small",39)(2,sre,2,0,"small",39),S()),n&2){let t=ne(2);L(),Ae("ngIf",t.lf.password.errors.required),L(),Ae("ngIf",t.lf.password.errors.minlength)}}function cre(n,e){n&1&&(I(0,"span"),C(1,"Acessar"),S())}function lre(n,e){n&1&&(I(0,"span"),C(1,"Entrando..."),S())}function ure(n,e){if(n&1){let t=bt();I(0,"form",24),ce("ngSubmit",function(){he(t);let r=ne();return fe(r.submitLogin())}),I(1,"div",25)(2,"label",26),C(3,"E-mail"),S(),I(4,"div",27)(5,"span",28),Ee(6,"i",29),S(),Ee(7,"input",30),S(),$i(8,rre,3,2,"div",31),S(),I(9,"div",32)(10,"label",33),C(11,"Senha"),S(),I(12,"div",27)(13,"span",28),Ee(14,"i",34),S(),Ee(15,"input",35),I(16,"button",36),ce("click",function(){he(t);let r=ne();return fe(r.showLoginPass=!r.showLoginPass)}),Ee(17,"i",37),S()(),$i(18,are,3,2,"div",31),S(),I(19,"button",38),$i(20,cre,2,0,"span",39)(21,lre,2,0,"span",39),S(),I(22,"div",40)(23,"button",41),ce("click",function(){he(t);let r=ne();return fe(r.forgotPassword())}),C(24," Esqueceu sua senha? "),S()()()}if(n&2){let t=ne();Ae("formGroup",t.loginForm),L(7),Ye("is-invalid",t.lf.email.touched&&t.lf.email.invalid),L(),Ae("ngIf",t.lf.email.touched&&t.lf.email.errors),L(7),Ye("is-invalid",t.lf.password.touched&&t.lf.password.invalid),Ae("type",t.showLoginPass?"text":"password"),L(),go("aria-label",t.showLoginPass?"Ocultar senha":"Mostrar senha"),L(),Ae("ngClass",t.showLoginPass?"bi-eye-slash":"bi-eye"),L(),Ae("ngIf",t.lf.password.touched&&t.lf.password.errors),L(),Ae("disabled",t.loginForm.invalid||t.loading),L(),Ae("ngIf",!t.loading),L(),Ae("ngIf",t.loading)}}function dre(n,e){if(n&1){let t=bt();I(0,"form",43),ce("ngSubmit",function(){he(t);let r=ne();return fe(r.submitRegister())}),I(1,"div",25)(2,"label",44),C(3,"Nome"),S(),Ee(4,"input",45),S(),I(5,"div",25)(6,"label",44),C(7,"E-mail"),S(),Ee(8,"input",46),S(),I(9,"div",25)(10,"label",44),C(11,"Senha"),S(),Ee(12,"input",47),S(),I(13,"div",25)(14,"label",44),C(15,"Confirmar Senha"),S(),Ee(16,"input",48),S(),I(17,"button",49),C(18," Criar conta "),S()()}if(n&2){let t=ne();Ae("formGroup",t.registerForm),L(4),Ye("is-invalid",t.rf.name.touched&&t.rf.name.invalid),L(4),Ye("is-invalid",t.rf.email.touched&&t.rf.email.invalid),L(4),Ye("is-invalid",t.rf.password.touched&&t.rf.password.invalid),Ae("type",t.showRegPass?"text":"password"),L(4),Ye("is-invalid",t.rf.confirmPassword.touched&&t.rf.confirmPassword.invalid),Ae("type",t.showRegPass2?"text":"password"),L(),Ae("disabled",t.registerForm.invalid||t.loading)}}var Nw=class n{fb=z(kw);auth=z(Sf);router=z(pt);userProfile=z(_i);mode="login";loading=!1;errorMsg="";showLoginPass=!1;showRegPass=!1;showRegPass2=!1;loginForm=this.fb.group({email:["",[Ft.required,Ft.email]],password:["",[Ft.required,Ft.minLength(8)]],remember:[!0]});registerForm=this.fb.group({name:["",[Ft.required,Ft.minLength(3)]],email:["",[Ft.required,Ft.email]],password:["",[Ft.required,Ft.minLength(8)]],confirmPassword:["",[Ft.required,Ft.minLength(8)]]},{validators:this.passwordsMatch("password","confirmPassword")});get lf(){return this.loginForm.controls}get rf(){return this.registerForm.controls}switch(e){this.mode=e,this.errorMsg=""}redirectAfterAuth(){return A(this,null,function*(){let e=yield this.userProfile.getProfile();!e||!e.completedOnboarding?yield this.router.navigateByUrl("/onboarding"):yield this.router.navigateByUrl("/home")})}submitLogin(){return A(this,null,function*(){if(this.errorMsg="",this.loginForm.invalid)return;this.loading=!0;let{email:e,password:t,remember:i}=this.loginForm.value;try{yield this.auth.login(e,t),yield this.redirectAfterAuth()}catch(r){this.errorMsg=this.translateFirebaseError(r?.code)}finally{this.loading=!1}})}submitRegister(){return A(this,null,function*(){if(this.errorMsg="",this.registerForm.invalid||this.registerForm.errors?.passwordMismatch)return;this.loading=!0;let{name:e,email:t,password:i}=this.registerForm.value;try{yield this.auth.register({name:e,email:t,password:i}),yield this.redirectAfterAuth()}catch(r){this.errorMsg=this.translateFirebaseError(r?.code)}finally{this.loading=!1}})}forgotPassword(){return A(this,null,function*(){let e=this.loginForm.value.email;if(!e){this.errorMsg="Informe seu e-mail para recuperar a senha.";return}try{yield this.auth.resetPassword(e),this.errorMsg="Enviamos um link de recupera\xE7\xE3o para seu e-mail."}catch(t){console.error("Reset error:",t),this.errorMsg=this.translateFirebaseError(t?.code)}})}passwordsMatch(e,t){return i=>{let r=i,o=r.get(e)?.value,s=r.get(t)?.value;return!o||!s||o===s?null:{passwordMismatch:!0}}}translateFirebaseError(e){switch(e){case"auth/email-already-in-use":return"E-mail j\xE1 cadastrado.";case"auth/invalid-email":return"E-mail inv\xE1lido.";case"auth/weak-password":return"Senha fraca (m\xEDnimo de 6 caracteres).";case"auth/operation-not-allowed":return"M\xE9todo de login n\xE3o habilitado (e-mail/senha).";case"auth/network-request-failed":return"Falha de rede. Verifique sua conex\xE3o.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";case"auth/invalid-credential":return"Credenciais inv\xE1lidas.";default:return e?`Erro: ${e}`:"Ocorreu um erro. Tente novamente."}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-login"]],decls:35,vars:7,consts:[[1,"topbar","d-flex","justify-content-between","align-items-center","px-4","py-2"],[1,"topbar__logo","d-flex","align-items-center"],["src","img/logo.png","alt","Logo do Projeto",1,"topbar__img","me-2"],[1,"fw-bold","text-light","fs-5"],["routerLink","/saiba-mais",1,"btn","btn-outline-success","btn-sm","topbar__btn"],[1,"container","text-light","content-with-topbar"],[1,"row","align-items-start","gy-4"],[1,"col-12","col-md-6","col-lg-5"],["data-testid","login-card",1,"card","login-card","text-light"],[1,"card-body"],[1,"mb-3","text-center"],[1,"btn-group","w-100","mb-9"],["data-testid","tab-login",1,"btn","tab-btn",3,"click"],["data-testid","tab-register",1,"btn","tab-btn",3,"click"],["data-testid","login-error","role","alert","aria-live","assertive",1,"alert","alert-warning"],["novalidate","","data-testid","login-form",3,"formGroup"],["novalidate","","data-testid","register-form",3,"formGroup"],[1,"col-12","col-lg-7"],[1,"hero","text-center","text-lg-center"],[1,"hero__title","mb-3"],[1,"d-none","d-md-inline"],["src","img/Wallace-Pigton.png","alt","Cofrinho Moneva",1,"pig-img","my-2","my-lg-1"],[1,"hero__subtitle","mb-1"],[1,"hero__text"],["novalidate","","data-testid","login-form",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","login-email",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-envelope"],["id","login-email","type","email","formControlName","email","autocomplete","email","data-testid","login-email",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],[1,"mb-2"],["for","login-password",1,"form-label"],[1,"bi","bi-lock"],["id","login-password","formControlName","password","autocomplete","current-password","data-testid","login-password",1,"form-control",3,"type"],["type","button","data-testid","toggle-password",1,"btn","btn-outline-secondary","toggle-eye",3,"click"],[1,"bi",3,"ngClass"],["type","submit","data-testid","login-submit",1,"btn","btn-success","w-100",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-2"],["type","button","data-testid","forgot-password",1,"btn","btn-link","p-0",3,"click"],[1,"invalid-feedback","d-block"],["novalidate","","data-testid","register-form",3,"ngSubmit","formGroup"],[1,"form-label"],["formControlName","name","autocomplete","name","data-testid","register-name",1,"form-control"],["type","email","formControlName","email","autocomplete","email","data-testid","register-email",1,"form-control"],["formControlName","password","autocomplete","new-password","data-testid","register-password",1,"form-control",3,"type"],["formControlName","confirmPassword","autocomplete","new-password","data-testid","register-confirm",1,"form-control",3,"type"],["type","submit","data-testid","register-submit",1,"btn","btn-success","w-100",3,"disabled"]],template:function(t,i){t&1&&(I(0,"header",0)(1,"div",1),Ee(2,"img",2),I(3,"span",3),C(4,"Moneva"),S()(),I(5,"button",4),C(6,"Saiba mais"),S()(),I(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h3",10),C(13,"Portal do Aluno"),S(),I(14,"div",11)(15,"button",12),ce("click",function(){return i.switch("login")}),C(16," Entrar "),S(),I(17,"button",13),ce("click",function(){return i.switch("register")}),C(18," Criar conta "),S()(),Le(19,tre,2,1,"div",14),Le(20,ure,25,13,"form",15),Le(21,dre,19,12,"form",16),S()()(),I(22,"div",17)(23,"section",18)(24,"h1",19),C(25," Comece sua"),Ee(26,"br",20),C(27," jornada financeira!!! "),S(),Ee(28,"img",21),I(29,"p",22),C(30," DA TEORIA \xC0 PR\xC1TICA: SUA EVOLU\xC7\xC3O FINANCEIRA"),Ee(31,"br",20),C(32," EM UM S\xD3 LUGAR! "),S(),I(33,"p",23),C(34," AL\xC9M DE CONTE\xDADOS INTERATIVOS, VOC\xCA CONTA COM UM GESTOR INTELIGENTE PARA APLICAR O QUE APRENDEU NO DIA A DIA. "),S()()()()()),t&2&&(L(15),Ye("active",i.mode==="login"),L(2),Ye("active",i.mode==="register"),L(2),Ve(i.errorMsg?19:-1),L(),Ve(i.mode==="login"?20:-1),L(),Ve(i.mode==="register"?21:-1))},dependencies:[as,MT,iu,Ow,Mw,Jc,Df,Dw,e_,t_,Ki],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--bg-900: #0f1113;--bg-800: #1a1d20;--bg-700: #202428;--text: #f1f5f9;--muted: #a7b0b7;--green: #00c053;--green-strong: #00C053}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(1200px 800px at 70% 20%,#14171a,#0f1113);color:var(--text)}.login-card[_ngcontent-%COMP%]{background:var(--bg-800);border:1px solid rgba(25,208,125,.25);border-radius:18px;box-shadow:0 6px 24px #00000059;margin-top:80px}.btn-success[_ngcontent-%COMP%]{border:1px solid rgba(0,192,83,.4);color:var(--green);background-color:#00c053;font-weight:600;letter-spacing:.3px;border-radius:8px;transition:all .25s ease}.btn-success[_ngcontent-%COMP%]:hover{background-color:var(--green-strong);border-color:var(--green-strong)}.btn-outline-success[_ngcontent-%COMP%]{color:var(--green);border-color:var(--green)}.btn-outline-success[_ngcontent-%COMP%]:hover{background:#ffffff1a}.btn-outline-success.able[_ngcontent-%COMP%]{background-color:#00c053;color:#fff}.tab-btn[_ngcontent-%COMP%]{border:1px solid rgba(0,192,83,.4);color:var(--green);background-color:transparent;font-weight:600;letter-spacing:.3px;border-radius:8px;transition:all .25s ease}.tab-btn[_ngcontent-%COMP%]:hover{background-color:#00c05326}.tab-btn.active[_ngcontent-%COMP%]{background-color:#00c053;color:#fff;border-color:var(--green);box-shadow:0 0 10px #00c05366}.topbar[_ngcontent-%COMP%]{background:#262a2f;border-bottom:1px solid rgba(0,192,83,.25);box-shadow:0 2px 12px #00000059;position:fixed;top:0;left:0;right:0;z-index:1000;height:64px}.topbar__logo[_ngcontent-%COMP%]{display:flex;align-items:center}.topbar__img[_ngcontent-%COMP%]{height:40px;width:auto;filter:drop-shadow(0 1px 3px rgba(0,0,0,.3))}.topbar__btn[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.4px;border-radius:5px;transition:background .2s ease;color:#fff;border-color:var(--green);background:#00c05366}.topbar__btn[_ngcontent-%COMP%]:hover{background:#00c053}.content-with-topbar[_ngcontent-%COMP%]{padding-top:80px;padding-bottom:48px}.card.login-card[_ngcontent-%COMP%]{background:var(--bg-800);border:1px solid rgba(25,208,125,.25);border-radius:18px;box-shadow:0 6px 24px #00000059}.input-group-text[_ngcontent-%COMP%]{background:var(--bg-700);color:var(--text);border:none}.form-control[_ngcontent-%COMP%]{background:#262a2f;color:var(--text);border:none}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19d07d33}.hero__title[_ngcontent-%COMP%]{font-weight:800;line-height:1.1;font-size:clamp(28px,5.2vw,56px)}.hero__subtitle[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.3px;font-size:clamp(16px,2.2vw,22px);color:#dfe6ea}.hero__text[_ngcontent-%COMP%]{max-width:720px;font-size:clamp(14px,1.8vw,18px);color:var(--muted)}.pig-img[_ngcontent-%COMP%]{max-width:clamp(160px,28vw,280px);height:auto;filter:drop-shadow(0 3px 18px rgba(0,0,0,.35))}@media (max-width: 991.98px){.content-with-topbar[_ngcontent-%COMP%]{padding-top:88px}.hero[_ngcontent-%COMP%]{text-align:center}}.input-group-text[_ngcontent-%COMP%]{background:var(--bg-700);color:var(--text);border:none;border-radius:12px 0 0 12px;min-width:46px;display:inline-flex;justify-content:center}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#262a2f;color:var(--text);border:none;border-radius:0}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:first-child{border-radius:0 12px 12px 0}.input-group[_ngcontent-%COMP%]   .toggle-eye[_ngcontent-%COMP%]{border-radius:0 12px 12px 0;border-color:#ffffff26;color:#cfd6db;background:transparent}.input-group[_ngcontent-%COMP%]   .toggle-eye[_ngcontent-%COMP%]:hover{background:#ffffff0f}.form-control.is-invalid[_ngcontent-%COMP%]{box-shadow:0 0 0 .25rem #ff505026}']})};var hre=["confirmBtn"];function fre(n,e){if(n&1){let t=bt();I(0,"div",24),ce("click",function(){he(t);let r=ne();return fe(r.onClose())}),S()}}function pre(n,e){if(n&1){let t=bt();I(0,"div",25),ce("click",function(){he(t);let r=ne();return fe(r.closeConfirm())}),S()}}function gre(n,e){if(n&1){let t=bt();I(0,"div",26),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(1,"div",27),C(2,"\u238B"),S(),I(3,"h5",28),C(4,"Deseja sair da sua conta?"),S(),I(5,"p",29),C(6,"Voc\xEA precisar\xE1 fazer login novamente para acessar seus dados."),S(),I(7,"div",30)(8,"button",31),ce("click",function(){he(t);let r=ne();return fe(r.closeConfirm())}),C(9," Cancelar "),S(),I(10,"button",32,0),ce("click",function(){he(t);let r=ne();return fe(r.confirmLogout())}),C(12),S()()()}if(n&2){let t=ne();L(8),Ae("disabled",t.logginOut),L(2),Ae("disabled",t.logginOut),L(2),Ze(" ",t.logginOut?"Saindo...":"Confirmar"," ")}}var Fw=class n{open=!1;close=new sn;profileSvc=z(_i);auth=z(Sf);router=z(pt);confirmOpen=!1;logginOut=!1;confirmBtn;profileSig=Mj(this.profileSvc.profile$(),{initialValue:null});displayName=an(()=>{let e=this.profileSig(),i=e?.displayName||e?.email?.split("@")[0]||"Usu\xE1rio";return this.firstName(i)});email=an(()=>this.profileSig()?.email??"");achievements=an(()=>this.profileSig()?.achievements??27);achievementsGoal=200;firstName(e){return(e??"").trim().split(/\s+/)[0]||"Usu\xE1rio"}onClose(){this.close.emit()}openConfirm(){this.logginOut||(this.confirmOpen=!0,setTimeout(()=>this.confirmBtn?.nativeElement.focus(),0))}closeConfirm(){this.logginOut||(this.confirmOpen=!1)}onEsc(){this.confirmOpen&&this.closeConfirm()}confirmLogout(){return A(this,null,function*(){if(!this.logginOut){this.logginOut=!0;try{yield this.auth.logout(),this.closeConfirm(),this.onClose(),yield this.router.navigateByUrl("/login")}catch(e){console.error("Erro ao sair:",e),alert("N\xE3o foi poss\xEDvel sair. Tente novamente.")}finally{this.logginOut=!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-profile-panel"]],viewQuery:function(t,i){if(t&1&&gT(hre,5),t&2){let r;i0(r=r0())&&(i.confirmBtn=r.first)}},hostBindings:function(t,i){t&1&&ce("keydown.escape",function(){return i.onEsc()},qD)},inputs:{open:"open"},outputs:{close:"close"},decls:81,vars:27,consts:[["confirmBtn",""],["class","panel-backdrop","data-testid","profile-backdrop",3,"click",4,"ngIf"],["role","dialog","aria-modal","true","aria-label","Perfil","data-testid","profile-panel",1,"profile-panel"],[1,"pp-header","d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],[1,"avatar"],[1,"d-flex","flex-column"],[1,"pp-name"],[1,"pp-email"],["aria-label","Fechar painel",1,"pp-close",3,"click"],[1,"pp-body"],[1,"pp-section"],[1,"pp-title"],[1,"pp-list"],[1,"pp-label"],[1,"pp-value"],[1,"pp-achievements"],[1,"pp-progress"],[1,"pp-progress-bar"],[1,"text-white","fw-semibold"],[1,"pp-footer"],["data-testid","logout-open-confirm",1,"btn-logout",3,"click","disabled"],["class","confirm-backdrop",3,"click",4,"ngIf"],["class","confirm-card","role","dialog","aria-modal","true","aria-labelledby","confirmTitle","data-testid","logout-confirm-modal",3,"click",4,"ngIf"],["data-testid","profile-backdrop",1,"panel-backdrop",3,"click"],[1,"confirm-backdrop",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","confirmTitle","data-testid","logout-confirm-modal",1,"confirm-card",3,"click"],[1,"confirm-icon"],["id","confirmTitle",1,"confirm-title"],[1,"confirm-text"],[1,"confirm-actions"],["type","button",1,"btn-ghost",3,"click","disabled"],["type","button","data-testid","logout-confirm-yes",1,"btn-danger",3,"click","disabled"]],template:function(t,i){if(t&1&&($i(0,fre,1,0,"div",1),I(1,"aside",2)(2,"header",3)(3,"div",4)(4,"div",5),C(5),fi(6,"uppercase"),S(),I(7,"div",6)(8,"strong",7),C(9),S(),I(10,"small",8),C(11),S()()(),I(12,"button",9),ce("click",function(){return i.onClose()}),C(13,"\u2715"),S()(),I(14,"section",10)(15,"div",11)(16,"h6",12),C(17,"Informa\xE7\xF5es Pessoais"),S(),I(18,"ul",13)(19,"li")(20,"span",14),C(21,"Nome"),S(),I(22,"span",15),C(23),S()(),I(24,"li")(25,"span",14),C(26,"G\xEAnero"),S(),I(27,"span",15),C(28),S()(),I(29,"li")(30,"span",14),C(31,"Renda mensal"),S(),I(32,"span",15),C(33),fi(34,"number"),S()()()(),I(35,"div",11)(36,"h6",12),C(37,"Objetivos e Sonhos"),S(),I(38,"ul",13)(39,"li")(40,"span",14),C(41,"Objetivos de vida"),S(),I(42,"span",15),C(43),S()(),I(44,"li")(45,"span",14),C(46,"Objetivos financeiros"),S(),I(47,"span",15),C(48),S()(),I(49,"li")(50,"span",14),C(51,"Sonhos"),S(),I(52,"span",15),C(53),S()()()(),I(54,"div",11)(55,"h6",12),C(56,"Situa\xE7\xE3o Atual"),S(),I(57,"ul",13)(58,"li")(59,"span",14),C(60,"Dores"),S(),I(61,"span",15),C(62),S()(),I(63,"li")(64,"span",14),C(65,"Status financeiro"),S(),I(66,"span",15),C(67),S()()()(),I(68,"div",11)(69,"h6",12),C(70,"Conquistas"),S(),I(71,"div",16)(72,"div",17),Ee(73,"div",18),S(),I(74,"small",19),C(75),S()()()(),I(76,"footer",20)(77,"button",21),ce("click",function(){return i.openConfirm()}),C(78),S()(),$i(79,pre,1,0,"div",22)(80,gre,13,3,"div",23),S()),t&2){let r,o,s,a,c,l,u,h;Ae("ngIf",i.open),L(),Ye("is-open",i.open),L(4),Ie(uc(6,22,i.displayName()[0])),L(4),Ie(i.displayName()),L(2),Ie(i.email()),L(12),Ie(((r=i.profileSig())==null?null:r.displayName)||i.displayName()),L(5),Ze(" ",((o=i.profileSig())==null?null:o.gender)==="masculino"&&"Masculino"||((o=i.profileSig())==null?null:o.gender)==="feminino"&&"Feminino"||((o=i.profileSig())==null?null:o.gender)==="outro"&&"Outro"||((o=i.profileSig())==null?null:o.gender)==="prefiro_nao_dizer"&&"Prefiro n\xE3o dizer"||"\u2014"," "),L(5),Ze(" ",((s=i.profileSig())==null?null:s.monthlyIncome)!=null?"R$ "+vo(34,24,(s=i.profileSig())==null?null:s.monthlyIncome,"1.0-0"):"\u2014"," "),L(10),Ie(((a=i.profileSig())==null?null:a.lifeGoals)||"\u2014"),L(5),Ie(((c=i.profileSig())==null?null:c.financialGoals)||"\u2014"),L(5),Ie(((l=i.profileSig())==null?null:l.dreams)||"\u2014"),L(9),Ie(((u=i.profileSig())==null?null:u.pains)||"\u2014"),L(5),Ze(" ",((h=i.profileSig())==null?null:h.currentStatus)==="devendo"&&"Devendo"||((h=i.profileSig())==null?null:h.currentStatus)==="sem_economia"&&"N\xE3o consegue economizar"||((h=i.profileSig())==null?null:h.currentStatus)==="equilibrado"&&"Equilibrado"||((h=i.profileSig())==null?null:h.currentStatus)==="investindo"&&"J\xE1 investindo"||"\u2014"," "),L(6),uh("width",i.achievements()/i.achievementsGoal*100,"%"),L(2),Hi("",i.achievements()," / ",i.achievementsGoal),L(2),Ae("disabled",i.logginOut),L(),Ze(" ",i.logginOut?"Saindo...":"Sair da conta"," "),L(),Ae("ngIf",i.confirmOpen),L(),Ae("ngIf",i.confirmOpen)}},dependencies:[as,iu,RT,cg],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--bg-900: #0f1113;--bg-850: #121518;--bg-800: #1a1d20;--bg-700: #202428;--text: #f1f5f9;--muted: #a7b0b7;--green: #00c053}.panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000073;z-index:1040}.profile-panel[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;bottom:16px;width:380px;max-width:92vw;background:radial-gradient(100% 100% at 30% 0%,#171a1d,#0f1113);color:var(--text);z-index:1050;border:1px solid rgba(0,192,83,.25);box-shadow:0 12px 40px #0000008c,0 0 0 6px #00c05314;padding:18px 18px 22px 24px;border-radius:50px 12px 12px 50px;display:flex;flex-direction:column;transform:translate(120%);opacity:0;transition:transform .32s ease,opacity .32s ease}.profile-panel.is-open[_ngcontent-%COMP%]{transform:translate(0);opacity:1}.pp-header[_ngcontent-%COMP%]{margin-bottom:12px}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:var(--bg-700);display:grid;place-items:center;font-weight:800;color:#00c053;border:1px solid rgba(25,208,125,.2);box-shadow:0 2px 8px #00c053}.pp-name[_ngcontent-%COMP%]{font-size:1.05rem;letter-spacing:.2px;color:#fff}.pp-email[_ngcontent-%COMP%]{color:#fff}.pp-close[_ngcontent-%COMP%]{border:1px solid #00c053;background:transparent;color:#00c053;font-size:1rem;line-height:1;width:36px;height:36px;border-radius:50%;transition:background .2s ease}.pp-close[_ngcontent-%COMP%]:hover{background:#00c053;color:#fff;border:1px solid #101315}.pp-body[_ngcontent-%COMP%]{overflow:auto;padding-right:6px}[_ngcontent-%COMP%]:root{--scroll-thumb: linear-gradient(180deg, #06d86b, #00a34a);--scroll-thumb-hover: linear-gradient(180deg, #10e078, #00b454);--scroll-thumb-active: linear-gradient(180deg, #0bd06f, #009e44);--scroll-track: #0f1316;--scroll-track-border: rgba(0, 192, 83, .18)}.pp-body[_ngcontent-%COMP%]{overflow:auto;padding-right:6px;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:#10d56f #0f1316}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--scroll-track);border-left:1px solid var(--scroll-track-border);border-radius:10px}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--scroll-thumb);border:2px solid #0e1215;border-radius:10px;box-shadow:inset 0 0 4px #00000059,0 0 8px #00c05340}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--scroll-thumb-hover);box-shadow:inset 0 0 4px #00000059,0 0 10px #00c05359}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:var(--scroll-thumb-active)}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}.pp-body[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.pp-body[_ngcontent-%COMP%]{mask-image:linear-gradient(to bottom,transparent 0,rgb(0,0,0) 14px,rgb(0,0,0) calc(100% - 14px),transparent 100%);-webkit-mask-image:linear-gradient(to bottom,transparent 0,rgb(0,0,0) 14px,rgb(0,0,0) calc(100% - 14px),transparent 100%)}.pp-section[_ngcontent-%COMP%]{background:var(--bg-800);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:14px 14px 8px;margin-bottom:12px;box-shadow:0 4px 14px #00000047}.pp-title[_ngcontent-%COMP%]{margin:0 0 10px;color:#dce3e9;font-weight:700;letter-spacing:.3px}.pp-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;gap:8px}.pp-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;gap:12px;padding:8px 10px;border-radius:10px;background:#1e2327}.pp-label[_ngcontent-%COMP%]{color:#fff}.pp-value[_ngcontent-%COMP%]{font-weight:600;color:#1eb461}.pp-achievements[_ngcontent-%COMP%]{display:grid;gap:6px}.pp-progress[_ngcontent-%COMP%]{height:10px;background:#101315;border-radius:20px;overflow:hidden;border:1px solid rgba(255,255,255,.06)}.pp-progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#05c864,#00a34a);width:0%;transition:width .35s ease}@media (max-width: 768px){.profile-panel[_ngcontent-%COMP%]{top:8px;right:8px;bottom:8px;width:92vw;border-radius:24px}}.btn-logout[_ngcontent-%COMP%]{background:#1e2327;color:#ff6b6b;border:1px solid rgba(255,107,107,.35);border-radius:12px;padding:10px 14px;font-weight:700;letter-spacing:.3px;transition:all .2s ease;cursor:pointer}.btn-logout[_ngcontent-%COMP%]:hover{background:#2a3035;color:#ff8080;border-color:#ff80808c;box-shadow:0 0 12px #ff6b6b2e}.btn-logout[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.confirm-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000008c;z-index:1100;border-radius:inherit}.confirm-card[_ngcontent-%COMP%]{position:absolute;z-index:1110;left:50%;top:50%;transform:translate(-50%,-50%) scale(.96);width:min(92%,380px);background:radial-gradient(120% 120% at 30% 0%,#171a1d,#0f1113);border:1px solid rgba(0,192,83,.22);border-radius:16px;padding:18px 18px 14px;color:var(--text);box-shadow:0 18px 48px #0000008c,0 0 0 6px #00c0530f;animation:_ngcontent-%COMP%_confirm-in .18s ease-out forwards}@keyframes _ngcontent-%COMP%_confirm-in{0%{opacity:0;transform:translate(-50%,-52%) scale(.96)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.confirm-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;display:grid;place-items:center;background:#1e2327;color:#ff7676;border:1px solid rgba(255,118,118,.35);box-shadow:0 2px 12px #ff767633;margin:2px 0 8px}.confirm-title[_ngcontent-%COMP%]{margin:4px 0 2px;font-weight:800;letter-spacing:.3px;color:#eaf2f6}.confirm-text[_ngcontent-%COMP%]{margin:0 0 12px;color:#b8c3ca;font-size:.95rem}.confirm-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.btn-ghost[_ngcontent-%COMP%]{background:transparent;color:#dfe6ea;border:1px solid rgba(255,255,255,.18);border-radius:10px;padding:10px 12px;font-weight:700;letter-spacing:.3px;transition:all .2s ease}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff0f;border-color:#ffffff4d}.btn-danger[_ngcontent-%COMP%]{background:#1e2327;color:#ff6b6b;border:1px solid rgba(255,107,107,.35);border-radius:10px;padding:10px 14px;font-weight:800;letter-spacing:.35px;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background:#2a3035;color:#ff8080;border-color:#ff80808c;box-shadow:0 0 12px #ff6b6b2e}.btn-danger[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.pp-footer[_ngcontent-%COMP%]{margin-top:10px;padding-top:12px;border-top:1px solid rgba(0,192,83,.18);display:flex;justify-content:flex-end}']})};var Lw=class n{constructor(e){this.s=e}transform(e){return this.s.bypassSecurityTrustResourceUrl(e)}static \u0275fac=function(t){return new(t||n)(me(GT,16))};static \u0275pipe=cc({name:"safeUrl",type:n,pure:!0})};var Vw=class n{auth=z(ni);profileSvc=z(_i);sub=new en;showProfile=Pe(!1);openProfile(){this.showProfile.set(!0)}closeProfile(){this.showProfile.set(!1)}toggleProfile(){this.showProfile.update(e=>!e)}firstName=Pe("Usu\xE1rio");powerBiUrl="https://app.powerbi.com/view?r=SEU_LINK_DE_EMBED_AQUI";constructor(){this.sub.add(this.profileSvc.profile$().subscribe(t=>{t?.displayName&&this.firstName.set(this.getFirstName(t.displayName))}));let e=gr(this.auth,t=>{if(!t){this.firstName.set("Usu\xE1rio");return}if(!this.firstName()||this.firstName()==="Usu\xE1rio"){let i=t.displayName??t.email?.split("@")[0]??"Usu\xE1rio";this.firstName.set(this.getFirstName(i))}});this.sub.add({unsubscribe:()=>e()})}ngOnDestroy(){this.sub.unsubscribe()}getFirstName(e){return(e??"").trim().split(/\s+/)[0]||"Usu\xE1rio"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-home"]],decls:60,vars:5,consts:[[1,"container-fluid","vh-100","bg-dark","text-white","p-0","d-flex"],[1,"sidebar","aside","d-flex","flex-column","p-3"],[1,"fw-bold","text-white","mb-4"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["routerLink","/home",1,"nav-link","aside","text-white","active"],["routerLink","/trilha",1,"nav-link","text-white"],["routerLink","/demonstrativos",1,"nav-link","text-white"],[1,"nav-item"],["routerLink","/conquistas",1,"nav-link","text-white"],[1,"flex-grow-1","p-4",2,"background-color","#0f1113"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["data-testid","home-welcome",1,"fw-semibold"],["type","button","aria-label","Abrir painel de perfil","data-testid","profile-toggle",1,"profile-cta",3,"click"],[1,"profile-cta__label"],["aria-hidden","true",1,"profile-cta__avatar"],[1,"bi","bi-person-fill"],[1,"btn","btn-outline-light"],[1,"row","g-3","mb-4"],[1,"col-md-4"],[1,"card","text-white","p-3",2,"background-color","#181c1f"],[1,"card-title"],[1,"progress","bg-dark",2,"height","10px"],[1,"progress-bar","bg-success",2,"width","70%"],[2,"height","10px"],[1,"progress-bar","bg-success",2,"width","80%"],[1,"text-warning","medium","mb-4"],[1,"card","text-white","p-4",2,"background-color","#181c1f"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"card-title","mb-0"],[1,"pbi-badge"],[1,"pbi-wrap"],["frameborder","0","allowFullScreen","true","title","Dashboard Financeiro Moneva",3,"src"],[3,"close","open"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"aside",1)(2,"h2",2),C(3,"MONEVA"),S(),I(4,"ul",3)(5,"li",4)(6,"a",5),C(7,"\u{1F3E0} Home"),S()(),I(8,"li",4)(9,"a",6),C(10,"\u{1F4B0} Trilha de Aprendizado"),S()(),I(11,"li",4)(12,"a",7),C(13,"\u{1F4CA} Demonstrativos"),S()(),I(14,"li",8)(15,"a",9),C(16,"\u{1F3C6} Conquistas"),S()()()(),I(17,"main",10)(18,"div",11)(19,"h3",12),C(20),S(),I(21,"div")(22,"button",13),ce("click",function(){return i.openProfile()}),I(23,"span",14),C(24,"Perfil"),S(),I(25,"span",15),Ee(26,"i",16),S()(),I(27,"button",17),C(28,"\u2699\uFE0F"),S()()(),I(29,"div",18)(30,"div",19)(31,"div",20)(32,"h5",21),C(33,"\u{1F3AF} Metas Financeiras"),S(),I(34,"div",22),Ee(35,"div",23),S()()(),I(36,"div",19)(37,"div",20)(38,"h5",21),C(39,"\u{1F3C6} Conquistas"),S(),I(40,"p",24),C(41,"27 / 200"),S()()(),I(42,"div",19)(43,"div",20)(44,"h5",21),C(45,"N\xEDvel Atual 2"),S(),I(46,"div",22),Ee(47,"div",25),S()()()(),I(48,"p",26),C(49," \u2728 Cada transa\xE7\xE3o registrada te ajuda a evoluir e desbloquear novas funcionalidades. "),S(),I(50,"div",27)(51,"div",28)(52,"h5",29),C(53,"Dashboard Financeiro"),S(),I(54,"span",30),C(55,"Power BI"),S()(),I(56,"div",31),Ee(57,"iframe",32),fi(58,"safeUrl"),S()()()(),I(59,"app-profile-panel",33),ce("close",function(){return i.closeProfile()}),S()),t&2&&(L(20),Ze("Fala A\xED, ",i.firstName(),"!"),L(37),Ae("src",uc(58,3,i.powerBiUrl),Hy),L(2),Ae("open",i.showProfile()))},dependencies:[Ki,Fw,Lw],styles:['@charset "UTF-8";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif}.sidebar[_ngcontent-%COMP%]{width:250px;min-height:100vh;background:linear-gradient(180deg,#007a4d,#003822);transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{letter-spacing:1px}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.95rem;padding:8px 12px;border-radius:8px;transition:background .3s,transform .2s}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);transform:translate(4px)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);font-weight:700;color:#0f8!important;border-left:4px solid #00ff88;border-radius:8px 0 0 8px}main[_ngcontent-%COMP%]{background-color:#0f1113;overflow-y:auto}main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#0f8}.btn-outline-light[_ngcontent-%COMP%]{border-radius:10px;transition:.3s}.profile-cta[_ngcontent-%COMP%]{--pill-bg: #143024;--pill-bg-hover: #153a29;--ring-green: #00e070;--ring-white: #ffffff;display:inline-flex;align-items:center;gap:12px;padding:8px 12px 8px 16px;background:var(--pill-bg);color:#f1f5f9;border:none;border-radius:14px;cursor:pointer;box-shadow:inset 0 1px #ffffff0d,0 6px 16px #00000059;transition:background .18s ease,transform .08s ease,box-shadow .18s ease;line-height:1}.profile-cta[_ngcontent-%COMP%]:hover{background:var(--pill-bg-hover);box-shadow:inset 0 1px #ffffff0f,0 8px 20px #00000073}.profile-cta[_ngcontent-%COMP%]:active{transform:translateY(1px)}.profile-cta[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(0,208,115,.75);outline-offset:2px}.profile-cta__label[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.2px;color:#dfe7ec}.profile-cta__avatar[_ngcontent-%COMP%]{position:relative;width:32px;height:32px;border-radius:50%;background:radial-gradient(120% 120% at 30% 0%,#1a1f23,#0f1113);color:#fff;display:grid;place-items:center;margin-left:2px}.profile-cta__avatar[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;border-radius:50%;border:2px solid var(--ring-green);box-shadow:0 0 8px #00e0708c,0 0 0 2px #00000040 inset}.profile-cta__avatar[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:4px;border-radius:50%;border:2px solid var(--ring-white);opacity:.95}.profile-cta__avatar[_ngcontent-%COMP%] > .bi[_ngcontent-%COMP%]{font-size:1.05rem;z-index:1}.profile-cta[_ngcontent-%COMP%]:hover   .profile-cta__avatar[_ngcontent-%COMP%]:before{box-shadow:0 0 10px #00e070bf,0 0 0 2px #00000040 inset}@media (max-width: 576px){.profile-cta[_ngcontent-%COMP%]{padding:7px 10px 7px 12px;gap:10px;border-radius:12px}.profile-cta__avatar[_ngcontent-%COMP%]{width:30px;height:30px}.profile-cta__avatar[_ngcontent-%COMP%]:after{inset:3.5px}}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#0f8;color:#000;border-color:#0f8}.card[_ngcontent-%COMP%]{border:none;border-radius:15px;background:linear-gradient(145deg,#1e1e1e,#2a2a2a);transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 15px #0f83}.card-title[_ngcontent-%COMP%]{color:#0f8;font-weight:600}.progress[_ngcontent-%COMP%]{height:10px;border-radius:12px;background-color:#1a1a1a;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{border-radius:12px;transition:width .6s ease}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0f8;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#111}.home-top[_ngcontent-%COMP%]{width:100%;max-width:1120px;padding:16px 16px 0}.hello[_ngcontent-%COMP%]{margin:0 0 2px}.kpis[_ngcontent-%COMP%]{width:100%;max-width:1120px;display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:12px 16px 0}.kcard[_ngcontent-%COMP%]{background:#121518;border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px}.khead[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px}.kprogress[_ngcontent-%COMP%]{height:10px;background:#161a1e;border-radius:99px;overflow:hidden;margin-bottom:6px}.kprogress.thin[_ngcontent-%COMP%]{height:8px}.kprogress[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{height:100%;background:#00c053}.big[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;color:#00c053}.alerts[_ngcontent-%COMP%]{width:100%;max-width:1120px;padding:10px 16px 0;display:grid;gap:8px}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#14181b;border:1px solid rgba(255,255,255,.06);border-left:4px solid #2aa198;border-radius:10px;padding:10px 12px}.alert.med[_ngcontent-%COMP%]{border-left-color:#e6b800}.alert.high[_ngcontent-%COMP%]{border-left-color:#ff6b6b}.dashboard[_ngcontent-%COMP%]{width:100%;max-width:1120px;padding:12px 16px 30px}.dashboard[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 12px}.charts[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.card[_ngcontent-%COMP%]{background:#121518;border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:14px}.pbi-wrap[_ngcontent-%COMP%]{aspect-ratio:16/9;background:#101315;border-radius:10px;overflow:hidden}.pbi-wrap[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}.pbi-badge[_ngcontent-%COMP%]{font-size:.75rem;padding:3px 10px;border-radius:999px;border:1px solid rgba(0,192,83,.45);background:#00c0531f;color:#92f7c3;text-transform:uppercase;letter-spacing:.08em}@media (max-width: 900px){.kpis[_ngcontent-%COMP%], .charts[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var zP=60,e$={lesson:50,game:80},mre=[100,300,600,1e3,1500,2100],xs=[{id:"sec1",title:"Introdu\xE7\xE3o \xE0 Gest\xE3o Financeira \u{1F4B0}",nodes:[{id:"sec1-n1",kind:"lesson",title:"Por que cuidar do seu dinheiro \xE9 <strong>importante</strong>?",emoji:"\u{1F9E0}"},{id:"sec1-n2",kind:"game",title:'Quiz: "Voc\xEA sabe lidar com dinheiro?"',emoji:"\u{1F3AF}"},{id:"sec1-n3",kind:"lesson",title:"Como a educa\xE7\xE3o financeira muda sua vida",emoji:"\u{1F4A1}"},{id:"sec1-n4",kind:"game",title:"Desafio dos Erros Financeiros",emoji:"\u2696\uFE0F"},{id:"sec1-n5",kind:"lesson",title:"Passos simples para come\xE7ar hoje!",emoji:"\u{1F463}"}]},{id:"sec2",title:"Or\xE7amento \u{1F4D2}",nodes:[{id:"sec2-n1",kind:"lesson",title:"O que \xE9 or\xE7amento e como ele te ajuda!",emoji:"\u{1F4B0}"},{id:"sec2-n2",kind:"game",title:"Monte seu or\xE7amento ideal",emoji:"\u{1F9E9}"},{id:"sec2-n3",kind:"lesson",title:"Como dividir seu dinheiro com sabedoria",emoji:"\u{1F9FE}"},{id:"sec2-n4",kind:"game",title:"Desafio do fim do m\xEAs",emoji:"\u23F3"},{id:"sec2-n5",kind:"lesson",title:"Ferramentas simples para planejar seu m\xEAs",emoji:"\u{1F6E0}\uFE0F"}]},{id:"sec3",title:"Controle de Gastos \u{1F4CA}",nodes:[{id:"sec3-n1",kind:"lesson",title:"Por onde o dinheiro escapa",emoji:"\u{1F573}\uFE0F"},{id:"sec3-n2",kind:"game",title:"Ca\xE7a aos vil\xF5es do or\xE7amento",emoji:"\u{1F575}\uFE0F\u200D\u2642\uFE0F"},{id:"sec3-n3",kind:"lesson",title:"A import\xE2ncia de anotar tudo",emoji:"\u270D\uFE0F"},{id:"sec3-n4",kind:"game",title:"Jogo do corte inteligente",emoji:"\u2702\uFE0F"},{id:"sec3-n5",kind:"lesson",title:"Dicas para economizar sem sofrer",emoji:"\u{1F331}"}]}],_re={"sec1-n1":"/trilha/Introducao","sec1-n2":"/trilha/quiz-dinheiro","sec1-n3":"/trilha/educacao-financeira","sec1-n4":"/trilha/reserva","sec1-n5":"/trilha/passos-simples","sec2-n1":"/trilha/orcamento","sec2-n2":"/trilha/monte-orcamento","sec2-n3":"/trilha/orcamento-dicas","sec2-n4":"/trilha/desafio-fim-mes","sec2-n5":"/trilha/ferramentas-planejamento","sec3-n1":"/trilha","sec3-n2":"/trilha","sec3-n3":"/trilha","sec3-n4":"/trilha","sec3-n5":"/trilha"},Ji=class n{constructor(e,t){this.auth=e;this.firestore=t;this.user=this.auth.currentUser??null,this.user?this.loadFromCloud():this.bootstrapUnlocks(),gr(this.auth,i=>{this.user=i??null,this.user?this.loadFromCloud():(this._state.set(this.emptyState()),this.bootstrapUnlocks())})}_state=Pe(this.emptyState());state=this._state.asReadonly();user=null;cloudSaveTimer=null;lastCloudSnapshot="";cloudDisabled=!0;get sections(){return xs}touchCloudSave(){this.scheduleCloudSave(this._state())}emptyState(){return{statusMap:{},bestScoreByNode:{},xpByNode:{},totalXp:0}}userDocRef(){return this.user?Qc(this.firestore,"users",this.user.uid,"trilha","status"):null}serialize(e){return{statusMap:e.statusMap,bestScoreByNode:e.bestScoreByNode,xpByNode:e.xpByNode,totalXp:e.totalXp,updatedAt:Gr()}}loadFromCloud(){return A(this,null,function*(){let e=this.userDocRef();if(!e){this._state.set(this.emptyState()),this.bootstrapUnlocks();return}try{let t=yield uw(e);if(!t.exists()){let s=this.emptyState();this._state.set(s),this.bootstrapUnlocks(),this.lastCloudSnapshot=JSON.stringify(this.serialize(this._state()));return}let i=t.data(),r={statusMap:i.statusMap??i.map??{},bestScoreByNode:i.bestScoreByNode??{},xpByNode:i.xpByNode??{},totalXp:typeof i.totalXp=="number"?i.totalXp:0};this._state.set(r),this.bootstrapUnlocks();let o=this.serialize(this._state());this.lastCloudSnapshot=JSON.stringify(o)}catch(t){console.error("[Trilha] Erro ao carregar progresso do Firestore",t),this._state.set(this.emptyState()),this.bootstrapUnlocks()}})}scheduleCloudSave(e,t=3e3){if(!this.user||this.cloudDisabled||this.cloudSaveTimer)return;let i=this.serialize(e);JSON.stringify(i)!==this.lastCloudSnapshot&&(this.cloudSaveTimer=setTimeout(()=>A(this,null,function*(){this.cloudSaveTimer=null;let o=this._state(),s=this.serialize(o),a=JSON.stringify(s);if(a===this.lastCloudSnapshot)return;let c=this.userDocRef();if(c)try{yield hw(c,s,{merge:!0}),this.lastCloudSnapshot=a}catch(l){console.error("[Trilha] Erro ao salvar progresso no Firestore",l);let u=l?.code??"";(u==="resource-exhausted"||u==="deadline-exceeded"||u==="permission-denied")&&(console.warn("[Trilha] Desativando sync com Firestore nesta sess\xE3o por erro:",u),this.cloudDisabled=!0)}}),t))}getStatus(e){return this._state().statusMap[e]??"locked"}nodeProgress(e){let t=this._state().bestScoreByNode[e];return typeof t=="number"?Math.max(0,Math.min(100,Math.round(t))):this.getStatus(e)==="completed"?100:0}bestScore(e){return this._state().bestScoreByNode[e]??0}nodeXp(e){return this._state().xpByNode[e]??0}totalXp(){return this._state().totalXp}level(){return Math.floor(Math.sqrt(this.totalXp()))}xpToNextLevel(){let e=this.level(),t=Math.pow(e+1,2);return Math.max(0,t-this.totalXp())}progressToNextLevel(){let e=this.level(),t=Math.pow(e,2),i=Math.pow(e+1,2),r=this.totalXp()-t,o=i-t||1;return Math.round(r/o*100)}isAchievementUnlocked(e){return this.totalXp()>=e}unlockedAchievements(){return mre.filter(e=>this.totalXp()>=e)}submitScore(e,t,i){let r=Y({},this._state()),o=this.findNode(e);if(!o)throw new Error(`N\xF3 desconhecido: ${e}`);let s=Math.max(0,Math.min(100,Math.round(t/Math.max(1,i)*100))),a=r.bestScoreByNode[e]??0,c=a>=zP,l=s>=zP;s>a&&(r.bestScoreByNode[e]=s);let u=0,h=!1,p=!1;if(!c&&l){let g=e$[o.kind]??0,y=Math.round(s/100*g);r.xpByNode[e]=y,r.totalXp+=y,u=y,r.statusMap[e]="completed",p=!0,h=this.unlockNextFrom(e,r.statusMap)}else l||(!r.statusMap[e]||r.statusMap[e]==="locked")&&(r.statusMap[e]="unlocked");return r.statusMap=this.applyGates(r.statusMap),this._state.set(r),this.touchCloudSave(),{score:s,xpGain:u,unlockedNext:h,completed:p,passedNow:l}}completeById(e){let t=Y({},this._state()),i=this.findNode(e);if(!i)return;let r=t.statusMap[e]??"locked",o=t.bestScoreByNode[e]??0,s=o>=zP;if(t.statusMap[e]="completed",t.bestScoreByNode[e]=Math.max(o,100),!s){let c=e$[i.kind]??0;t.xpByNode[e]=c,t.totalXp+=c}this.unlockNextFrom(e,t.statusMap),t.statusMap=this.applyGates(t.statusMap),this._state.set(t),this.touchCloudSave()}doneCount(e,t=this._state().statusMap){let i=0;for(let r of e.nodes)(t[r.id]??"locked")==="completed"&&i++;return i}sectionProgress(e){let t=e.nodes.length||1;return Math.round(this.doneCount(e)/t*100)}isSectionCompleted(e,t=this._state().statusMap){return this.doneCount(e,t)===e.nodes.length}reset(){let e=this.emptyState();this._state.set(e),this.bootstrapUnlocks(),this.scheduleCloudSave(this._state(),500)}bootstrapUnlocks(){let e=Y({},this._state()),t=Y({},e.statusMap);for(let i=0;i<xs.length;i++){let r=xs[i];for(let o=0;o<r.nodes.length;o++){let s=r.nodes[o].id;i===0&&o===0?(!t[s]||t[s]==="locked")&&(t[s]="unlocked"):t[s]!=="completed"&&t[s]!=="unlocked"&&(t[s]="locked")}}e.statusMap=t,this._state.set(e)}applyGates(e){let t=Y({},e),i=xs[0].nodes[0]?.id;i&&(!t[i]||t[i]==="locked")&&(t[i]="unlocked");for(let r=0;r<xs.length;r++){let o=xs[r];for(let s=0;s<o.nodes.length;s++){let a=o.nodes[s].id;r===0&&s===0||t[a]!=="completed"&&t[a]!=="unlocked"&&(t[a]="locked")}}return t}unlockNextFrom(e,t){let i=this.findPosition(e);if(!i)return!1;let{section:r,index:o,sectionIdx:s}=i,a=r.nodes[o+1];if(a&&(t[a.id]??"locked")==="locked")return t[a.id]="unlocked",!0;let c=xs[s+1];if(c){let l=c.nodes[0];if((t[l.id]??"locked")==="locked")return t[l.id]="unlocked",!0}return!1}isCurrent(e,t){let i=e.nodes.findIndex(o=>this.getStatus(o.id)==="unlocked");return i!==-1?t===i:e.nodes.every(o=>this.getStatus(o.id)==="completed")?t===e.nodes.length-1:!1}routeFor(e){return _re[e]??"/trilha"}findNode(e){for(let t of xs){let i=t.nodes.find(r=>r.id===e);if(i)return i}}findPosition(e){for(let t=0;t<xs.length;t++){let i=xs[t],r=i.nodes.findIndex(o=>o.id===e);if(r>=0)return{section:i,index:r,sectionIdx:t}}}static \u0275fac=function(t){return new(t||n)(be(ni),be(Ro))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var t$=(n,e)=>e.id;function vre(n,e){n&1&&(I(0,"span",30),C(1,"\u{1F512}"),S())}function yre(n,e){n&1&&(I(0,"span",30),C(1,"\u2705"),S())}function bre(n,e){n&1&&(I(0,"div",32),C(1,"COME\xC7AR"),S())}function Ere(n,e){if(n&1&&(I(0,"div",26)(1,"button",27),Ee(2,"span",28),I(3,"span",29),C(4),S(),Le(5,vre,2,0,"span",30),Le(6,yre,2,0,"span",30),S(),Ee(7,"div",31),Le(8,bre,2,0,"div",32),S()),n&2){let t=e.$implicit,i=e.$index,r=ne().$implicit,o=ne();Ye("shift-left",i%2===0)("shift-right",i%2===1),L(),Ye("unit--lesson",t.kind==="lesson")("unit--game",t.kind==="game")("is-locked",o.getStatus(t.id)==="locked")("is-unlocked",o.getStatus(t.id)==="unlocked")("is-completed",o.getStatus(t.id)==="completed"),Ae("disabled",o.getStatus(t.id)==="locked")("routerLink",o.routeFor(t.id)),L(),uh("--p",o.progressOf(t.id)+"%"),L(2),Ie(t.emoji),L(),Ve(o.getStatus(t.id)==="locked"?5:-1),L(),Ve(o.getStatus(t.id)==="completed"?6:-1),L(),Ae("innerHTML",t.title,$D),L(),Ve(o.isCurrent(r,i)?8:-1)}}function wre(n,e){if(n&1&&(I(0,"section",20)(1,"div",21)(2,"h5",22),C(3),S(),I(4,"small",23),C(5),S()(),I(6,"div",24),Qt(7,Ere,9,23,"div",25,t$),S()()),n&2){let t=e.$implicit,i=ne();L(3),Ie(t.title),L(2),Hi("",i.doneCount(t),"/",t.nodes.length," conclu\xEDdos"),L(2),Xt(t.nodes)}}var jw=class n{constructor(e){this.progress=e}get sections(){return this.progress.sections}resetProgress(){this.progress.reset()}doneCount(e){return this.progress.doneCount(e)}sectionProgress(e){return this.progress.sectionProgress(e)}getStatus(e){return this.progress.getStatus(e)}progressOf(e){return this.progress.nodeProgress(e)}isCurrent(e,t){return this.progress.isCurrent(e,t)}routeFor(e){return this.progress.routeFor(e)}totalXp(){return this.progress.totalXp()}static \u0275fac=function(t){return new(t||n)(me(Ji))};static \u0275cmp=mt({type:n,selectors:[["app-trilha"]],decls:35,vars:1,consts:[[1,"container-fluid","vh-100","text-white","p-0","d-flex","trilha-wrapper"],[1,"sidebar","d-flex","flex-column","p-3"],[1,"fw-bold","text-white","mb-4"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["routerLink","/home",1,"nav-link","text-white"],["routerLink","/trilha",1,"nav-link","text-white","active"],["routerLink","/demonstrativos",1,"nav-link","text-white"],[1,"nav-item"],["routerLink","/conquistas",1,"nav-link","text-white"],[1,"flex-grow-1","trilha-main","overflow-auto"],[1,"trilha-topbar","d-flex","justify-content-between","align-items-center"],[1,"topbar-subtitle"],[1,"fw-semibold","text-success","m-0"],[1,"d-flex","align-items-center","gap-3"],[1,"xp-badge"],[1,"xp-label"],[1,"xp-value"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"trilha","container","py-2"],[1,"trilha__section","mb-5"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"trilha__title","m-0"],[1,"activity-count"],[1,"tower"],[1,"unit-wrap",3,"shift-left","shift-right"],[1,"unit-wrap"],["type","button",1,"unit",3,"disabled","routerLink"],[1,"ring"],[1,"icon"],[1,"state"],[1,"unit-label","text-center",3,"innerHTML"],[1,"start-badge"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"aside",1)(2,"h2",2),C(3,"MONEVA"),S(),I(4,"ul",3)(5,"li",4)(6,"a",5),C(7,"\u{1F3E0} Home"),S()(),I(8,"li",4)(9,"a",6),C(10,"\u{1F4B0} Trilha de Aprendizado"),S()(),I(11,"li",4)(12,"a",7),C(13,"\u{1F4CA} Demonstrativos"),S()(),I(14,"li",8)(15,"a",9),C(16,"\u{1F3C6} Conquistas"),S()()()(),I(17,"main",10)(18,"div",11)(19,"div")(20,"div",12),C(21,"TRILHA"),S(),I(22,"h3",13),C(23,"Trilha de Aprendizado"),S()(),I(24,"div",14)(25,"div",15)(26,"span",16),C(27,"XP total"),S(),I(28,"span",17),C(29),S()(),I(30,"button",18),ce("click",function(){return i.resetProgress()}),C(31," Resetar progresso "),S()()(),I(32,"div",19),Qt(33,wre,9,3,"section",20,t$),S()()()),t&2&&(L(29),Ie(i.totalXp()),L(4),Xt(i.sections))},dependencies:[Ki],styles:['@charset "UTF-8";body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif}.sidebar[_ngcontent-%COMP%]{width:250px;min-height:100vh;background:linear-gradient(180deg,#0a7a4f,#03462c);transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{letter-spacing:1px}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.95rem;padding:8px 12px;border-radius:8px;transition:background .3s,transform .2s}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);transform:translate(4px)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);font-weight:700;color:#00ff9a!important;border-left:4px solid #00ff9a;border-radius:8px 0 0 8px}.trilha-wrapper[_ngcontent-%COMP%]{background-color:#050505}.trilha-main[_ngcontent-%COMP%]{background-color:#0a0a0a;min-height:100vh;padding:0;display:flex;flex-direction:column}.trilha-topbar[_ngcontent-%COMP%]{position:sticky;top:0;left:0;right:0;z-index:10;padding:8px 24px 12px;margin:0 0 24px;background:#000;border-bottom:1px solid rgba(255,255,255,.06)}.topbar-subtitle[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.12em;color:#ffffff80;margin-bottom:2px}.xp-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:999px;background:#0f1f17;border:1px solid rgba(0,255,154,.6);box-shadow:0 0 12px #00ff9a26}.xp-label[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.16em;color:#b9ffe7}.xp-value[_ngcontent-%COMP%]{font-size:18px;font-weight:800;color:#00ff9a}[_ngcontent-%COMP%]:root{--mint: #00ff9a;--dark-1: #0c1411;--dark-2: #111a16;--dark-3: #17241d;--line: #2e4f42;--text-strong: #e7fff4}.trilha__title[_ngcontent-%COMP%]{font-size:30px;font-weight:800;color:#b9ffe7;letter-spacing:.3px}.activity-count[_ngcontent-%COMP%]{color:#00ff9a;font-size:20px}.tower[_ngcontent-%COMP%]{position:relative;margin-top:8px;display:grid;justify-items:center;grid-auto-rows:minmax(132px,auto);row-gap:40px;padding:4px 0 12px}.tower[_ngcontent-%COMP%]:before, .tower[_ngcontent-%COMP%]:after{display:none!important}.unit-wrap[_ngcontent-%COMP%]{position:relative;display:grid;place-items:center;min-height:132px;width:100%;max-width:520px;z-index:1}.unit-wrap.shift-left[_ngcontent-%COMP%]{transform:translate(-40px)}.unit-wrap.shift-right[_ngcontent-%COMP%]{transform:translate(40px)}@media (max-width: 576px){.unit-wrap.shift-left[_ngcontent-%COMP%], .unit-wrap.shift-right[_ngcontent-%COMP%]{transform:none}}.unit[_ngcontent-%COMP%]{top:15px;position:relative;z-index:1;border:0;border-radius:22px;width:168px;height:168px;background:linear-gradient(180deg,var(--dark-2),var(--dark-3));box-shadow:0 8px 28px #00000059;display:grid;place-items:center;gap:10px;padding:16px 12px 14px;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,outline-color .12s ease;outline:3px solid transparent}.unit--lesson[_ngcontent-%COMP%]{background:linear-gradient(180deg,#14241d,#0f1b16)}.unit--game[_ngcontent-%COMP%]{background:linear-gradient(180deg,#0f2c21,#0d1d17)}.unit.is-locked[_ngcontent-%COMP%]{filter:grayscale(1) opacity(.65);cursor:not-allowed}.unit.is-unlocked[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 14px 34px #00ff9a40;outline-color:#00ff9a66}.unit.is-completed[_ngcontent-%COMP%]{outline-color:#00ff9a}.unit[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{--p: 0%;position:absolute;top:16px;left:50%;transform:translate(-50%);width:96px;height:96px;border-radius:50%;background:conic-gradient(var(--mint) var(--p),rgba(255,255,255,.08) 0);box-shadow:0 0 16px #00ff9a2e;z-index:0}.unit[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:9px;background:radial-gradient(circle at 50% 35%,rgba(255,255,255,.1),transparent 60%),#0e1713;border-radius:50%}.unit[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:30px;font-size:45px;z-index:2}.unit[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;font-size:16px;z-index:2}.unit-label[_ngcontent-%COMP%]{top:14px;position:relative;z-index:2;margin-top:20px;max-width:800px;font-size:18px;font-weight:800;color:var(--text-strong);text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.45)}.start-badge[_ngcontent-%COMP%]{position:absolute;z-index:3;top:-5px;background:#fff;color:#151515;font-weight:900;font-size:15px;padding:4px 10px;border-radius:999px;letter-spacing:.4px;box-shadow:0 4px 14px #ffffff2e}@media (max-width: 576px){.unit[_ngcontent-%COMP%]{width:148px;height:148px}.unit[_ngcontent-%COMP%]   .ring[_ngcontent-%COMP%]{width:86px;height:86px;top:14px}.unit[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:40px}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-around}}']})};var Bw=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-saiba-mais"]],decls:83,vars:0,consts:[[1,"container-fluid","vh-100","bg-dark","text-white","p-0","d-flex","flex-column"],[1,"flex-grow-1","p-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-success"],[1,"text-light","mb-0"],[1,"card","text-white","p-4","mb-4",2,"background-color","#181c1f"],[1,"mb-3"],[1,"text-light"],[1,"text-success","fw-semibold","fst-italic"],[1,"row","g-4","mb-4"],[1,"col-md-4"],[1,"card","text-white","text-center","p-4","border-success",2,"background-color","#181c1f"],[1,"small","text-light"],[1,"row","mt-3"],[1,"col-md-6","mb-3"],[1,"d-flex","align-items-start"],[1,"me-3","fs-3","text-success"],[1,"small","mb-0","text-light"],[1,"text-center","mt-5","mb-3"],[1,"fw-bold","text-success","mb-2"],[1,"text-light","mb-4"],["routerLink","/login",1,"btn","btn-success","btn-lg","rounded-pill","px-5"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"main",1)(2,"div",2)(3,"div")(4,"h2",3),C(5,"O que \xE9 o Moneva?"),S(),I(6,"p",4),C(7,"Aprenda conceitos financeiros de forma simples, pr\xE1tica e gamificada."),S()()(),I(8,"div",5)(9,"h4",6),C(10,"\u{1F4A1} O que \xE9 Educa\xE7\xE3o Financeira?"),S(),I(11,"p",7),C(12," Educa\xE7\xE3o financeira \xE9 o processo de aprender a controlar seu dinheiro e us\xE1-lo como ferramenta para atingir seus objetivos. Ela envolve entender como equilibrar gastos, poupar, investir e planejar o futuro com seguran\xE7a. "),S(),I(13,"p",8),C(14," \u201CQuem entende como o dinheiro funciona, faz o dinheiro trabalhar a seu favor.\u201D "),S()(),I(15,"div",9)(16,"div",10)(17,"div",11)(18,"h5"),C(19,"\u{1F4B0} Controle de Gastos"),S(),I(20,"p",12),C(21,"Monitore seus gastos e descubra onde economizar de forma inteligente."),S()()(),I(22,"div",10)(23,"div",11)(24,"h5"),C(25,"\u{1F4C8} Planejamento"),S(),I(26,"p",12),C(27,"Estabele\xE7a metas claras e siga um plano financeiro adaptado \xE0 sua realidade."),S()()(),I(28,"div",10)(29,"div",11)(30,"h5"),C(31,"\u{1F3E6} Investimentos"),S(),I(32,"p",12),C(33,"Aprenda como investir seu dinheiro com seguran\xE7a e aumentar seu patrim\xF4nio."),S()()()(),I(34,"div",5)(35,"h4",6),C(36,"\u{1F680} Como o Moneva te ajuda"),S(),I(37,"p",7),C(38," O Moneva transforma o aprendizado financeiro em uma experi\xEAncia envolvente e divertida. Atrav\xE9s de trilhas interativas e desafios gamificados, voc\xEA aprende sobre or\xE7amento, investimentos e planejamento enquanto aplica o conhecimento na pr\xE1tica. "),S(),I(39,"div",13)(40,"div",14)(41,"div",15)(42,"span",16),C(43,"\u{1F3AF}"),S(),I(44,"div")(45,"h6",3),C(46,"Trilhas de Aprendizado"),S(),I(47,"p",17),C(48,"Acompanhe m\xF3dulos curtos e diretos sobre temas financeiros essenciais."),S()()()(),I(49,"div",14)(50,"div",15)(51,"span",16),C(52,"\u{1F48E}"),S(),I(53,"div")(54,"h6",3),C(55,"Sistema de Recompensas"),S(),I(56,"p",17),C(57,"Ganhe conquistas e pontos conforme evolui nas trilhas de conhecimento."),S()()()(),I(58,"div",14)(59,"div",15)(60,"span",16),C(61,"\u{1F4CA}"),S(),I(62,"div")(63,"h6",3),C(64,"Gestor Inteligente"),S(),I(65,"p",17),C(66,"Controle receitas e despesas com gr\xE1ficos e relat\xF3rios din\xE2micos."),S()()()(),I(67,"div",14)(68,"div",15)(69,"span",16),C(70,"\u{1F91D}"),S(),I(71,"div")(72,"h6",3),C(73,"Aprendizado Colaborativo"),S(),I(74,"p",17),C(75,"Compartilhe progresso e aprenda com a comunidade Moneva."),S()()()()()(),I(76,"div",18)(77,"h4",19),C(78,"\u{1F4BC} Transforme sua rela\xE7\xE3o com o dinheiro!"),S(),I(79,"p",20),C(80," Comece agora a construir uma vida financeira equilibrada e conquiste sua liberdade econ\xF4mica. "),S(),I(81,"button",21),C(82," \u{1F9E0} Come\xE7ar Aprendizado "),S()()()())},dependencies:[Ki],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;background-color:#151617;color:#fff;font-family:Poppins,sans-serif}.nav-link.active[_ngcontent-%COMP%]{font-weight:700;color:#0f8!important}.card[_ngcontent-%COMP%]{border-radius:14px;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 0 15px #00ff884d}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(90deg,#00b37e,#0f8);border:none}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#0f8,#00b37e)}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:#0f8}p[_ngcontent-%COMP%]{color:#cfcfcf}.card[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{color:#bdbdbd}main[_ngcontent-%COMP%]{overflow-y:auto;max-height:100vh}"]})};function Cre(n,e){if(n&1&&(I(0,"div",3),C(1),S()),n&2){let t=ne();L(),Ie(t.errorMsg)}}function Ire(n,e){n&1&&(I(0,"section",7)(1,"h5",11),C(2,"Sobre voc\xEA"),S(),I(3,"div",12)(4,"div",13)(5,"label",14),C(6,"G\xEAnero"),S(),I(7,"select",15)(8,"option",16),C(9,"Selecione..."),S(),I(10,"option",17),C(11,"Masculino"),S(),I(12,"option",18),C(13,"Feminino"),S(),I(14,"option",19),C(15,"Outro"),S(),I(16,"option",20),C(17,"Prefiro n\xE3o dizer"),S()()(),I(18,"div",13)(19,"label",14),C(20,"Renda mensal (R$)"),S(),Ee(21,"input",21),S()()())}function xre(n,e){n&1&&(I(0,"section",7)(1,"h5",11),C(2,"Objetivos e sonhos"),S(),I(3,"div",1)(4,"label",14),C(5,"Objetivos de vida"),S(),Ee(6,"textarea",22),S(),I(7,"div",1)(8,"label",14),C(9,"Objetivos financeiros"),S(),Ee(10,"textarea",23),S(),I(11,"div",1)(12,"label",14),C(13,"Sonhos que deseja realizar"),S(),Ee(14,"textarea",24),S()())}function Dre(n,e){n&1&&(I(0,"section",7)(1,"h5",11),C(2,"Sua realidade financeira hoje"),S(),I(3,"div",1)(4,"label",14),C(5,"O que mais te Incomoda?"),S(),Ee(6,"textarea",25),S(),I(7,"div",1)(8,"label",14),C(9,"Situa\xE7\xE3o atual"),S(),I(10,"select",26)(11,"option",16),C(12,"Selecione..."),S(),I(13,"option",27),C(14,"Devendo"),S(),I(15,"option",28),C(16,"N\xE3o consigo economizar"),S(),I(17,"option",29),C(18,"Equilibrado"),S(),I(19,"option",30),C(20,"J\xE1 invisto"),S()()()())}function Tre(n,e){n&1&&(I(0,"section",7)(1,"h5",11),C(2,"Confirma\xE7\xE3o"),S(),I(3,"p",31),C(4,"Revise as suas respostas. Voc\xEA poder\xE1 edit\xE1-las depois no perfil."),S()())}var i_=class n{fb=z(kw);profileSvc=z(_i);router=z(pt);step=1;loading=!1;errorMsg="";form=this.fb.group({gender:["",Ft.required],monthlyIncome:[null,[Ft.required,Ft.min(0)]],lifeGoals:["",[Ft.required,Ft.minLength(5)]],financialGoals:["",[Ft.required,Ft.minLength(5)]],dreams:["",[Ft.required,Ft.minLength(5)]],pains:["",[Ft.required,Ft.minLength(5)]],currentStatus:["",Ft.required]});next(){return A(this,null,function*(){if(this.validateCurrentStep()){if(this.step<4){this.step++;return}yield this.finish()}})}prev(){this.step>1&&this.step--}validateCurrentStep(){let t={1:["gender","monthlyIncome"],2:["lifeGoals","financialGoals","dreams"],3:["pains","currentStatus"],4:[]}[this.step];return t.forEach(i=>this.form.get(i)?.markAsTouched()),t.every(i=>this.form.get(i)?.valid)}toProfilePayload(){let e=this.form.getRawValue(),t=i=>i&&String(i).trim().length>0?String(i).trim():void 0;return{completedOnboarding:!0,gender:t(e.gender),monthlyIncome:e.monthlyIncome??void 0,lifeGoals:t(e.lifeGoals),financialGoals:t(e.financialGoals),dreams:t(e.dreams),pains:t(e.pains),currentStatus:t(e.currentStatus)}}finish(){return A(this,null,function*(){if(!this.form.invalid){this.loading=!0,this.errorMsg="";try{yield this.profileSvc.upsertProfile(this.toProfilePayload()),yield this.router.navigateByUrl("/home")}catch(e){console.error(e),this.errorMsg="N\xE3o foi poss\xEDvel salvar suas respostas. Tente novamente."}finally{this.loading=!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-onboarding"]],decls:25,vars:17,consts:[[1,"container","text-light","py-4"],[1,"mb-3"],[1,"text-white","mb-4"],[1,"alert","alert-warning"],[1,"stepper","mb-4"],[1,"step"],[3,"ngSubmit","formGroup"],[1,"card","p-3","mb-3","formulario","border-0"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-outline-light",3,"click","disabled"],["type","submit",1,"btn","btn-success","ms-auto",3,"disabled"],[1,"mb-3","text-white"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label","text-white"],["formControlName","gender",1,"form-select"],["value","","disabled",""],["value","masculino"],["value","feminino"],["value","outro"],["value","prefiro_nao_dizer"],["type","number","formControlName","monthlyIncome","min","0",1,"form-control"],["rows","2","formControlName","lifeGoals",1,"form-control"],["rows","2","formControlName","financialGoals",1,"form-control"],["rows","2","formControlName","dreams",1,"form-control"],["rows","3","formControlName","pains",1,"form-control"],["formControlName","currentStatus",1,"form-select"],["value","devendo"],["value","sem_economia"],["value","equilibrado"],["value","investindo"],[1,"mb-2","text-white"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"h2",1),C(2,"Bem-vindo! Vamos personalizar sua experi\xEAncia"),S(),I(3,"p",2),C(4,"Preencha as etapas abaixo. Leva menos de 2 minutos e voc\xEA pode edit\xE1-las depois!"),S(),Le(5,Cre,2,1,"div",3),I(6,"div",4)(7,"div",5),C(8,"1"),S(),I(9,"div",5),C(10,"2"),S(),I(11,"div",5),C(12,"3"),S(),I(13,"div",5),C(14,"4"),S()(),I(15,"form",6),ce("ngSubmit",function(){return i.next()}),Le(16,Ire,22,0,"section",7),Le(17,xre,15,0,"section",7),Le(18,Dre,21,0,"section",7),Le(19,Tre,5,0,"section",7),I(20,"div",8)(21,"button",9),ce("click",function(){return i.prev()}),C(22,"Voltar"),S(),I(23,"button",10),C(24),S()()()()),t&2&&(L(5),Ve(i.errorMsg?5:-1),L(2),Ye("is-active",i.step>=1),L(2),Ye("is-active",i.step>=2),L(2),Ye("is-active",i.step>=3),L(2),Ye("is-active",i.step>=4),L(2),Ae("formGroup",i.form),L(),Ve(i.step===1?16:-1),L(),Ve(i.step===2?17:-1),L(),Ve(i.step===3?18:-1),L(),Ve(i.step===4?19:-1),L(2),Ae("disabled",i.step===1),L(2),Ae("disabled",i.loading),L(),Ze(" ",i.step<4?"Continuar":i.loading?"Salvando...":"Concluir"," "))},dependencies:[as,Ow,Mw,Pw,Rw,Jc,Zm,Tf,Df,Dw,n_,e_,t_],styles:["[_ngcontent-%COMP%]:root{--bg-900: #0f1113;--bg-800: #1a1d20;--bg-700: #202428;--text: #f1f5f9;--muted: #a7b0b7;--green: #00c053;--green-strong: #00C053}[_nghost-%COMP%]{display:block;min-height:100vh;background:radial-gradient(1000px 600px at 100% 100%,#00c053,#0f1113);color:var(--text)}.stepper[_ngcontent-%COMP%]{display:flex;gap:8px}.step[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#2a2f35;color:#fff;font-weight:700}.step.is-active[_ngcontent-%COMP%]{background:#00c053;color:#0f1113}.formulario[_ngcontent-%COMP%]{color:#0f1113;background-color:#262a2f}"]})};function s_(n){return n+.5|0}var Zc=(n,e,t)=>Math.max(Math.min(n,t),e);function r_(n){return Zc(s_(n*2.55),0,255)}function el(n){return Zc(s_(n*255),0,255)}function xa(n){return Zc(s_(n/2.55)/100,0,1)}function n$(n){return Zc(s_(n*100),0,100)}var Kr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qP=[..."0123456789ABCDEF"],Sre=n=>qP[n&15],Are=n=>qP[(n&240)>>4]+qP[n&15],Uw=n=>(n&240)>>4===(n&15),Mre=n=>Uw(n.r)&&Uw(n.g)&&Uw(n.b)&&Uw(n.a);function Pre(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Kr[n[1]]*17,g:255&Kr[n[2]]*17,b:255&Kr[n[3]]*17,a:e===5?Kr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Kr[n[1]]<<4|Kr[n[2]],g:Kr[n[3]]<<4|Kr[n[4]],b:Kr[n[5]]<<4|Kr[n[6]],a:e===9?Kr[n[7]]<<4|Kr[n[8]]:255})),t}var Rre=(n,e)=>n<255?e(n):"";function kre(n){var e=Mre(n)?Sre:Are;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Rre(n.a,e):void 0}var Ore=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function s$(n,e,t){let i=e*Math.min(t,1-t),r=(o,s=(o+n/30)%12)=>t-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function Nre(n,e,t){let i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Fre(n,e,t){let i=s$(n,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Lre(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function WP(n){let t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),s=Math.min(t,i,r),a=(o+s)/2,c,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),c=Lre(t,i,r,u,o),c=c*60+.5),[c|0,l||0,a]}function GP(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(el)}function KP(n,e,t){return GP(s$,n,e,t)}function Vre(n,e,t){return GP(Fre,n,e,t)}function jre(n,e,t){return GP(Nre,n,e,t)}function a$(n){return(n%360+360)%360}function Bre(n){let e=Ore.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?r_(+e[5]):el(+e[5]));let r=a$(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=Vre(r,o,s):e[1]==="hsv"?i=jre(r,o,s):i=KP(r,o,s),{r:i[0],g:i[1],b:i[2],a:t}}function Ure(n,e){var t=WP(n);t[0]=a$(t[0]+e),t=KP(t),n.r=t[0],n.g=t[1],n.b=t[2]}function $re(n){if(!n)return;let e=WP(n),t=e[0],i=n$(e[1]),r=n$(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${xa(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}var i$={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},r$={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zre(){let n={},e=Object.keys(r$),t=Object.keys(i$),i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<t.length;r++)o=t[r],a=a.replace(o,i$[o]);o=parseInt(r$[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var $w;function Hre(n){$w||($w=zre(),$w.transparent=[0,0,0,0]);let e=$w[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var qre=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wre(n){let e=qre.exec(n),t=255,i,r,o;if(e){if(e[7]!==i){let s=+e[7];t=e[8]?r_(s):Zc(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?r_(i):Zc(i,0,255)),r=255&(e[4]?r_(r):Zc(r,0,255)),o=255&(e[6]?r_(o):Zc(o,0,255)),{r:i,g:r,b:o,a:t}}}function Gre(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xa(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var HP=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Mf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Kre(n,e,t){let i=Mf(xa(n.r)),r=Mf(xa(n.g)),o=Mf(xa(n.b));return{r:el(HP(i+t*(Mf(xa(e.r))-i))),g:el(HP(r+t*(Mf(xa(e.g))-r))),b:el(HP(o+t*(Mf(xa(e.b))-o))),a:n.a+t*(e.a-n.a)}}function zw(n,e,t){if(n){let i=WP(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=KP(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function c$(n,e){return n&&Object.assign(e||{},n)}function o$(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=el(n[3]))):(e=c$(n,{r:0,g:0,b:0,a:1}),e.a=el(e.a)),e}function Yre(n){return n.charAt(0)==="r"?Wre(n):Bre(n)}var o_=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=o$(e):t==="string"&&(i=Pre(e)||Hre(e)||Yre(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=c$(this._rgb);return e&&(e.a=xa(e.a)),e}set rgb(e){this._rgb=o$(e)}rgbString(){return this._valid?Gre(this._rgb):void 0}hexString(){return this._valid?kre(this._rgb):void 0}hslString(){return this._valid?$re(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,r=e.rgb,o,s=t===o?.5:t,a=2*s-1,c=i.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,i.r=255&l*i.r+o*r.r+.5,i.g=255&l*i.g+o*r.g+.5,i.b=255&l*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Kre(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=el(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=s_(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zw(this._rgb,2,e),this}darken(e){return zw(this._rgb,2,-e),this}saturate(e){return zw(this._rgb,1,e),this}desaturate(e){return zw(this._rgb,1,-e),this}rotate(e){return Ure(this._rgb,e),this}};function Ss(){}var y$=(()=>{let n=0;return()=>n++})();function et(n){return n==null}function Ht(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function it(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function un(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zi(n,e){return un(n)?n:e}function Be(n,e){return typeof n>"u"?e:n}var b$=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,JP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Vt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Et(n,e,t,i){let r,o,s;if(Ht(n))if(o=n.length,i)for(r=o-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<o;r++)e.call(t,n[r],r);else if(it(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)e.call(t,n[s[r]],s[r])}function l_(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gw(n){if(Ht(n))return n.map(Gw);if(it(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,r=0;for(;r<i;++r)e[t[r]]=Gw(n[t[r]]);return e}return n}function E$(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Qre(n,e,t,i){if(!E$(n))return;let r=e[n],o=t[n];it(r)&&it(o)?Rf(r,o,i):e[n]=Gw(o)}function Rf(n,e,t){let i=Ht(e)?e:[e],r=i.length;if(!it(n))return n;t=t||{};let o=t.merger||Qre,s;for(let a=0;a<r;++a){if(s=i[a],!it(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)o(c[l],n,s,t)}return n}function Of(n,e){return Rf(n,e,{merger:Xre})}function Xre(n,e,t){if(!E$(n))return;let i=e[n],r=t[n];it(i)&&it(r)?Of(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Gw(r))}var l$={"":n=>n,x:n=>n.x,y:n=>n.y};function Jre(n){let e=n.split("."),t=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Zre(n){let e=Jre(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function Sa(n,e){return(l$[e]||(l$[e]=Zre(e)))(n)}function Xw(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Nf=n=>typeof n<"u",Da=n=>typeof n=="function",ZP=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function w$(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var ut=Math.PI,qt=2*ut,eoe=qt+ut,Kw=Number.POSITIVE_INFINITY,toe=ut/180,mn=ut/2,Gu=ut/4,u$=ut*2/3,Ta=Math.log10,ko=Math.sign;function Ff(n,e,t){return Math.abs(n-e)<t}function eR(n){let e=Math.round(n);n=Ff(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Ta(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function C$(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function noe(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Qu(n){return!noe(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function I$(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function tR(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Yr(n){return n*(ut/180)}function Jw(n){return n*(180/ut)}function nR(n){if(!un(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function iR(n,e){let t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i),o=Math.atan2(i,t);return o<-.5*ut&&(o+=qt),{angle:o,distance:r}}function Yw(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ioe(n,e){return(n-e+eoe)%qt-ut}function ri(n){return(n%qt+qt)%qt}function Lf(n,e,t,i){let r=ri(n),o=ri(e),s=ri(t),a=ri(o-r),c=ri(s-r),l=ri(r-o),u=ri(r-s);return r===o||r===s||i&&o===s||a>c&&l<u}function qn(n,e,t){return Math.max(e,Math.min(t,n))}function x$(n){return qn(n,-32768,32767)}function As(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Zw(n,e,t){t=t||(s=>n[s]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}var Ds=(n,e,t,i)=>Zw(n,t,i?r=>{let o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),D$=(n,e,t)=>Zw(n,t,i=>n[i][e]>=t);function T$(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}var S$=["push","pop","shift","splice","unshift"];function A$(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),S$.forEach(t=>{let i="_onData"+Xw(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function rR(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(S$.forEach(o=>{delete n[o]}),delete n._chartjs)}function oR(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var sR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function aR(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,sR.call(window,()=>{i=!1,n.apply(e,t)}))}}function M$(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var eC=n=>n==="start"?"left":n==="end"?"right":"center",oi=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,P$=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function cR(n,e,t){let i=e.length,r=0,o=i;if(n._sorted){let{iScale:s,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=s.axis,{min:h,max:p,minDefined:g,maxDefined:y}=s.getUserBounds();if(g){if(r=Math.min(Ds(c,u,h).lo,t?i:Ds(e,u,s.getPixelForValue(h)).lo),l){let E=c.slice(0,r+1).reverse().findIndex(b=>!et(b[a.axis]));r-=Math.max(0,E)}r=qn(r,0,i-1)}if(y){let E=Math.max(Ds(c,s.axis,p,!0).hi+1,t?0:Ds(e,u,s.getPixelForValue(p),!0).hi+1);if(l){let b=c.slice(E-1).findIndex(M=>!et(M[a.axis]));E+=Math.max(0,b)}o=qn(E,r,i)-r}else o=i-r}return{start:r,count:o}}function lR(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;let o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),o}var Hw=n=>n===0||n===1,d$=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*qt/t)),h$=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*qt/t)+1,Pf={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*mn)+1,easeOutSine:n=>Math.sin(n*mn),easeInOutSine:n=>-.5*(Math.cos(ut*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Hw(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Hw(n)?n:d$(n,.075,.3),easeOutElastic:n=>Hw(n)?n:h$(n,.075,.3),easeInOutElastic(n){return Hw(n)?n:n<.5?.5*d$(n*2,.1125,.45):.5+.5*h$(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Pf.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Pf.easeInBounce(n*2)*.5:Pf.easeOutBounce(n*2-1)*.5+.5};function uR(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dR(n){return uR(n)?n:new o_(n)}function YP(n){return uR(n)?n:new o_(n).saturate(.5).darken(.1).hexString()}var roe=["x","y","borderWidth","radius","tension"],ooe=["color","borderColor","backgroundColor"];function soe(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:ooe},numbers:{type:"number",properties:roe}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aoe(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var f$=new Map;function coe(n,e){e=e||{};let t=n+JSON.stringify(e),i=f$.get(t);return i||(i=new Intl.NumberFormat(n,e),f$.set(t,i)),i}function Vf(n,e,t){return coe(e,t).format(n)}var R$={values(n){return Ht(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,r,o=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),o=loe(n,t)}let s=Ta(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Vf(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";let i=t[e].significand||n/Math.pow(10,Math.floor(Ta(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?R$.numeric.call(this,n,e,t):""}};function loe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var u_={formatters:R$};function uoe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:u_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var il=Object.create(null),tC=Object.create(null);function a_(n,e){if(!e)return n;let t=e.split(".");for(let i=0,r=t.length;i<r;++i){let o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function QP(n,e,t){return typeof e=="string"?Rf(a_(n,e),t):Rf(a_(n,""),e)}var XP=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>YP(r.backgroundColor),this.hoverBorderColor=(i,r)=>YP(r.borderColor),this.hoverColor=(i,r)=>YP(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return QP(this,e,t)}get(e){return a_(this,e)}describe(e,t){return QP(tC,e,t)}override(e,t){return QP(il,e,t)}route(e,t,i,r){let o=a_(this,e),s=a_(this,i),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=s[r];return it(c)?Object.assign({},l,c):Be(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},Zt=new XP({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[soe,aoe,uoe]);function doe(n){return!n||et(n.size)||et(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function c_(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function k$(n,e,t,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let s=0,a=t.length,c,l,u,h,p;for(c=0;c<a;c++)if(h=t[c],h!=null&&!Ht(h))s=c_(n,r,o,s,h);else if(Ht(h))for(l=0,u=h.length;l<u;l++)p=h[l],p!=null&&!Ht(p)&&(s=c_(n,r,o,s,p));n.restore();let g=o.length/2;if(g>t.length){for(c=0;c<g;c++)delete r[o[c]];o.splice(0,g)}return s}function rl(n,e,t){let i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function hR(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function nC(n,e,t,i){fR(n,e,t,i,null)}function fR(n,e,t,i,r){let o,s,a,c,l,u,h,p,g=e.pointStyle,y=e.rotation,E=e.radius,b=(y||0)*toe;if(g&&typeof g=="object"&&(o=g.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(b),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),g){default:r?n.ellipse(t,i,r/2,E,0,0,qt):n.arc(t,i,E,0,qt),n.closePath();break;case"triangle":u=r?r/2:E,n.moveTo(t+Math.sin(b)*u,i-Math.cos(b)*E),b+=u$,n.lineTo(t+Math.sin(b)*u,i-Math.cos(b)*E),b+=u$,n.lineTo(t+Math.sin(b)*u,i-Math.cos(b)*E),n.closePath();break;case"rectRounded":l=E*.516,c=E-l,s=Math.cos(b+Gu)*c,h=Math.cos(b+Gu)*(r?r/2-l:c),a=Math.sin(b+Gu)*c,p=Math.sin(b+Gu)*(r?r/2-l:c),n.arc(t-h,i-a,l,b-ut,b-mn),n.arc(t+p,i-s,l,b-mn,b),n.arc(t+h,i+a,l,b,b+mn),n.arc(t-p,i+s,l,b+mn,b+ut),n.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*E,u=r?r/2:c,n.rect(t-u,i-c,2*u,2*c);break}b+=Gu;case"rectRot":h=Math.cos(b)*(r?r/2:E),s=Math.cos(b)*E,a=Math.sin(b)*E,p=Math.sin(b)*(r?r/2:E),n.moveTo(t-h,i-a),n.lineTo(t+p,i-s),n.lineTo(t+h,i+a),n.lineTo(t-p,i+s),n.closePath();break;case"crossRot":b+=Gu;case"cross":h=Math.cos(b)*(r?r/2:E),s=Math.cos(b)*E,a=Math.sin(b)*E,p=Math.sin(b)*(r?r/2:E),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s);break;case"star":h=Math.cos(b)*(r?r/2:E),s=Math.cos(b)*E,a=Math.sin(b)*E,p=Math.sin(b)*(r?r/2:E),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s),b+=Gu,h=Math.cos(b)*(r?r/2:E),s=Math.cos(b)*E,a=Math.sin(b)*E,p=Math.sin(b)*(r?r/2:E),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s);break;case"line":s=r?r/2:Math.cos(b)*E,a=Math.sin(b)*E,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(b)*(r?r/2:E),i+Math.sin(b)*E);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ts(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function d_(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function h_(n){n.restore()}function O$(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){let o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function N$(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function hoe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),et(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function foe(n,e,t,i,r){if(r.strikethrough||r.underline){let o=n.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,u),n.lineTo(a,u),n.stroke()}}function poe(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function ol(n,e,t,i,r,o={}){let s=Ht(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(n.save(),n.font=r.string,hoe(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&poe(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),et(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,t,i,o.maxWidth)),n.fillText(l,t,i,o.maxWidth),foe(n,t,i,l,o),i+=Number(r.lineHeight);n.restore()}function jf(n,e){let{x:t,y:i,w:r,h:o,radius:s}=e;n.arc(t+s.topLeft,i+s.topLeft,s.topLeft,1.5*ut,ut,!0),n.lineTo(t,i+o-s.bottomLeft),n.arc(t+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,ut,mn,!0),n.lineTo(t+r-s.bottomRight,i+o),n.arc(t+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,mn,0,!0),n.lineTo(t+r,i+s.topRight),n.arc(t+r-s.topRight,i+s.topRight,s.topRight,0,-mn,!0),n.lineTo(t+s.topLeft,i)}var goe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,moe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _oe(n,e){let t=(""+n).match(goe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var voe=n=>+n||0;function iC(n,e){let t={},i=it(e),r=i?Object.keys(e):e,o=it(n)?i?s=>Be(n[s],n[e[s]]):s=>n[s]:()=>n;for(let s of r)t[s]=voe(o(s));return t}function pR(n){return iC(n,{top:"y",right:"x",bottom:"y",left:"x"})}function sl(n){return iC(n,["topLeft","topRight","bottomLeft","bottomRight"])}function si(n){let e=pR(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kn(n,e){n=n||{},e=e||Zt.font;let t=Be(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Be(n.style,e.style);i&&!(""+i).match(moe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Be(n.family,e.family),lineHeight:_oe(Be(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Be(n.weight,e.weight),string:""};return r.string=doe(r),r}function Bf(n,e,t,i){let r=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&Ht(a)&&(a=a[t%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function F$(n,e,t){let{min:i,max:r}=n,o=JP(e,(r-i)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function Aa(n,e){return Object.assign(Object.create(n),e)}function rC(n,e=[""],t,i,r=()=>n[0]){let o=t||n;typeof i>"u"&&(i=j$("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>rC([a,...n],e,o,i)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return L$(a,c,()=>Doe(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return g$(a).includes(c)},ownKeys(a){return g$(a)},set(a,c,l){let u=a._storage||(a._storage=r());return a[c]=u[c]=l,delete a._keys,!0}})}function Yu(n,e,t,i){let r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:gR(n,i),setContext:o=>Yu(n,o,t,i),override:o=>Yu(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return L$(o,s,()=>boe(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function gR(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Da(t)?t:()=>t,isIndexable:Da(i)?i:()=>i}}var yoe=(n,e)=>n?n+Xw(e):e,mR=(n,e)=>it(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function L$(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let i=t();return n[e]=i,i}function boe(n,e,t){let{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n,a=i[e];return Da(a)&&s.isScriptable(e)&&(a=Eoe(e,a,n,t)),Ht(a)&&a.length&&(a=woe(e,a,n,s.isIndexable)),mR(e,a)&&(a=Yu(a,r,o&&o[e],s)),a}function Eoe(n,e,t,i){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(o,s||i);return a.delete(n),mR(n,c)&&(c=_R(r._scopes,r,n,c)),c}function woe(n,e,t,i){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(it(e[0])){let c=e,l=r._scopes.filter(u=>u!==c);e=[];for(let u of c){let h=_R(l,r,n,u);e.push(Yu(h,o,s&&s[n],a))}}return e}function V$(n,e,t){return Da(n)?n(e,t):n}var Coe=(n,e)=>n===!0?e:typeof n=="string"?Sa(e,n):void 0;function Ioe(n,e,t,i,r){for(let o of e){let s=Coe(t,o);if(s){n.add(s);let a=V$(s._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(s===!1&&typeof i<"u"&&t!==i)return null}return!1}function _R(n,e,t,i){let r=e._rootScopes,o=V$(e._fallback,t,i),s=[...n,...r],a=new Set;a.add(i);let c=p$(a,s,t,o||t,i);return c===null||typeof o<"u"&&o!==t&&(c=p$(a,s,o,c,i),c===null)?!1:rC(Array.from(a),[""],r,o,()=>xoe(e,t,i))}function p$(n,e,t,i,r){for(;t;)t=Ioe(n,e,t,i,r);return t}function xoe(n,e,t){let i=n._getTarget();e in i||(i[e]={});let r=i[e];return Ht(r)&&it(t)?t:r||{}}function Doe(n,e,t,i){let r;for(let o of e)if(r=j$(yoe(o,n),t),typeof r<"u")return mR(n,r)?_R(t,i,n,r):r}function j$(n,e){for(let t of e){if(!t)continue;let i=t[n];if(typeof i<"u")return i}}function g$(n){let e=n._keys;return e||(e=n._keys=Toe(n._scopes)),e}function Toe(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function vR(n,e,t,i){let{iScale:r}=n,{key:o="r"}=this._parsing,s=new Array(i),a,c,l,u;for(a=0,c=i;a<c;++a)l=a+t,u=e[l],s[a]={r:r.parse(Sa(u,o),l)};return s}var Soe=Number.EPSILON||1e-14,kf=(n,e)=>e<n.length&&!n[e].skip&&n[e],B$=n=>n==="x"?"y":"x";function Aoe(n,e,t,i){let r=n.skip?e:n,o=e,s=t.skip?e:t,a=Yw(o,r),c=Yw(s,o),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let h=i*l,p=i*u;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function Moe(n,e,t){let i=n.length,r,o,s,a,c,l=kf(n,0);for(let u=0;u<i-1;++u)if(c=l,l=kf(n,u+1),!(!c||!l)){if(Ff(e[u],0,Soe)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],o=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=r*s*e[u],t[u+1]=o*s*e[u])}}function Poe(n,e,t="x"){let i=B$(t),r=n.length,o,s,a,c=kf(n,0);for(let l=0;l<r;++l){if(s=a,a=c,c=kf(n,l+1),!a)continue;let u=a[t],h=a[i];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${i}`]=h-o*e[l]),c&&(o=(c[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${i}`]=h+o*e[l])}}function Roe(n,e="x"){let t=B$(e),i=n.length,r=Array(i).fill(0),o=Array(i),s,a,c,l=kf(n,0);for(s=0;s<i;++s)if(a=c,c=l,l=kf(n,s+1),!!c){if(l){let u=l[e]-c[e];r[s]=u!==0?(l[t]-c[t])/u:0}o[s]=a?l?ko(r[s-1])!==ko(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}Moe(n,r,o),Poe(n,o,e)}function qw(n,e,t){return Math.max(Math.min(n,t),e)}function koe(n,e){let t,i,r,o,s,a=Ts(n[0],e);for(t=0,i=n.length;t<i;++t)s=o,o=a,a=t<i-1&&Ts(n[t+1],e),o&&(r=n[t],s&&(r.cp1x=qw(r.cp1x,e.left,e.right),r.cp1y=qw(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=qw(r.cp2x,e.left,e.right),r.cp2y=qw(r.cp2y,e.top,e.bottom)))}function U$(n,e,t,i,r){let o,s,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")Roe(n,r);else{let l=i?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=Aoe(l,a,n[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&koe(n,t)}function oC(){return typeof window<"u"&&typeof document<"u"}function sC(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Qw(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var aC=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Ooe(n,e){return aC(n).getPropertyValue(e)}var Noe=["top","right","bottom","left"];function Ku(n,e,t){let i={};t=t?"-"+t:"";for(let r=0;r<4;r++){let o=Noe[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Foe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Loe(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i,s=!1,a,c;if(Foe(r,o,n.target))a=r,c=o;else{let l=e.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function al(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,r=aC(t),o=r.boxSizing==="border-box",s=Ku(r,"padding"),a=Ku(r,"border","width"),{x:c,y:l,box:u}=Loe(n,t),h=s.left+(u&&a.left),p=s.top+(u&&a.top),{width:g,height:y}=e;return o&&(g-=s.width+a.width,y-=s.height+a.height),{x:Math.round((c-h)/g*t.width/i),y:Math.round((l-p)/y*t.height/i)}}function Voe(n,e,t){let i,r;if(e===void 0||t===void 0){let o=n&&sC(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{let s=o.getBoundingClientRect(),a=aC(o),c=Ku(a,"border","width"),l=Ku(a,"padding");e=s.width-l.width-c.width,t=s.height-l.height-c.height,i=Qw(a.maxWidth,o,"clientWidth"),r=Qw(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Kw,maxHeight:r||Kw}}var nl=n=>Math.round(n*10)/10;function $$(n,e,t,i){let r=aC(n),o=Ku(r,"margin"),s=Qw(r.maxWidth,n,"clientWidth")||Kw,a=Qw(r.maxHeight,n,"clientHeight")||Kw,c=Voe(n,e,t),{width:l,height:u}=c;if(r.boxSizing==="content-box"){let p=Ku(r,"border","width"),g=Ku(r,"padding");l-=g.width+p.width,u-=g.height+p.height}return l=Math.max(0,l-o.width),u=Math.max(0,i?l/i:u-o.height),l=nl(Math.min(l,s,c.maxWidth)),u=nl(Math.min(u,a,c.maxHeight)),l&&!u&&(u=nl(l/2)),(e!==void 0||t!==void 0)&&i&&c.height&&u>c.height&&(u=c.height,l=nl(Math.floor(u*i))),{width:l,height:u}}function yR(n,e,t){let i=e||1,r=nl(n.height*i),o=nl(n.width*i);n.height=nl(n.height),n.width=nl(n.width);let s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var z$=(function(){let n=!1;try{let e={get passive(){return n=!0,!1}};oC()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function bR(n,e){let t=Ooe(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function tl(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function H$(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function q$(n,e,t,i){let r={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},s=tl(n,r,t),a=tl(r,o,t),c=tl(o,e,t),l=tl(s,a,t),u=tl(a,c,t);return tl(l,u,t)}var joe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Boe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Xu(n,e,t){return n?joe(e,t):Boe()}function ER(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function wR(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function W$(n){return n==="angle"?{between:Lf,compare:ioe,normalize:ri}:{between:As,compare:(e,t)=>e-t,normalize:e=>e}}function m$({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Uoe(n,e,t){let{property:i,start:r,end:o}=t,{between:s,normalize:a}=W$(i),c=e.length,{start:l,end:u,loop:h}=n,p,g;if(h){for(l+=c,u+=c,p=0,g=c;p<g&&s(a(e[l%c][i]),r,o);++p)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:n.style}}function CR(n,e,t){if(!t)return[n];let{property:i,start:r,end:o}=t,s=e.length,{compare:a,between:c,normalize:l}=W$(i),{start:u,end:h,loop:p,style:g}=Uoe(n,e,t),y=[],E=!1,b=null,M,O,B,q=()=>c(r,B,M)&&a(r,B)!==0,H=()=>a(o,M)===0||c(o,B,M),G=()=>E||q(),R=()=>!E||H();for(let x=u,P=u;x<=h;++x)O=e[x%s],!O.skip&&(M=l(O[i]),M!==B&&(E=c(M,r,o),b===null&&G()&&(b=a(M,r)===0?x:P),b!==null&&R()&&(y.push(m$({start:b,end:x,loop:p,count:s,style:g})),b=null),P=x,B=M));return b!==null&&y.push(m$({start:b,end:h,loop:p,count:s,style:g})),y}function IR(n,e){let t=[],i=n.segments;for(let r=0;r<i.length;r++){let o=CR(i[r],n.points,e);o.length&&t.push(...o)}return t}function $oe(n,e,t,i){let r=0,o=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&n[o%e].skip;)o--;return o%=e,{start:r,end:o}}function zoe(n,e,t,i){let r=n.length,o=[],s=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%r];l.skip||l.stop?a.skip||(i=!1,o.push({start:e%r,end:(c-1)%r,loop:i}),e=s=l.stop?c:null):(s=c,a.skip&&(e=c)),a=l}return s!==null&&o.push({start:e%r,end:s%r,loop:i}),o}function G$(n,e){let t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];let o=!!n._loop,{start:s,end:a}=$oe(t,r,o,i);if(i===!0)return _$(n,[{start:s,end:a,loop:o}],t,e);let c=a<s?a+r:a,l=!!n._fullLoop&&s===0&&a===r-1;return _$(n,zoe(t,s,c,l),t,e)}function _$(n,e,t,i){return!i||!i.setContext||!t?e:Hoe(n,e,t,i)}function Hoe(n,e,t,i){let r=n._chart.getContext(),o=v$(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=t.length,l=[],u=o,h=e[0].start,p=h;function g(y,E,b,M){let O=a?-1:1;if(y!==E){for(y+=c;t[y%c].skip;)y-=O;for(;t[E%c].skip;)E+=O;y%c!==E%c&&(l.push({start:y%c,end:E%c,loop:b,style:M}),u=M,h=E%c)}}for(let y of e){h=a?h:y.start;let E=t[h%c],b;for(p=h+1;p<=y.end;p++){let M=t[p%c];b=v$(i.setContext(Aa(r,{type:"segment",p0:E,p1:M,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),qoe(b,u)&&g(h,p-1,y.loop,u),E=M,u=b}h<p-1&&g(h,p-1,y.loop,u)}return l}function v$(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qoe(n,e){if(!e)return!1;let t=[],i=function(r,o){return uR(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Ww(n,e,t){return n.options.clip?n[t]:e[t]}function Woe(n,e){let{xScale:t,yScale:i}=n;return t&&i?{left:Ww(t,e,"left"),right:Ww(t,e,"right"),top:Ww(i,e,"top"),bottom:Ww(i,e,"bottom")}:e}function xR(n,e){let t=e._clip;if(t.disabled)return!1;let i=Woe(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}var LR=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){let o=t.listeners[r],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(i-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=sR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ma=new LR,K$="transparent",Goe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=dR(n||K$),r=i.valid&&dR(e||K$);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},VR=class{constructor(e,t,i,r){let o=t[i];r=Bf([e.to,r,o,e.from]);let s=Bf([e.from,o,r]);this._active=!0,this._fn=e.fn||Goe[e.type||typeof s],this._easing=Pf[e.easing]||Pf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Bf([e.to,t,r,e.from]),this._from=Bf([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=o;return}c=t/i%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}},mC=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!it(e))return;let t=Object.keys(Zt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!it(o))return;let s={};for(let a of t)s[a]=o[a];(Ht(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(e,t){let i=t.options,r=Yoe(e,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&Koe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){let i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,t));continue}let u=t[l],h=o[l],p=i.get(l);if(h)if(p&&h.active()){h.update(p,u,a);continue}else h.cancel();if(!p||!p.duration){e[l]=u;continue}o[l]=h=new VR(p,e,l,u),r.push(h)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return Ma.add(this._chart,i),!0}};function Koe(n,e){let t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function Yoe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Y$(n,e){let t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function Qoe(n,e,t){if(t===!1)return!1;let i=Y$(n,t),r=Y$(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Xoe(n){let e,t,i,r;return it(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function Kz(n,e){let t=[],i=n._getSortedDatasetMetas(e),r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Q$(n,e,t,i={}){let r=n.keys,o=i.mode==="single",s,a,c,l;if(e===null)return;let u=!1;for(s=0,a=r.length;s<a;++s){if(c=+r[s],c===t){if(u=!0,i.all)continue;break}l=n.values[c],un(l)&&(o||e===0||ko(e)===ko(l))&&(e+=l)}return!u&&!i.all?0:e}function Joe(n,e){let{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),c,l,u;for(c=0,l=s.length;c<l;++c)u=s[c],a[c]={[r]:u,[o]:n[u]};return a}function DR(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Zoe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function ese(n){let{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function tse(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function X$(n,e,t,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function J$(n,e){let{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=i,c=o.axis,l=s.axis,u=Zoe(o,s,i),h=e.length,p;for(let g=0;g<h;++g){let y=e[g],{[c]:E,[l]:b}=y,M=y._stacks||(y._stacks={});p=M[l]=tse(r,u,E),p[a]=b,p._top=X$(p,s,!0,i.type),p._bottom=X$(p,s,!1,i.type);let O=p._visualValues||(p._visualValues={});O[a]=b}}function TR(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function nse(n,e){return Aa(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ise(n,e,t){return Aa(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function f_(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let r of e){let o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}var SR=n=>n==="reset"||n==="none",Z$=(n,e)=>e?n:Object.assign({},n),rse=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Kz(t,!0),values:null},ll=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=DR(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&f_(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(p,g,y,E)=>p==="x"?g:p==="r"?E:y,s=i.xAxisID=Be(r.xAxisID,TR(t,"x")),a=i.yAxisID=Be(r.yAxisID,TR(t,"y")),c=i.rAxisID=Be(r.rAxisID,TR(t,"r")),l=i.indexAxis,u=i.iAxisID=o(l,s,a,c),h=i.vAxisID=o(l,a,s,c);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&rR(this._data,this),t._stacked&&f_(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(it(i)){let o=this._cachedMeta;this._data=Joe(i,o)}else if(r!==i){if(r){rR(r,this);let o=this._cachedMeta;f_(o),o._parsed=[]}i&&Object.isExtensible(i)&&A$(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=DR(i.vScale,i),i.stack!==r.stack&&(o=!0,f_(i),i.stack=r.stack),this._resyncElements(t),(o||s!==i._stacked)&&(J$(this,i._parsed),i._stacked=DR(i.vScale,i))}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,c=s.axis,l=t===0&&i===o.length?!0:r._sorted,u=t>0&&r._parsed[t-1],h,p,g;if(this._parsing===!1)r._parsed=o,r._sorted=!0,g=o;else{Ht(o[t])?g=this.parseArrayData(r,o,t,i):it(o[t])?g=this.parseObjectData(r,o,t,i):g=this.parsePrimitiveData(r,o,t,i);let y=()=>p[c]===null||u&&p[c]<u[c];for(h=0;h<i;++h)r._parsed[h+t]=p=g[h],l&&(y()&&(l=!1),u=p);r._sorted=l}a&&J$(this,g)}parsePrimitiveData(t,i,r,o){let{iScale:s,vScale:a}=t,c=s.axis,l=a.axis,u=s.getLabels(),h=s===a,p=new Array(o),g,y,E;for(g=0,y=o;g<y;++g)E=g+r,p[g]={[c]:h||s.parse(u[E],E),[l]:a.parse(i[E],E)};return p}parseArrayData(t,i,r,o){let{xScale:s,yScale:a}=t,c=new Array(o),l,u,h,p;for(l=0,u=o;l<u;++l)h=l+r,p=i[h],c[l]={x:s.parse(p[0],h),y:a.parse(p[1],h)};return c}parseObjectData(t,i,r,o){let{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),h,p,g,y;for(h=0,p=o;h<p;++h)g=h+r,y=i[g],u[h]={x:s.parse(Sa(y,c),g),y:a.parse(Sa(y,l),g)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){let o=this.chart,s=this._cachedMeta,a=i[t.axis],c={keys:Kz(o,!0),values:i._stacks[t.axis]._visualValues};return Q$(c,a,s.index,{mode:r})}updateRangeFromParsed(t,i,r,o){let s=r[i.axis],a=s===null?NaN:s,c=o&&r._stacks[i.axis];o&&c&&(o.values=c,a=Q$(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&t===r.iScale,a=o.length,c=this._getOtherScale(t),l=rse(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:p}=ese(c),g,y;function E(){y=o[g];let b=y[c.axis];return!un(y[t.axis])||h>b||p<b}for(g=0;g<a&&!(!E()&&(this.updateRangeFromParsed(u,t,y,l),s));++g);if(s){for(g=a-1;g>=0;--g)if(!E()){this.updateRangeFromParsed(u,t,y,l);break}}return u}getAllParsedValues(t){let i=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][t.axis],un(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=Xoe(Be(this.options.clip,Qoe(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],s=i.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(t,s,c,l),h=c;h<c+l;++h){let p=o[h];p.hidden||(p.active&&u?a.push(p):p.draw(t,s))}for(h=0;h<a.length;++h)a[h].draw(t,s)}getStyle(t,i){let r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=ise(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=nse(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){let o=i==="active",s=this._cachedDataOpts,a=t+"-"+i,c=s[a],l=this.enableOptionSharing&&Nf(r);if(c)return Z$(c,l);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),p=o?[`${t}Hover`,"hover",t,""]:[t,""],g=u.getOptionScopes(this.getDataset(),h),y=Object.keys(Zt.elements[t]),E=()=>this.getContext(r,o,i),b=u.resolveNamedOptions(g,y,E,p);return b.$shared&&(b.$shared=l,s[a]=Object.freeze(Z$(b,l))),b}_resolveAnimations(t,i,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let h=this.chart.config,p=h.datasetAnimationScopeKeys(this._type,i),g=h.getOptionScopes(this.getDataset(),p);l=h.createResolver(g,this.getContext(t,r,i))}let u=new mC(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||SR(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let r=this.resolveDataElementOptions(t,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(t,i,r,o){SR(o)?Object.assign(t,r):this._resolveAnimations(i,o).update(t,r)}updateSharedOptions(t,i,r){t&&!SR(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,o){t.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,r=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,i,r=!0){let o=this._cachedMeta,s=o.data,a=t+i,c,l=u=>{for(u.length+=i,c=u.length-1;c>=a;c--)u[c]=u[c-i]};for(l(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,i),r&&this.updateElements(s,t,i,"reset")}updateElements(t,i,r,o){}_removeElements(t,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(t,i);r._stacked&&f_(r,o)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,r,o]=t;this[i](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function ose(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=oR(i.sort((r,o)=>r-o))}return n._cache.$bar}function sse(n){let e=n.iScale,t=ose(e,n.type),i=e._length,r,o,s,a,c=()=>{s===32767||s===-32768||(Nf(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=t.length;r<o;++r)s=e.getPixelForValue(t[r]),c();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),c();return i}function ase(n,e,t,i){let r=t.barThickness,o,s;return et(r)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[n]-o/2}}function cse(n,e,t,i){let r=e.pixels,o=r[n],s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,c=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/i,ratio:t.barPercentage,start:l}}function lse(n,e,t,i){let r=t.parse(n[0],i),o=t.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:o,min:s,max:a}}function Yz(n,e,t,i){return Ht(n)?lse(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ez(n,e,t,i){let r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,c=[],l,u,h,p;for(l=t,u=t+i;l<u;++l)p=e[l],h={},h[r.axis]=a||r.parse(s[l],l),c.push(Yz(p,h,o,l));return c}function AR(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function use(n,e,t){return n!==0?ko(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function dse(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function hse(n,e,t,i){let r=e.borderSkipped,o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:u}=dse(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=l:(t._bottom||0)===i?r=u:(o[tz(u,s,a,c)]=!0,r=l)),o[tz(r,s,a,c)]=!0,n.borderSkipped=o}function tz(n,e,t,i){return i?(n=fse(n,e,t),n=nz(n,t,e)):n=nz(n,e,t),n}function fse(n,e,t){return n===e?t:n===t?e:n}function nz(n,e,t){return n==="start"?e:n==="end"?t:n}function pse(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var gse=(()=>{class n extends ll{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,r,o){return ez(t,i,r,o)}parseArrayData(t,i,r,o){return ez(t,i,r,o)}parseObjectData(t,i,r,o){let{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?c:l,h=a.axis==="x"?c:l,p=[],g,y,E,b;for(g=r,y=r+o;g<y;++g)b=i[g],E={},E[s.axis]=s.parse(Sa(b,u),g),p.push(Yz(Sa(b,h),E,a,g));return p}updateRangeFromParsed(t,i,r,o){super.updateRangeFromParsed(t,i,r,o);let s=r._custom;s&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(t),a=s._custom,c=AR(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),h=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(i,o);for(let y=i;y<i+r;y++){let E=this.getParsed(y),b=s||et(E[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),M=this._calculateBarIndexPixels(y,h),O=(E._stacks||{})[c.axis],B={horizontal:u,base:b.base,enableBorderRadius:!O||AR(E._custom)||a===O._top||a===O._bottom,x:u?b.head:M.center,y:u?M.center:b.head,height:u?M.size:Math.abs(b.size),width:u?Math.abs(b.size):M.size};g&&(B.options=p||this.resolveDataElementOptions(y,t[y].active?"active":o));let q=B.options||t[y].options;hse(B,q,O,a),pse(B,q,h.ratio),this.updateElement(t[y],y,B,o)}}_getStacks(t,i){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(i),l=c&&c[r.axis],u=h=>{let p=h._parsed.find(y=>y[r.axis]===l),g=p&&p[h.vScale.axis];if(et(g)||isNaN(g))return!0};for(let h of o)if(!(i!==void 0&&u(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===i).shift()}_getAxis(){let t={},i=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)t[Be(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,i)]=!0;return Object.keys(t)}_getStackIndex(t,i,r){let o=this._getStacks(t,r),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,i=this._cachedMeta,r=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let c=t.barThickness;return{min:c||sse(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(t),u=l._custom,h=AR(u),p=l[i.axis],g=0,y=r?this.applyStack(i,l,r):p,E,b;y!==p&&(g=y-p,y=p),h&&(p=u.barStart,y=u.barEnd-u.barStart,p!==0&&ko(p)!==ko(u.barEnd)&&(g=0),g+=p);let M=!et(s)&&!h?s:g,O=i.getPixelForValue(M);if(this.chart.getDataVisibility(t)?E=i.getPixelForValue(g+y):E=O,b=E-O,Math.abs(b)<a){b=use(b,i,c)*a,p===c&&(O-=b/2);let B=i.getPixelForDecimal(0),q=i.getPixelForDecimal(1),H=Math.min(B,q),G=Math.max(B,q);O=Math.max(Math.min(O,G),H),E=O+b,r&&!h&&(l._stacks[i.axis]._visualValues[o]=i.getValueForPixel(E)-i.getValueForPixel(O))}if(O===i.getPixelForValue(c)){let B=ko(b)*i.getLineWidthForValue(c)/2;O+=B,b-=B}return{size:b,base:O,head:E,center:E+b/2}}_calculateBarIndexPixels(t,i){let r=i.scale,o=this.options,s=o.skipNull,a=Be(o.maxBarThickness,1/0),c,l,u=this._getAxisCount();if(i.grouped){let h=s?this._getStackCount(t):i.stackCount,p=o.barThickness==="flex"?cse(t,i,o,h*u):ase(t,i,o,h*u),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Be(g,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;c=p.start+p.chunk*E+p.chunk/2,l=Math.min(a,p.chunk*p.ratio)}else c=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,i=t.vScale,r=t.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return n})(),mse=(()=>{class n extends ll{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,o){let s=super.parsePrimitiveData(t,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(t,i,r,o){let s=super.parseArrayData(t,i,r,o);for(let a=0;a<s.length;a++){let c=i[r+a];s[a]._custom=Be(c[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(t,i,r,o){let s=super.parseObjectData(t,i,r,o);for(let a=0;a<s.length;a++){let c=i[r+a];s[a]._custom=Be(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),u=a._custom;return{label:r[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(i,o),h=a.axis,p=c.axis;for(let g=i;g<i+r;g++){let y=t[g],E=!s&&this.getParsed(g),b={},M=b[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(E[h]),O=b[p]=s?c.getBasePixel():c.getPixelForValue(E[p]);b.skip=isNaN(M)||isNaN(O),u&&(b.options=l||this.resolveDataElementOptions(g,y.active?"active":o),s&&(b.options.radius=0)),this.updateElement(y,g,b,o)}}resolveDataElementOptions(t,i){let r=this.getParsed(t),o=super.resolveDataElementOptions(t,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=Be(r&&r._custom,s),o}}return n})();function _se(n,e,t){let i=1,r=1,o=0,s=0;if(e<qt){let a=n,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),p=Math.sin(c),g=(B,q,H)=>Lf(B,a,c,!0)?1:Math.max(q,q*t,H,H*t),y=(B,q,H)=>Lf(B,a,c,!0)?-1:Math.min(q,q*t,H,H*t),E=g(0,l,h),b=g(mn,u,p),M=y(ut,l,h),O=y(ut+mn,u,p);i=(E-M)/2,r=(b-O)/2,o=-(E+M)/2,s=-(b+O)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}var rk=(()=>{class n extends ll{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data,{labels:{pointStyle:r,textAlign:o,color:s,useBorderRadius:a,borderRadius:c}}=t.legend.options;return i.labels.length&&i.datasets.length?i.labels.map((l,u)=>{let p=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:p.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:o,pointStyle:r,borderRadius:a&&(c||p.borderRadius),index:u}}):[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=l=>+r[l];if(it(r[t])){let{key:l="value"}=this._parsing;s=u=>+Sa(r[u],l)}let a,c;for(a=t,c=t+i;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return Yr(this.options.rotation-90)}_getCircumference(){return Yr(this.options.circumference)}_getRotationExtents(){let t=qt,i=-qt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),i=Math.max(i,s+a)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(b$(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:h,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:E,offsetY:b}=_se(p,h,l),M=(r.width-a)/g,O=(r.height-a)/y,B=Math.max(Math.min(M,O)/2,0),q=JP(this.options.radius,B),H=Math.max(q*l,0),G=(q-H)/this._getVisibleDatasetWeightTotal();this.offsetX=E*q,this.offsetY=b*q,o.total=this.calculateTotal(),this.outerRadius=q-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,i){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/qt)}updateElements(t,i,r,o){let s=o==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,h=(c.left+c.right)/2,p=(c.top+c.bottom)/2,g=s&&u.animateScale,y=g?0:this.innerRadius,E=g?0:this.outerRadius,{sharedOptions:b,includeOptions:M}=this._getSharedOptions(i,o),O=this._getRotation(),B;for(B=0;B<i;++B)O+=this._circumference(B,s);for(B=i;B<i+r;++B){let q=this._circumference(B,s),H=t[B],G={x:h+this.offsetX,y:p+this.offsetY,startAngle:O,endAngle:O+q,circumference:q,outerRadius:E,innerRadius:y};M&&(G.options=b||this.resolveDataElementOptions(B,H.active?"active":o)),O+=q,this.updateElement(H,B,G,o)}}calculateTotal(){let t=this._cachedMeta,i=t.data,r=0,o;for(o=0;o<i.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?qt*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Vf(i._parsed[t],r.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let i=0,r=this.chart,o,s,a,c,l;if(!t){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),t=a.data,c=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,o=t.length;r<o;++r){let s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Be(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),vse=(()=>{class n extends ll{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:c,count:l}=cR(i,o,a);this._drawStart=c,this._drawCount=l,lR(i)&&(c=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(o,c,l,t)}updateElements(t,i,r,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(i,o),g=a.axis,y=c.axis,{spanGaps:E,segment:b}=this.options,M=Qu(E)?E:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||s||o==="none",B=i+r,q=t.length,H=i>0&&this.getParsed(i-1);for(let G=0;G<q;++G){let R=t[G],x=O?R:{};if(G<i||G>=B){x.skip=!0;continue}let P=this.getParsed(G),N=et(P[y]),F=x[g]=a.getPixelForValue(P[g],G),V=x[y]=s||N?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,P,l):P[y],G);x.skip=isNaN(F)||isNaN(V)||N,x.stop=G>0&&Math.abs(P[g]-H[g])>M,b&&(x.parsed=P,x.raw=u.data[G]),p&&(x.options=h||this.resolveDataElementOptions(G,R.active?"active":o)),O||this.updateElement(R,G,x,o),H=P}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,o=t.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),Qz=(()=>{class n extends ll{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=t.legend.options;return i.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Vf(i._parsed[t].r,r.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,i,r,o){return vR.bind(this)(t,i,r,o)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,r=t.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,i,r,o){let s=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,p=u.yCenter,g=u.getIndexAngle(0)-.5*ut,y=g,E,b=360/this.countVisibleElements();for(E=0;E<i;++E)y+=this._computeAngle(E,o,b);for(E=i;E<i+r;E++){let M=t[E],O=y,B=y+this._computeAngle(E,o,b),q=a.getDataVisibility(E)?u.getDistanceFromCenterForValue(this.getParsed(E).r):0;y=B,s&&(l.animateScale&&(q=0),l.animateRotate&&(O=B=g));let H={x:h,y:p,innerRadius:0,outerRadius:q,startAngle:O,endAngle:B,options:this.resolveDataElementOptions(E,M.active?"active":o)};this.updateElement(M,E,H,o)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Yr(this.resolveDataElementOptions(t,i).angle||r):0}}return n})(),yse=(()=>{class n extends rk{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),bse=(()=>{class n extends ll{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,o){return vR.bind(this)(t,i,r,o)}update(t){let i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,i,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=i;c<i+r;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":o),h=s.getPointPositionForValue(c,this.getParsed(c).r),p=a?s.xCenter:h.x,g=a?s.yCenter:h.y,y={x:p,y:g,angle:h.angle,skip:isNaN(p)||isNaN(g),options:u};this.updateElement(l,c,y,o)}}}return n})(),Ese=(()=>{class n extends ll{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[t]||"",value:"("+c+", "+l+")"}}update(t){let i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=cR(i,r,o);if(this._drawStart=s,this._drawCount=a,lR(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(i,o),p=this.getSharedOptions(h),g=this.includeOptions(o,p),y=a.axis,E=c.axis,{spanGaps:b,segment:M}=this.options,O=Qu(b)?b:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||s||o==="none",q=i>0&&this.getParsed(i-1);for(let H=i;H<i+r;++H){let G=t[H],R=this.getParsed(H),x=B?G:{},P=et(R[E]),N=x[y]=a.getPixelForValue(R[y],H),F=x[E]=s||P?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,R,l):R[E],H);x.skip=isNaN(N)||isNaN(F)||P,x.stop=H>0&&Math.abs(R[y]-q[y])>O,M&&(x.parsed=R,x.raw=u.data[H]),g&&(x.options=p||this.resolveDataElementOptions(H,G.active?"active":o)),B||this.updateElement(G,H,x,o),q=R}this.updateSharedOptions(p,o,h)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=t.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return n})(),wse=Object.freeze({__proto__:null,BarController:gse,BubbleController:mse,DoughnutController:rk,LineController:vse,PieController:yse,PolarAreaController:Qz,RadarController:bse,ScatterController:Ese});function Ju(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var jR=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ju()}parse(){return Ju()}format(){return Ju()}add(){return Ju()}diff(){return Ju()}startOf(){return Ju()}endOf(){return Ju()}},Cse={_date:jR};function Ise(n,e,t,i){let{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?D$:Ds;if(i){if(r._sharedOptions){let u=o[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){let p=l(o,e,t-h),g=l(o,e,t+h);return{lo:p.lo,hi:g.hi}}}}else{let u=l(o,e,t);if(c){let{vScale:h}=r._cachedMeta,{_parsed:p}=n,g=p.slice(0,u.lo+1).reverse().findIndex(E=>!et(E[h.axis]));u.lo-=Math.max(0,g);let y=p.slice(u.hi).findIndex(E=>!et(E[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:o.length-1}}function C_(n,e,t,i,r){let o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,c=o.length;a<c;++a){let{index:l,data:u}=o[a],{lo:h,hi:p}=Ise(o[a],e,s,r);for(let g=h;g<=p;++g){let y=u[g];y.skip||i(y,l,g)}}}function xse(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){let o=e?Math.abs(i.x-r.x):0,s=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function MR(n,e,t,i,r){let o=[];return!r&&!n.isPointInArea(e)||C_(n,t,e,function(a,c,l){!r&&!Ts(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function Dse(n,e,t,i){let r=[];function o(s,a,c){let{startAngle:l,endAngle:u}=s.getProps(["startAngle","endAngle"],i),{angle:h}=iR(s,{x:e.x,y:e.y});Lf(h,l,u)&&r.push({element:s,datasetIndex:a,index:c})}return C_(n,t,e,o),r}function Tse(n,e,t,i,r,o){let s=[],a=xse(t),c=Number.POSITIVE_INFINITY;function l(u,h,p){let g=u.inRange(e.x,e.y,r);if(i&&!g)return;let y=u.getCenterPoint(r);if(!(!!o||n.isPointInArea(y))&&!g)return;let b=a(e,y);b<c?(s=[{element:u,datasetIndex:h,index:p}],c=b):b===c&&s.push({element:u,datasetIndex:h,index:p})}return C_(n,t,e,l),s}function PR(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?Dse(n,e,t,r):Tse(n,e,t,i,r,o)}function iz(n,e,t,i,r){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return C_(n,t,e,(c,l,u)=>{c[s]&&c[s](e[t],r)&&(o.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,r))}),i&&!a?[]:o}var Sse={evaluateInteractionItems:C_,modes:{index(n,e,t,i){let r=al(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?MR(n,r,o,i,s):PR(n,r,o,!1,i,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(n,e,t,i){let r=al(e,n),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?MR(n,r,o,i,s):PR(n,r,o,!1,i,s);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,e,t,i){let r=al(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return MR(n,r,o,i,s)},nearest(n,e,t,i){let r=al(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return PR(n,r,o,t.intersect,i,s)},x(n,e,t,i){let r=al(e,n);return iz(n,r,"x",t.intersect,i)},y(n,e,t,i){let r=al(e,n);return iz(n,r,"y",t.intersect,i)}}},Xz=["left","top","right","bottom"];function p_(n,e){return n.filter(t=>t.pos===e)}function rz(n,e){return n.filter(t=>Xz.indexOf(t.pos)===-1&&t.box.axis===e)}function g_(n,e){return n.sort((t,i)=>{let r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Ase(n){let e=[],t,i,r,o,s,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function Mse(n){let e={};for(let t of n){let{stack:i,pos:r,stackWeight:o}=t;if(!i||!Xz.includes(r))continue;let s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function Pse(n,e){let t=Mse(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*i:c&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:c&&e.availableHeight)}return t}function Rse(n){let e=Ase(n),t=g_(e.filter(l=>l.box.fullSize),!0),i=g_(p_(e,"left"),!0),r=g_(p_(e,"right")),o=g_(p_(e,"top"),!0),s=g_(p_(e,"bottom")),a=rz(e,"x"),c=rz(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(s).concat(a),chartArea:p_(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(s).concat(a)}}function oz(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Jz(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function kse(n,e,t,i){let{pos:r,box:o}=t,s=n.maxPadding;if(!it(r)){t.size&&(n[r]-=t.size);let h=i[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?o.height:o.width),t.size=h.size/h.count,n[r]+=t.size}o.getPadding&&Jz(s,o.getPadding());let a=Math.max(0,e.outerWidth-oz(s,n,"left","right")),c=Math.max(0,e.outerHeight-oz(s,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function Ose(n){let e=n.maxPadding;function t(i){let r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Nse(n,e){let t=e.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return i(n?["left","right"]:["top","bottom"])}function v_(n,e,t,i){let r=[],o,s,a,c,l,u;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||e.w,a.height||e.h,Nse(a.horizontal,e));let{same:h,other:p}=kse(e,t,a,i);l|=h&&r.length,u=u||p,c.fullSize||r.push(a)}return l&&v_(r,e,t,i)||u}function cC(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function sz(n,e,t,i){let r=t.padding,{x:o,y:s}=e;for(let a of n){let c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*u,p=l.size||c.height;Nf(l.start)&&(s=l.start),c.fullSize?cC(c,r.left,s,t.outerWidth-r.right-r.left,p):cC(c,e.left+l.placed,s,h,p),l.start=s,l.placed+=h,s=c.bottom}else{let h=e.h*u,p=l.size||c.width;Nf(l.start)&&(o=l.start),c.fullSize?cC(c,o,r.top,p,t.outerHeight-r.bottom-r.top):cC(c,o,e.top+l.placed,p,h),l.start=o,l.placed+=h,o=c.right}}e.x=o,e.y=s}var vi={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let r=si(n.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(t-r.height,0),a=Rse(n.boxes),c=a.vertical,l=a.horizontal;Et(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});let u=c.reduce((E,b)=>b.box.options&&b.box.options.display===!1?E:E+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),p=Object.assign({},r);Jz(p,si(i));let g=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),y=Pse(c.concat(l),h);v_(a.fullSize,g,h,y),v_(c,g,h,y),v_(l,g,h,y)&&v_(c,g,h,y),Ose(g),sz(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,sz(a.rightAndBottom,g,h,y),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Et(a.chartArea,E=>{let b=E.box;Object.assign(b,n.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},_C=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}},BR=class extends _C{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},pC="$chartjs",Fse={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},az=n=>n===null||n==="";function Lse(n,e){let t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[pC]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",az(r)){let o=bR(n,"width");o!==void 0&&(n.width=o)}if(az(i))if(n.style.height==="")n.height=n.width/(e||2);else{let o=bR(n,"height");o!==void 0&&(n.height=o)}return n}var Zz=z$?{passive:!0}:!1;function Vse(n,e,t){n&&n.addEventListener(e,t,Zz)}function jse(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Zz)}function Bse(n,e){let t=Fse[n.type]||n.type,{x:i,y:r}=al(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function vC(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function Use(n,e,t){let i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||vC(a.addedNodes,i),s=s&&!vC(a.removedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function $se(n,e,t){let i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||vC(a.removedNodes,i),s=s&&!vC(a.addedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var b_=new Map,cz=0;function eH(){let n=window.devicePixelRatio;n!==cz&&(cz=n,b_.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function zse(n,e){b_.size||window.addEventListener("resize",eH),b_.set(n,e)}function Hse(n){b_.delete(n),b_.size||window.removeEventListener("resize",eH)}function qse(n,e,t){let i=n.canvas,r=i&&sC(i);if(!r)return;let o=aR((a,c)=>{let l=r.clientWidth;t(a,c),l<r.clientWidth&&t()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return s.observe(r),zse(n,o),s}function RR(n,e,t){t&&t.disconnect(),e==="resize"&&Hse(n)}function Wse(n,e,t){let i=n.canvas,r=aR(o=>{n.ctx!==null&&t(Bse(o,n))},n);return Vse(i,e,r),r}var UR=class extends _C{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Lse(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[pC])return!1;let i=t[pC].initial;["height","width"].forEach(o=>{let s=i[o];et(s)?t.removeAttribute(o):t.setAttribute(o,s)});let r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[pC],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),s={attach:Use,detach:$se,resize:qse}[t]||Wse;r[t]=s(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:RR,detach:RR,resize:RR}[t]||jse)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return $$(e,t,i,r)}isAttached(e){let t=e&&sC(e);return!!(t&&t.isConnected)}};function Gse(n){return!oC()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?BR:UR}var Oo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Qu(this.x)&&Qu(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function Kse(n,e){let t=n.options.ticks,i=Yse(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?Xse(e):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>r)return Jse(e,l,o,s/r),l;let u=Qse(o,e,r);if(s>0){let h,p,g=s>1?Math.round((c-a)/(s-1)):null;for(lC(e,l,u,et(g)?0:a-g,a),h=0,p=s-1;h<p;h++)lC(e,l,u,o[h],o[h+1]);return lC(e,l,u,c,et(g)?e.length:c+g),l}return lC(e,l,u),l}function Yse(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function Qse(n,e,t){let i=Zse(n),r=e.length/t;if(!i)return Math.max(r,1);let o=C$(i);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>r)return c}return Math.max(r,1)}function Xse(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Jse(n,e,t,i){let r=0,o=t[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(e.push(n[s]),r++,o=t[r*i])}function lC(n,e,t,i,r){let o=Be(i,0),s=Math.min(Be(r,n.length),n.length),a=0,c,l,u;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(l=Math.max(o,0);l<s;l++)l===u&&(e.push(n[l]),a++,u=Math.round(o+a*t))}function Zse(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var eae=n=>n==="left"?"right":n==="right"?"left":n,lz=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,uz=(n,e)=>Math.min(e||n,n);function dz(n,e){let t=[],i=n.length/e,r=n.length,o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function tae(n,e,t){let i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,s=n._endPixel,a=1e-6,c=n.getPixelForTick(r),l;if(!(t&&(i===1?l=Math.max(c-o,s-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<o-a||c>s+a)))return c}function nae(n,e){Et(n,t=>{let i=t.gc,r=i.length/2,o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function m_(n){return n.drawTicks?n.tickLength:0}function hz(n,e){if(!n.display)return 0;let t=kn(n.font,e),i=si(n.padding);return(Ht(n.text)?n.text.length:1)*t.lineHeight+i.height}function iae(n,e){return Aa(n,{scale:e,type:"scale"})}function rae(n,e,t){return Aa(n,{tick:t,index:e,type:"tick"})}function oae(n,e,t){let i=eC(n);return(t&&e!=="right"||!t&&e==="right")&&(i=eae(i)),i}function sae(n,e,t,i){let{top:r,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:u}=c,h=0,p,g,y,E=s-r,b=a-o;if(n.isHorizontal()){if(g=oi(i,o,a),it(t)){let M=Object.keys(t)[0],O=t[M];y=u[M].getPixelForValue(O)+E-e}else t==="center"?y=(l.bottom+l.top)/2+E-e:y=lz(n,t,e);p=a-o}else{if(it(t)){let M=Object.keys(t)[0],O=t[M];g=u[M].getPixelForValue(O)-b+e}else t==="center"?g=(l.left+l.right)/2-b+e:g=lz(n,t,e);y=oi(i,s,r),h=t==="left"?-mn:mn}return{titleX:g,titleY:y,maxWidth:p,rotation:h}}var ed=class n extends Oo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Zi(e,Number.POSITIVE_INFINITY),t=Zi(t,Number.NEGATIVE_INFINITY),i=Zi(i,Number.POSITIVE_INFINITY),r=Zi(r,Number.NEGATIVE_INFINITY),{min:Zi(e,i),max:Zi(t,r),minDefined:un(e),maxDefined:un(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:t,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,e),r||(t=Math.min(t,s.min)),o||(i=Math.max(i,s.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:Zi(t,Zi(i,t)),max:Zi(i,Zi(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F$(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?dz(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Kse(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Vt(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=uz(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation,s=r,a,c,l;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),h=u.widest.width,p=u.highest.height,g=qn(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(e.offset?.5:1)),c=this.maxHeight-m_(e.grid)-t.padding-hz(e.title,this.chart.options.font),l=Math.sqrt(h*h+p*p),s=Jw(Math.min(Math.asin(qn((u.highest.height+6)/a,-1,1)),Math.asin(qn(c/l,-1,1))-Math.asin(qn(p/l,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=hz(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=m_(o)+c):(e.height=this.maxHeight,e.width=m_(o)+c),i.display&&this.ticks.length){let{first:l,last:u,widest:h,highest:p}=this._getLabelSizes(),g=i.padding*2,y=Yr(this.labelRotation),E=Math.cos(y),b=Math.sin(y);if(a){let M=i.mirror?0:b*h.width+E*p.height;e.height=Math.min(this.maxHeight,e.height+M+g)}else{let M=i.mirror?0:E*h.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+M+g)}this._calculatePadding(l,u,b,E)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),p=0,g=0;c?l?(p=r*e.width,g=i*t.height):(p=i*e.height,g=r*t.width):o==="start"?g=t.width:o==="end"?p=e.width:o!=="inner"&&(p=e.width/2,g=t.width/2),this.paddingLeft=Math.max((p-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-h+s)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;o==="start"?(u=0,h=e.height):o==="end"&&(u=t.height,h=0),this.paddingTop=u+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)et(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=dz(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/uz(t,i)),l=0,u=0,h,p,g,y,E,b,M,O,B,q,H;for(h=0;h<t;h+=c){if(y=e[h].label,E=this._resolveTickFontOptions(h),r.font=b=E.string,M=o[b]=o[b]||{data:{},gc:[]},O=E.lineHeight,B=q=0,!et(y)&&!Ht(y))B=c_(r,M.data,M.gc,B,y),q=O;else if(Ht(y))for(p=0,g=y.length;p<g;++p)H=y[p],!et(H)&&!Ht(H)&&(B=c_(r,M.data,M.gc,B,H),q+=O);s.push(B),a.push(q),l=Math.max(B,l),u=Math.max(q,u)}nae(o,t);let G=s.indexOf(l),R=a.indexOf(u),x=P=>({width:s[P]||0,height:a[P]||0});return{first:x(0),last:x(t-1),widest:x(G),highest:x(R),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return x$(this._alignToPixels?rl(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=rae(this.getContext(),e,i))}return this.$context||(this.$context=iae(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=Yr(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,c=o.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),p=m_(o),g=[],y=a.setContext(this.getContext()),E=y.display?y.width:0,b=E/2,M=function(vt){return rl(i,vt,E)},O,B,q,H,G,R,x,P,N,F,V,k;if(s==="top")O=M(this.bottom),R=this.bottom-p,P=O-b,F=M(e.top)+b,k=e.bottom;else if(s==="bottom")O=M(this.top),F=e.top,k=M(e.bottom)-b,R=O+b,P=this.top+p;else if(s==="left")O=M(this.right),G=this.right-p,x=O-b,N=M(e.left)+b,V=e.right;else if(s==="right")O=M(this.left),N=e.left,V=M(e.right)-b,G=O+b,x=this.left+p;else if(t==="x"){if(s==="center")O=M((e.top+e.bottom)/2+.5);else if(it(s)){let vt=Object.keys(s)[0],wt=s[vt];O=M(this.chart.scales[vt].getPixelForValue(wt))}F=e.top,k=e.bottom,R=O+b,P=R+p}else if(t==="y"){if(s==="center")O=M((e.left+e.right)/2);else if(it(s)){let vt=Object.keys(s)[0],wt=s[vt];O=M(this.chart.scales[vt].getPixelForValue(wt))}G=O-b,x=G-p,N=e.left,V=e.right}let jt=Be(r.ticks.maxTicksLimit,h),tt=Math.max(1,Math.ceil(h/jt));for(B=0;B<h;B+=tt){let vt=this.getContext(B),wt=o.setContext(vt),xn=a.setContext(vt),J=wt.lineWidth,nr=wt.color,Rs=xn.dash||[],On=xn.dashOffset,dt=wt.tickWidth,yi=wt.tickColor,rn=wt.tickBorderDash||[],ir=wt.tickBorderDashOffset;q=tae(this,B,c),q!==void 0&&(H=rl(i,q,J),l?G=x=N=V=H:R=P=F=k=H,g.push({tx1:G,ty1:R,tx2:x,ty2:P,x1:N,y1:F,x2:V,y2:k,width:J,color:nr,borderDash:Rs,borderDashOffset:On,tickWidth:dt,tickColor:yi,tickBorderDash:rn,tickBorderDashOffset:ir}))}return this._ticksLength=h,this._borderValue=O,g}_computeLabelItems(e){let t=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=o,p=m_(i.grid),g=p+u,y=h?-u:g,E=-Yr(this.labelRotation),b=[],M,O,B,q,H,G,R,x,P,N,F,V,k="middle";if(r==="top")G=this.bottom-y,R=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+y,R=this._getXAxisLabelAlignment();else if(r==="left"){let tt=this._getYAxisLabelAlignment(p);R=tt.textAlign,H=tt.x}else if(r==="right"){let tt=this._getYAxisLabelAlignment(p);R=tt.textAlign,H=tt.x}else if(t==="x"){if(r==="center")G=(e.top+e.bottom)/2+g;else if(it(r)){let tt=Object.keys(r)[0],vt=r[tt];G=this.chart.scales[tt].getPixelForValue(vt)+g}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-g;else if(it(r)){let tt=Object.keys(r)[0],vt=r[tt];H=this.chart.scales[tt].getPixelForValue(vt)}R=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(c==="start"?k="top":c==="end"&&(k="bottom"));let jt=this._getLabelSizes();for(M=0,O=a.length;M<O;++M){B=a[M],q=B.label;let tt=o.setContext(this.getContext(M));x=this.getPixelForTick(M)+o.labelOffset,P=this._resolveTickFontOptions(M),N=P.lineHeight,F=Ht(q)?q.length:1;let vt=F/2,wt=tt.color,xn=tt.textStrokeColor,J=tt.textStrokeWidth,nr=R;s?(H=x,R==="inner"&&(M===O-1?nr=this.options.reverse?"left":"right":M===0?nr=this.options.reverse?"right":"left":nr="center"),r==="top"?l==="near"||E!==0?V=-F*N+N/2:l==="center"?V=-jt.highest.height/2-vt*N+N:V=-jt.highest.height+N/2:l==="near"||E!==0?V=N/2:l==="center"?V=jt.highest.height/2-vt*N:V=jt.highest.height-F*N,h&&(V*=-1),E!==0&&!tt.showLabelBackdrop&&(H+=N/2*Math.sin(E))):(G=x,V=(1-F)*N/2);let Rs;if(tt.showLabelBackdrop){let On=si(tt.backdropPadding),dt=jt.heights[M],yi=jt.widths[M],rn=V-On.top,ir=0-On.left;switch(k){case"middle":rn-=dt/2;break;case"bottom":rn-=dt;break}switch(R){case"center":ir-=yi/2;break;case"right":ir-=yi;break;case"inner":M===O-1?ir-=yi:M>0&&(ir-=yi/2);break}Rs={left:ir,top:rn,width:yi+On.width,height:dt+On.height,color:tt.backdropColor}}b.push({label:q,font:P,textOffset:V,options:{rotation:E,color:wt,strokeColor:xn,strokeWidth:J,textAlign:nr,textBaseline:k,translation:[H,G],backdrop:Rs}})}return b}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-Yr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,c=s.widest.width,l,u;return t==="left"?r?(u=this.right+o,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?r?(u=this.left+o,i==="near"?l="right":i==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,i==="near"?l="left":i==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(c,l,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(t.display)for(o=0,s=r.length;o<s;++o){let c=r[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,h,p;this.isHorizontal()?(l=rl(e,this.left,s)-s/2,u=rl(e,this.right,a)+a/2,h=p=c):(h=rl(e,this.top,s)-s/2,p=rl(e,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,h),t.lineTo(u,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&d_(i,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,c=s.font,l=s.label,u=s.textOffset;ol(i,l,0,u,c,a)}r&&h_(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;let o=kn(i.font),s=si(i.padding),a=i.align,c=o.lineHeight/2;t==="bottom"||t==="center"||it(t)?(c+=s.bottom,Ht(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=s.top;let{titleX:l,titleY:u,maxWidth:h,rotation:p}=sae(this,c,t,a);ol(e,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:p,textAlign:oae(a,t,r),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=Be(e.grid&&e.grid.z,-1),r=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return kn(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},$f=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;lae(t)&&(i=this.register(t));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,aae(e,s,i),this.override&&Zt.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Zt[r]&&(delete Zt[r][i],this.override&&delete il[i])}};function aae(n,e,t){let i=Rf(Object.create(null),[t?Zt.get(t):{},Zt.get(e),n.defaults]);Zt.set(e,i),n.defaultRoutes&&cae(e,n.defaultRoutes),n.descriptors&&Zt.describe(e,n.descriptors)}function cae(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),s=e[t].split("."),a=s.pop(),c=s.join(".");Zt.route(o,r,c,a)})}function lae(n){return"id"in n&&"defaults"in n}var $R=class{constructor(){this.controllers=new $f(ll,"datasets",!0),this.elements=new $f(Oo,"elements"),this.plugins=new $f(Object,"plugins"),this.scales=new $f(ed,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Et(r,s=>{let a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,i){let r=Xw(e);Vt(i["before"+r],[],i),t[e](i),Vt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},Ps=new $R,zR=class{constructor(){this._init=void 0}notify(e,t,i,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),s}_notify(e,t,i,r){r=r||{};for(let o of e){let s=o.plugin,a=s[i],c=[t,r,o.options];if(Vt(a,c,s)===!1&&r.cancelable)return!1}return!0}invalidate(){et(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,r=Be(i.options&&i.options.plugins,{}),o=uae(i);return r===!1&&!t?[]:hae(e,o,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}};function uae(n){let e={},t=[],i=Object.keys(Ps.plugins.items);for(let o=0;o<i.length;o++)t.push(Ps.getPlugin(i[o]));let r=n.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function dae(n,e){return!e&&n===!1?null:n===!0?{}:n}function hae(n,{plugins:e,localIds:t},i,r){let o=[],s=n.getContext();for(let a of e){let c=a.id,l=dae(i[c],r);l!==null&&o.push({plugin:a,options:fae(n.config,{plugin:a,local:t[c]},l,s)})}return o}function fae(n,{plugin:e,local:t},i,r){let o=n.pluginScopeKeys(e),s=n.getOptionScopes(i,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function HR(n,e){let t=Zt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pae(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function gae(n,e){return n===e?"_index_":"_value_"}function fz(n){if(n==="x"||n==="y"||n==="r")return n}function mae(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qR(n,...e){if(fz(n))return n;for(let t of e){let i=t.axis||mae(t.position)||n.length>1&&fz(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pz(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function _ae(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pz(n,"x",t[0])||pz(n,"y",t[0])}return{}}function vae(n,e){let t=il[n.type]||{scales:{}},i=e.scales||{},r=HR(n.type,e),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!it(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=qR(s,a,_ae(s,n),Zt.scales[a.type]),l=gae(c,r),u=t.scales||{};o[s]=Of(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,c=s.indexAxis||HR(a,e),u=(il[a]||{}).scales||{};Object.keys(u).forEach(h=>{let p=pae(h,c),g=s[p+"AxisID"]||p;o[g]=o[g]||Object.create(null),Of(o[g],[{axis:p},i[g],u[h]])})}),Object.keys(o).forEach(s=>{let a=o[s];Of(a,[Zt.scales[a.type],Zt.scale])}),o}function tH(n){let e=n.options||(n.options={});e.plugins=Be(e.plugins,{}),e.scales=vae(n,e)}function nH(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yae(n){return n=n||{},n.data=nH(n.data),tH(n),n}var gz=new Map,iH=new Set;function uC(n,e){let t=gz.get(n);return t||(t=e(),gz.set(n,t),iH.add(t)),t}var __=(n,e,t)=>{let i=Sa(e,t);i!==void 0&&n.add(i)},WR=class{constructor(e){this._config=yae(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nH(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),tH(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return uC(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return uC(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return uC(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return uC(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){let{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(t);if(a)return a;let c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>__(c,e,h))),u.forEach(h=>__(c,r,h)),u.forEach(h=>__(c,il[o]||{},h)),u.forEach(h=>__(c,Zt,h)),u.forEach(h=>__(c,tC,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),iH.has(t)&&s.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,il[t]||{},Zt.datasets[t]||{},{type:t},Zt,tC]}resolveNamedOptions(e,t,i,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=mz(this._resolverCache,e,r),c=s;if(Eae(s,t)){o.$shared=!1,i=Da(i)?i():i;let l=this.createResolver(e,i,a);c=Yu(s,i,l)}for(let l of t)o[l]=c[l];return o}createResolver(e,t,i=[""],r){let{resolver:o}=mz(this._resolverCache,e,i);return it(t)?Yu(o,t,void 0,r):o}};function mz(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let r=t.join(),o=i.get(r);return o||(o={resolver:rC(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}var bae=n=>it(n)&&Object.getOwnPropertyNames(n).some(e=>Da(n[e]));function Eae(n,e){let{isScriptable:t,isIndexable:i}=gR(n);for(let r of e){let o=t(r),s=i(r),a=(s||o)&&n[r];if(o&&(Da(a)||bae(a))||s&&Ht(a))return!0}return!1}var wae="4.5.1",Cae=["top","bottom","left","right","chartArea"];function _z(n,e){return n==="top"||n==="bottom"||Cae.indexOf(n)===-1&&e==="x"}function vz(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function yz(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Vt(t&&t.onComplete,[n],e)}function Iae(n){let e=n.chart,t=e.options.animation;Vt(t&&t.onProgress,[n],e)}function rH(n){return oC()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var gC={},bz=n=>{let e=rH(n);return Object.values(gC).filter(t=>t.canvas===e).pop()};function xae(n,e,t){let i=Object.keys(n);for(let r of i){let o=+r;if(o>=e){let s=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=s)}}}function Dae(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var I_=(()=>{class n{static defaults=Zt;static instances=gC;static overrides=il;static registry=Ps;static version=wae;static getChart=bz;static register(...t){Ps.add(...t),Ez()}static unregister(...t){Ps.remove(...t),Ez()}constructor(t,i){let r=this.config=new WR(i),o=rH(t),s=bz(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Gse(o)),this.platform.updateConfig(r);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,h=l&&l.width;if(this.id=y$(),this.ctx=c,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=M$(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],gC[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ma.listen(this,"complete",yz),Ma.listen(this,"progress",Iae),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return et(t)?i&&s?s:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ps}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hR(this.canvas,this.ctx),this}stop(){return Ma.stop(this),this}resize(t,i){Ma.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,i,s),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yR(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Vt(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Et(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let t=this.options,i=t.scales,r=this.scales,o=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let c=i[a],l=qR(a,c),u=l==="r",h=l==="x";return{options:c,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Et(s,a=>{let c=a.options,l=c.id,u=qR(l,c),h=Be(c.type,a.dtype);(c.position===void 0||_z(c.position,u)!==_z(a.dposition))&&(c.position=a.dposition),o[l]=!0;let p=null;if(l in r&&r[l].type===h)p=r[l];else{let g=Ps.getScale(h);p=new g({id:l,type:h,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(c,t)}),Et(o,(a,c)=>{a||delete r[c]}),Et(r,a=>{vi.configure(this,a,a.options),vi.addBox(this,a)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(vz("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,o)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let s=i[r],a=this.getDatasetMeta(r),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=s.indexAxis||HR(c,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=Ps.getController(c),{datasetElementType:u,dataElementType:h}=Zt.datasets[c];Object.assign(l,{dataElementType:Ps.getElement(h),datasetElementType:u&&Ps.getElement(u)}),a.controller=new l(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Et(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:p}=this.getDatasetMeta(u),g=!o&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Et(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vz("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Et(this.scales,t=>{vi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!ZP(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of i){let a=r==="_removeElements"?-s:s;xae(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!ZP(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vi.update(this,this.width,this.height,t);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Et(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Da(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let r=this.getDatasetMeta(t),o={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ma.has(this)?this.attached&&!Ma.running(this)&&Ma.start(this):(this.draw(),yz({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,r={meta:t,index:t.index,cancelable:!0},o=xR(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&d_(i,o),t.controller.draw(),o&&h_(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Ts(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,o){let s=Sse.modes[i];return typeof s=="function"?s(this,t,r,o):[]}getDatasetMeta(t){let i=this.data.datasets[t],r=this._metasets,o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Aa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){let r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){let o=r?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Nf(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(s,{visible:r}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Ma.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),hR(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete gC[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),t[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};Et(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,r=(l,u)=>{i.addEventListener(this,l,u),t[l]=u},o=(l,u)=>{t[l]&&(i.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Et(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Et(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){let o=r?"set":"remove",s,a,c,l;for(i==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],r=t.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!l_(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){let o=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(p=>h.datasetIndex===p.datasetIndex&&h.index===p.index)),a=s(i,t),c=r?t:s(t,i);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,i){let r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(t,i,r){let{_active:o=[],options:s}=this,a=i,c=this._getActiveElements(t,o,r,a),l=w$(t),u=Dae(t,this._lastEvent,r,l);r&&(this._lastEvent=null,Vt(s.onHover,[t,c,this],this),l&&Vt(s.onClick,[t,c,this],this));let h=!l_(c,o);return(h||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=u,h}_getActiveElements(t,i,r,o){if(t.type==="mouseout")return[];if(!r)return i;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return n})();function Ez(){return Et(I_.instances,n=>n._plugins.invalidate())}function Tae(n,e,t){let{startAngle:i,x:r,y:o,outerRadius:s,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:u}=c,h=Math.min(l/s,ri(i-t));if(n.beginPath(),n.arc(r,o,s-l/2,i+h/2,t-h/2),a>0){let p=Math.min(l/a,ri(i-t));n.arc(r,o,a+l/2,t-p/2,i+p/2,!0)}else{let p=Math.min(l/2,s*ri(i-t));if(u==="round")n.arc(r,o,p,t-ut/2,i+ut/2,!0);else if(u==="bevel"){let g=2*p*p,y=-g*Math.cos(t+ut/2)+r,E=-g*Math.sin(t+ut/2)+o,b=g*Math.cos(i+ut/2)+r,M=g*Math.sin(i+ut/2)+o;n.lineTo(y,E),n.lineTo(b,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Sae(n,e,t){let{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:c}=e,l=r/a;n.beginPath(),n.arc(o,s,a,i-l,t+l),c>r?(l=r/c,n.arc(o,s,c,t+l,i-l,!0)):n.arc(o,s,r,t+mn,i-mn),n.closePath(),n.clip()}function Aae(n){return iC(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Mae(n,e,t,i){let r=Aae(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,i*e/2),a=c=>{let l=(t-Math.min(o,c))*i/2;return qn(c,0,Math.min(o,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:qn(r.innerStart,0,s),innerEnd:qn(r.innerEnd,0,s)}}function Uf(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function yC(n,e,t,i,r,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+i+t-l,0),p=u>0?u+i+t+l:0,g=0,y=r-c;if(i){let tt=u>0?u-i:0,vt=h>0?h-i:0,wt=(tt+vt)/2,xn=wt!==0?y*wt/(wt+i):y;g=(y-xn)/2}let E=Math.max(.001,y*h-t/ut)/h,b=(y-E)/2,M=c+b+g,O=r-b-g,{outerStart:B,outerEnd:q,innerStart:H,innerEnd:G}=Mae(e,p,h,O-M),R=h-B,x=h-q,P=M+B/R,N=O-q/x,F=p+H,V=p+G,k=M+H/F,jt=O-G/V;if(n.beginPath(),o){let tt=(P+N)/2;if(n.arc(s,a,h,P,tt),n.arc(s,a,h,tt,N),q>0){let J=Uf(x,N,s,a);n.arc(J.x,J.y,q,N,O+mn)}let vt=Uf(V,O,s,a);if(n.lineTo(vt.x,vt.y),G>0){let J=Uf(V,jt,s,a);n.arc(J.x,J.y,G,O+mn,jt+Math.PI)}let wt=(O-G/p+(M+H/p))/2;if(n.arc(s,a,p,O-G/p,wt,!0),n.arc(s,a,p,wt,M+H/p,!0),H>0){let J=Uf(F,k,s,a);n.arc(J.x,J.y,H,k+Math.PI,M-mn)}let xn=Uf(R,M,s,a);if(n.lineTo(xn.x,xn.y),B>0){let J=Uf(R,P,s,a);n.arc(J.x,J.y,B,M-mn,P)}}else{n.moveTo(s,a);let tt=Math.cos(P)*h+s,vt=Math.sin(P)*h+a;n.lineTo(tt,vt);let wt=Math.cos(N)*h+s,xn=Math.sin(N)*h+a;n.lineTo(wt,xn)}n.closePath()}function Pae(n,e,t,i,r){let{fullCircles:o,startAngle:s,circumference:a}=e,c=e.endAngle;if(o){yC(n,e,t,i,c,r);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%qt||qt))}return yC(n,e,t,i,c,r),n.fill(),c}function Rae(n,e,t,i,r){let{fullCircles:o,startAngle:s,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:p,borderRadius:g}=c,y=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=p,y?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let E=e.endAngle;if(o){yC(n,e,t,i,E,r);for(let b=0;b<o;++b)n.stroke();isNaN(a)||(E=s+(a%qt||qt))}y&&Sae(n,e,E),c.selfJoin&&E-s>=ut&&g===0&&u!=="miter"&&Tae(n,e,E),o||(yC(n,e,t,i,E,r),n.stroke())}var GR=class extends Oo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let r=this.getProps(["x","y"],i),{angle:o,distance:s}=iR(r,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=Be(h,c-a),y=Lf(o,a,c)&&a!==c,E=g>=qt||y,b=As(s,l+p,u+p);return E&&b}getCenterPoint(e){let{x:t,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(r+o)/2,h=(s+a+l+c)/2;return{x:t+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>qt?Math.floor(i/qt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(ut,i||0)),l=r*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Pae(e,this,l,o,s),Rae(e,this,l,o,s),e.restore()}};function oH(n,e,t=e){n.lineCap=Be(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Be(t.borderDash,e.borderDash)),n.lineDashOffset=Be(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Be(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Be(t.borderWidth,e.borderWidth),n.strokeStyle=Be(t.borderColor,e.borderColor)}function kae(n,e,t){n.lineTo(t.x,t.y)}function Oae(n){return n.stepped?O$:n.tension||n.cubicInterpolationMode==="monotone"?N$:kae}function sH(n,e,t={}){let i=n.length,{start:r=0,end:o=i-1}=t,{start:s,end:a}=e,c=Math.max(r,s),l=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:c,loop:e.loop,ilen:l<c&&!u?i+l-c:l-c}}function Nae(n,e,t,i){let{points:r,options:o}=e,{count:s,start:a,loop:c,ilen:l}=sH(r,t,i),u=Oae(o),{move:h=!0,reverse:p}=i||{},g,y,E;for(g=0;g<=l;++g)y=r[(a+(p?l-g:g))%s],!y.skip&&(h?(n.moveTo(y.x,y.y),h=!1):u(n,E,y,p,o.stepped),E=y);return c&&(y=r[(a+(p?l:0))%s],u(n,E,y,p,o.stepped)),!!c}function Fae(n,e,t,i){let r=e.points,{count:o,start:s,ilen:a}=sH(r,t,i),{move:c=!0,reverse:l}=i||{},u=0,h=0,p,g,y,E,b,M,O=q=>(s+(l?a-q:q))%o,B=()=>{E!==b&&(n.lineTo(u,b),n.lineTo(u,E),n.lineTo(u,M))};for(c&&(g=r[O(0)],n.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=r[O(p)],g.skip)continue;let q=g.x,H=g.y,G=q|0;G===y?(H<E?E=H:H>b&&(b=H),u=(h*u+q)/++h):(B(),n.lineTo(q,H),y=G,h=0,E=b=H),M=H}B()}function KR(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Fae:Nae}function Lae(n){return n.stepped?H$:n.tension||n.cubicInterpolationMode==="monotone"?q$:tl}function Vae(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),oH(n,e.options),n.stroke(r)}function jae(n,e,t,i){let{segments:r,options:o}=e,s=KR(e);for(let a of r)oH(n,o,a.style),n.beginPath(),s(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var Bae=typeof Path2D=="function";function Uae(n,e,t,i){Bae&&!e.options.segment?Vae(n,e,t,i):jae(n,e,t,i)}var wC=(()=>{class n extends Oo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;U$(this._points,r,t,o,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=G$(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){let r=this.options,o=t[i],s=this.points,a=IR(this,{property:i,start:o,end:o});if(!a.length)return;let c=[],l=Lae(r),u,h;for(u=0,h=a.length;u<h;++u){let{start:p,end:g}=a[u],y=s[p],E=s[g];if(y===E){c.push(y);continue}let b=Math.abs((o-y[i])/(E[i]-y[i])),M=l(y,E,b,r.stepped);M[i]=t[i],c.push(M)}return c.length===1?c[0]:c}pathSegment(t,i,r){return KR(this)(t,this,i,r)}path(t,i,r){let o=this.segments,s=KR(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let c of o)a&=s(t,this,c,{start:i,end:i+r-1});return!!a}draw(t,i,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Uae(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function wz(n,e,t,i){let r=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<r.radius+r.hitRadius}var $ae=(()=>{class n extends Oo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(t-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,i){return wz(this,t,"x",i)}inYRange(t,i){return wz(this,t,"y",i)}getCenterPoint(t){let{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){let r=this.options;this.skip||r.radius<.1||!Ts(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,nC(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function aH(n,e){let{x:t,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],e),a,c,l,u,h;return n.horizontal?(h=s/2,a=Math.min(t,r),c=Math.max(t,r),l=i-h,u=i+h):(h=o/2,a=t-h,c=t+h,l=Math.min(i,r),u=Math.max(i,r)),{left:a,top:l,right:c,bottom:u}}function cl(n,e,t,i){return n?0:qn(e,t,i)}function zae(n,e,t){let i=n.options.borderWidth,r=n.borderSkipped,o=pR(i);return{t:cl(r.top,o.top,0,t),r:cl(r.right,o.right,0,e),b:cl(r.bottom,o.bottom,0,t),l:cl(r.left,o.left,0,e)}}function Hae(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=sl(r),s=Math.min(e,t),a=n.borderSkipped,c=i||it(r);return{topLeft:cl(!c||a.top||a.left,o.topLeft,0,s),topRight:cl(!c||a.top||a.right,o.topRight,0,s),bottomLeft:cl(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:cl(!c||a.bottom||a.right,o.bottomRight,0,s)}}function qae(n){let e=aH(n),t=e.right-e.left,i=e.bottom-e.top,r=zae(n,t/2,i/2),o=Hae(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function kR(n,e,t,i){let r=e===null,o=t===null,a=n&&!(r&&o)&&aH(n,i);return a&&(r||As(e,a.left,a.right))&&(o||As(t,a.top,a.bottom))}function Wae(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Gae(n,e){n.rect(e.x,e.y,e.w,e.h)}function OR(n,e,t={}){let i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,s=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+s,radius:n.radius}}var YR=class extends Oo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=qae(this),a=Wae(s.radius)?jf:Gae;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,OR(s,t,o)),e.clip(),a(e,OR(o,-t,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,OR(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return kR(this,e,t,i)}inXRange(e,t){return kR(this,e,null,t)}inYRange(e,t){return kR(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Kae=Object.freeze({__proto__:null,ArcElement:GR,BarElement:YR,LineElement:wC,PointElement:$ae}),QR=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Cz=QR.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function cH(n){return QR[n%QR.length]}function lH(n){return Cz[n%Cz.length]}function Yae(n,e){return n.borderColor=cH(e),n.backgroundColor=lH(e),++e}function Qae(n,e){return n.backgroundColor=n.data.map(()=>cH(e++)),e}function Xae(n,e){return n.backgroundColor=n.data.map(()=>lH(e++)),e}function Jae(n){let e=0;return(t,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof rk?e=Qae(t,e):r instanceof Qz?e=Xae(t,e):r&&(e=Yae(t,e))}}function Iz(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function Zae(n){return n&&(n.borderColor||n.backgroundColor)}function ece(){return Zt.borderColor!=="rgba(0,0,0,0.1)"||Zt.backgroundColor!=="rgba(0,0,0,0.1)"}var tce={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:o}=r,s=Iz(i)||Zae(r)||o&&Iz(o)||ece();if(!t.forceOverride&&s)return;let a=Jae(n);i.forEach(a)}};function nce(n,e,t,i,r){let o=r.samples||i;if(o>=t)return n.slice(e,e+t);let s=[],a=(t-2)/(o-2),c=0,l=e+t-1,u=e,h,p,g,y,E;for(s[c++]=n[u],h=0;h<o-2;h++){let b=0,M=0,O,B=Math.floor((h+1)*a)+1+e,q=Math.min(Math.floor((h+2)*a)+1,t)+e,H=q-B;for(O=B;O<q;O++)b+=n[O].x,M+=n[O].y;b/=H,M/=H;let G=Math.floor(h*a)+1+e,R=Math.min(Math.floor((h+1)*a)+1,t)+e,{x,y:P}=n[u];for(g=y=-1,O=G;O<R;O++)y=.5*Math.abs((x-b)*(n[O].y-P)-(x-n[O].x)*(M-P)),y>g&&(g=y,p=n[O],E=O);s[c++]=p,u=E}return s[c++]=n[l],s}function ice(n,e,t,i){let r=0,o=0,s,a,c,l,u,h,p,g,y,E,b=[],M=e+t-1,O=n[e].x,q=n[M].x-O;for(s=e;s<e+t;++s){a=n[s],c=(a.x-O)/q*i,l=a.y;let H=c|0;if(H===u)l<y?(y=l,h=s):l>E&&(E=l,p=s),r=(o*r+a.x)/++o;else{let G=s-1;if(!et(h)&&!et(p)){let R=Math.min(h,p),x=Math.max(h,p);R!==g&&R!==G&&b.push(ge(Y({},n[R]),{x:r})),x!==g&&x!==G&&b.push(ge(Y({},n[x]),{x:r}))}s>0&&G!==g&&b.push(n[G]),b.push(a),u=H,o=0,y=E=l,h=p=g=s}}return b}function uH(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xz(n){n.data.datasets.forEach(e=>{uH(e)})}function rce(n,e){let t=e.length,i=0,r,{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(i=qn(Ds(e,o.axis,s).lo,0,t-1)),l?r=qn(Ds(e,o.axis,a).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var oce={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){xz(n);return}let i=n.width;n.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,c=n.getDatasetMeta(o),l=s||r.data;if(Bf([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:p}=rce(c,l),g=t.threshold||4*i;if(p<=g){uH(r);return}et(s)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let y;switch(t.algorithm){case"lttb":y=nce(l,h,p,i,t);break;case"min-max":y=ice(l,h,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=y})},destroy(n){xz(n)}};function sce(n,e,t){let i=n.segments,r=n.points,o=e.points,s=[];for(let a of i){let{start:c,end:l}=a;l=CC(c,l,r);let u=XR(t,r[c],r[l],a.loop);if(!e.segments){s.push({source:a,target:u,start:r[c],end:r[l]});continue}let h=IR(e,u);for(let p of h){let g=XR(t,o[p.start],o[p.end],p.loop),y=CR(a,r,g);for(let E of y)s.push({source:E,target:p,start:{[t]:Dz(u,g,"start",Math.max)},end:{[t]:Dz(u,g,"end",Math.min)}})}}return s}function XR(n,e,t,i){if(i)return;let r=e[n],o=t[n];return n==="angle"&&(r=ri(r),o=ri(o)),{property:n,start:r,end:o}}function ace(n,e){let{x:t=null,y:i=null}=n||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=CC(s,a,r);let c=r[s],l=r[a];i!==null?(o.push({x:c.x,y:i}),o.push({x:l.x,y:i})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function CC(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Dz(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function dH(n,e){let t=[],i=!1;return Ht(n)?(i=!0,t=n):t=ace(n,e),t.length?new wC({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Tz(n){return n&&n.fill!==!1}function cce(n,e,t){let r=n[e].fill,o=[e],s;if(!t)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!un(r))return r;if(s=n[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function lce(n,e,t){let i=fce(n);if(it(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return un(r)&&Math.floor(r)===r?uce(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function uce(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function dce(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:it(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function hce(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:it(n)?i=n.value:i=e.getBaseValue(),i}function fce(n){let e=n.options,t=e.fill,i=Be(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function pce(n){let{scale:e,index:t,line:i}=n,r=[],o=i.segments,s=i.points,a=gce(e,t);a.push(dH({x:null,y:e.bottom},i));for(let c=0;c<o.length;c++){let l=o[c];for(let u=l.start;u<=l.end;u++)mce(r,s[u],a)}return new wC({points:r,options:{}})}function gce(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function mce(n,e,t){let i=[];for(let r=0;r<t.length;r++){let o=t[r],{first:s,last:a,point:c}=_ce(o,e,"x");if(!(!c||s&&a)){if(s)i.unshift(c);else if(n.push(c),!a)break}}n.push(...i)}function _ce(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let r=i[t],o=n.segments,s=n.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let u=o[l],h=s[u.start][t],p=s[u.end][t];if(As(r,h,p)){a=r===h,c=r===p;break}}return{first:a,last:c,point:i}}var bC=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:r,y:o,radius:s}=this;return t=t||{start:0,end:qt},e.arc(r,o,s,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function vce(n){let{chart:e,fill:t,line:i}=n;if(un(t))return yce(e,t);if(t==="stack")return pce(n);if(t==="shape")return!0;let r=bce(n);return r instanceof bC?r:dH(r,i)}function yce(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function bce(n){return(n.scale||{}).getPointPositionForValue?wce(n):Ece(n)}function Ece(n){let{scale:e={},fill:t}=n,i=dce(t,e);if(un(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function wce(n){let{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=hce(t,e,o),a=[];if(i.grid.circular){let c=e.getPointPositionForValue(0,o);return new bC({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,s));return a}function NR(n,e,t){let i=vce(e),{chart:r,index:o,line:s,scale:a,axis:c}=e,l=s.options,u=l.fill,h=l.backgroundColor,{above:p=h,below:g=h}=u||{},y=r.getDatasetMeta(o),E=xR(r,y);i&&s.points.length&&(d_(n,t),Cce(n,{line:s,target:i,above:p,below:g,area:t,scale:a,axis:c,clip:E}),h_(n))}function Cce(n,e){let{line:t,target:i,above:r,below:o,area:s,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;n.save();let u=o;o!==r&&(l==="x"?(Sz(n,i,s.top),FR(n,{line:t,target:i,color:r,scale:a,property:l,clip:c}),n.restore(),n.save(),Sz(n,i,s.bottom)):l==="y"&&(Az(n,i,s.left),FR(n,{line:t,target:i,color:o,scale:a,property:l,clip:c}),n.restore(),n.save(),Az(n,i,s.right),u=r)),FR(n,{line:t,target:i,color:u,scale:a,property:l,clip:c}),n.restore()}function Sz(n,e,t){let{segments:i,points:r}=e,o=!0,s=!1;n.beginPath();for(let a of i){let{start:c,end:l}=a,u=r[c],h=r[CC(c,l,r)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Az(n,e,t){let{segments:i,points:r}=e,o=!0,s=!1;n.beginPath();for(let a of i){let{start:c,end:l}=a,u=r[c],h=r[CC(c,l,r)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(t,h.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function FR(n,e){let{line:t,target:i,property:r,color:o,scale:s,clip:a}=e,c=sce(t,i,r);for(let{source:l,target:u,start:h,end:p}of c){let{style:{backgroundColor:g=o}={}}=l,y=i!==!0;n.save(),n.fillStyle=g,Ice(n,s,a,y&&XR(r,h,p)),n.beginPath();let E=!!t.pathSegment(n,l),b;if(y){E?n.closePath():Mz(n,i,p,r);let M=!!i.pathSegment(n,u,{move:E,reverse:!0});b=E&&M,b||Mz(n,i,h,r)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function Ice(n,e,t,i){let r=e.chart.chartArea,{property:o,start:s,end:a}=i||{};if(o==="x"||o==="y"){let c,l,u,h;o==="x"?(c=s,l=r.top,u=a,h=r.bottom):(c=r.left,l=s,u=r.right,h=a),n.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),h=Math.min(h,t.bottom)),n.rect(c,l,u-c,h-l),n.clip()}}function Mz(n,e,t,i){let r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var xce={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,r=[],o,s,a,c;for(s=0;s<i;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof wC&&(c={visible:n.isDatasetVisible(s),index:s,fill:lce(a,s,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,r.push(c);for(s=0;s<i;++s)c=r[s],!(!c||c.fill===!1)&&(c.fill=cce(r,s,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&NR(n.ctx,a,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;Tz(o)&&NR(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!Tz(i)||t.drawTime!=="beforeDatasetDraw"||NR(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Pz=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},Dce=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,EC=class extends Oo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Vt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=kn(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Pz(i,o),l,u;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,o,a,c)+10):(u=this.maxHeight,l=this._fitCols(s,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+a,h=e;o.textAlign="left",o.textBaseline="middle";let p=-1,g=-u;return this.legendItems.forEach((y,E)=>{let b=i+t/2+o.measureText(y.text).width;(E===0||l[l.length-1]+b+2*a>s)&&(h+=u,l[l.length-(E>0?0:1)]=0,g+=u,p++),c[E]={left:0,top:g,row:p,width:b,height:r},l[l.length-1]+=b+a}),h}_fitCols(e,t,i,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-e,h=a,p=0,g=0,y=0,E=0;return this.legendItems.forEach((b,M)=>{let{itemWidth:O,itemHeight:B}=Tce(i,t,o,b,r);M>0&&g+B+2*a>u&&(h+=p+a,l.push({width:p,height:g}),y+=p+a,E++,p=g=0),c[M]={left:y,top:g,col:E,width:O,height:B},p=Math.max(p,O),g+=B+a}),h+=p,l.push({width:p,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,s=Xu(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=oi(i,this.left+r,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=oi(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+r}else{let a=0,c=oi(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=oi(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;d_(e,this),this._draw(),h_(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:s}=e,a=Zt.color,c=Xu(e.rtl,this.left,this.width),l=kn(s.font),{padding:u}=s,h=l.size,p=h/2,g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:y,boxHeight:E,itemHeight:b}=Pz(s,h),M=function(G,R,x){if(isNaN(y)||y<=0||isNaN(E)||E<0)return;r.save();let P=Be(x.lineWidth,1);if(r.fillStyle=Be(x.fillStyle,a),r.lineCap=Be(x.lineCap,"butt"),r.lineDashOffset=Be(x.lineDashOffset,0),r.lineJoin=Be(x.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Be(x.strokeStyle,a),r.setLineDash(Be(x.lineDash,[])),s.usePointStyle){let N={radius:E*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:P},F=c.xPlus(G,y/2),V=R+p;fR(r,N,F,V,s.pointStyleWidth&&y)}else{let N=R+Math.max((h-E)/2,0),F=c.leftForLtr(G,y),V=sl(x.borderRadius);r.beginPath(),Object.values(V).some(k=>k!==0)?jf(r,{x:F,y:N,w:y,h:E,radius:V}):r.rect(F,N,y,E),r.fill(),P!==0&&r.stroke()}r.restore()},O=function(G,R,x){ol(r,x.text,G,R+b/2,l,{strikethrough:x.hidden,textAlign:c.textAlign(x.textAlign)})},B=this.isHorizontal(),q=this._computeTitleHeight();B?g={x:oi(o,this.left+u,this.right-i[0]),y:this.top+u+q,line:0}:g={x:this.left+u,y:oi(o,this.top+q+u,this.bottom-t[0].height),line:0},ER(this.ctx,e.textDirection);let H=b+u;this.legendItems.forEach((G,R)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;let x=r.measureText(G.text).width,P=c.textAlign(G.textAlign||(G.textAlign=s.textAlign)),N=y+p+x,F=g.x,V=g.y;c.setWidth(this.width),B?R>0&&F+N+u>this.right&&(V=g.y+=H,g.line++,F=g.x=oi(o,this.left+u,this.right-i[g.line])):R>0&&V+H>this.bottom&&(F=g.x=F+t[g.line].width+u,g.line++,V=g.y=oi(o,this.top+q+u,this.bottom-t[g.line].height));let k=c.x(F);if(M(k,V,G),F=P$(P,F+y+p,B?F+N:this.right,e.rtl),O(c.x(F),V,G),B)g.x+=N+u;else if(typeof G.text!="string"){let jt=l.lineHeight;g.y+=hH(G,jt)+u}else g.y+=H}),wR(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=kn(t.font),r=si(t.padding);if(!t.display)return;let o=Xu(e.rtl,this.left,this.width),s=this.ctx,a=t.position,c=i.size/2,l=r.top+c,u,h=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),u=this.top+l,h=oi(e.align,h,this.right-p);else{let y=this.columnSizes.reduce((E,b)=>Math.max(E,b.height),0);u=l+oi(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}let g=oi(a,h,h+p);s.textAlign=o.textAlign(eC(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=i.string,ol(s,t.text,g,u,i)}_computeTitleHeight(){let e=this.options.title,t=kn(e.font),i=si(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(As(e,this.left,this.right)&&As(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],As(e,r.left,r.left+r.width)&&As(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!Mce(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,o=Dce(r,i);r&&!o&&Vt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Vt(t.onHover,[e,i,this],this)}else i&&Vt(t.onClick,[e,i,this],this)}};function Tce(n,e,t,i,r){let o=Sce(i,n,e,t),s=Ace(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}function Sce(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+i.measureText(r).width}function Ace(n,e,t){let i=n;return typeof e.text!="string"&&(i=hH(e,t)),i}function hH(n,e){let t=n.text?n.text.length:0;return e*t}function Mce(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Pce={id:"legend",_element:EC,start(n,e,t){let i=n.legend=new EC({ctx:n.ctx,options:t,chart:n});vi.configure(n,i,t),vi.addBox(n,i)},stop(n){vi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;vi.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=si(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},E_=class extends Oo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=Ht(i.text)?i.text.length:1;this._padding=si(i.padding);let o=r*kn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:r,right:o,options:s}=this,a=s.align,c=0,l,u,h;return this.isHorizontal()?(u=oi(a,i,o),h=t+e,l=o-i):(s.position==="left"?(u=i+e,h=oi(a,r,t),c=ut*-.5):(u=o-e,h=oi(a,t,r),c=ut*.5),l=r-t),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=kn(t.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);ol(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:l,textAlign:eC(t.align),textBaseline:"middle",translation:[s,a]})}};function Rce(n,e){let t=new E_({ctx:n.ctx,options:e,chart:n});vi.configure(n,t,e),vi.addBox(n,t),n.titleBlock=t}var kce={id:"title",_element:E_,start(n,e,t){Rce(n,t)},stop(n){let e=n.titleBlock;vi.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;vi.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},dC=new WeakMap,Oce={id:"subtitle",start(n,e,t){let i=new E_({ctx:n.ctx,options:t,chart:n});vi.configure(n,i,t),vi.addBox(n,i),dC.set(n,i)},stop(n){vi.removeBox(n,dC.get(n)),dC.delete(n)},beforeUpdate(n,e,t){let i=dC.get(n);vi.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},y_={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),r+=c.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let c=n[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=Yw(e,l);u<r&&(r=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Ms(n,e){return e&&(Ht(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Pa(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Nce(n,e){let{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Rz(n,e){let t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=e,c=kn(e.bodyFont),l=kn(e.titleFont),u=kn(e.footerFont),h=o.length,p=r.length,g=i.length,y=si(e.padding),E=y.height,b=0,M=i.reduce((q,H)=>q+H.before.length+H.lines.length+H.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,h&&(E+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),M){let q=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;E+=g*q+(M-g)*c.lineHeight+(M-1)*e.bodySpacing}p&&(E+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let O=0,B=function(q){b=Math.max(b,t.measureText(q).width+O)};return t.save(),t.font=l.string,Et(n.title,B),t.font=c.string,Et(n.beforeBody.concat(n.afterBody),B),O=e.displayColors?s+2+e.boxPadding:0,Et(i,q=>{Et(q.before,B),Et(q.lines,B),Et(q.after,B)}),O=0,t.font=u.string,Et(n.footer,B),t.restore(),b+=y.width,{width:b,height:E}}function Fce(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Lce(n,e,t,i){let{x:r,width:o}=i,s=t.caretSize+t.caretPadding;if(n==="left"&&r+o+s>e.width||n==="right"&&r-o-s<0)return!0}function Vce(n,e,t,i){let{x:r,width:o}=t,{width:s,chartArea:{left:a,right:c}}=n,l="center";return i==="center"?l=r<=(a+c)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),Lce(l,n,e,t)&&(l="center"),l}function kz(n,e,t){let i=t.yAlign||e.yAlign||Fce(n,t);return{xAlign:t.xAlign||e.xAlign||Vce(n,e,t,i),yAlign:i}}function jce(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Bce(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Oz(n,e,t,i){let{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=t,l=r+o,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=sl(s),y=jce(e,a),E=Bce(e,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(u,p)+r:a==="right"&&(y+=Math.max(h,g)+r),{x:qn(y,0,i.width-e.width),y:qn(E,0,i.height-e.height)}}function hC(n,e,t){let i=si(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Nz(n){return Ms([],Pa(n))}function Uce(n,e,t){return Aa(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Fz(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var fH={beforeTitle:Ss,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return et(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function er(n,e,t,i){let r=n[e].call(t,i);return typeof r>"u"?fH[e].call(t,i):r}var Lz=(()=>{class n extends Oo{static positioners=y_;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new mC(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Uce(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:r}=i,o=er(r,"beforeTitle",this,t),s=er(r,"title",this,t),a=er(r,"afterTitle",this,t),c=[];return c=Ms(c,Pa(o)),c=Ms(c,Pa(s)),c=Ms(c,Pa(a)),c}getBeforeBody(t,i){return Nz(er(i.callbacks,"beforeBody",this,t))}getBody(t,i){let{callbacks:r}=i,o=[];return Et(t,s=>{let a={before:[],lines:[],after:[]},c=Fz(r,s);Ms(a.before,Pa(er(c,"beforeLabel",this,s))),Ms(a.lines,er(c,"label",this,s)),Ms(a.after,Pa(er(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,i){return Nz(er(i.callbacks,"afterBody",this,t))}getFooter(t,i){let{callbacks:r}=i,o=er(r,"beforeFooter",this,t),s=er(r,"footer",this,t),a=er(r,"afterFooter",this,t),c=[];return c=Ms(c,Pa(o)),c=Ms(c,Pa(s)),c=Ms(c,Pa(a)),c}_createItems(t){let i=this._active,r=this.chart.data,o=[],s=[],a=[],c=[],l,u;for(l=0,u=i.length;l<u;++l)c.push(Nce(this.chart,i[l]));return t.filter&&(c=c.filter((h,p,g)=>t.filter(h,p,g,r))),t.itemSort&&(c=c.sort((h,p)=>t.itemSort(h,p,r))),Et(c,h=>{let p=Fz(t.callbacks,h);o.push(er(p,"labelColor",this,h)),s.push(er(p,"labelPointStyle",this,h)),a.push(er(p,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,i){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=y_[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=Rz(this,r),u=Object.assign({},c,l),h=kz(this.chart,r,u),p=Oz(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:p.x,y:p.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,o){let s=this.getCaretPosition(t,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(t,i,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:p}=sl(c),{x:g,y}=t,{width:E,height:b}=i,M,O,B,q,H,G;return s==="center"?(H=y+b/2,o==="left"?(M=g,O=M-a,q=H+a,G=H-a):(M=g+E,O=M+a,q=H-a,G=H+a),B=M):(o==="left"?O=g+Math.max(l,h)+a:o==="right"?O=g+E-Math.max(u,p)-a:O=this.caretX,s==="top"?(q=y,H=q-a,M=O-a,B=O+a):(q=y+b,H=q+a,M=O+a,B=O-a),G=q),{x1:M,x2:O,x3:B,y1:q,y2:H,y3:G}}drawTitle(t,i,r){let o=this.title,s=o.length,a,c,l;if(s){let u=Xu(r.rtl,this.x,this.width);for(t.x=hC(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=kn(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===s&&(t.y+=r.titleMarginBottom-c)}}_drawColorBox(t,i,r,o,s){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,h=kn(s.bodyFont),p=hC(this,"left",s),g=o.x(p),y=l<h.lineHeight?(h.lineHeight-l)/2:0,E=i.y+y;if(s.usePointStyle){let b={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},M=o.leftForLtr(g,u)+u/2,O=E+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,nC(t,b,M,O),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,nC(t,b,M,O)}else{t.lineWidth=it(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let b=o.leftForLtr(g,u),M=o.leftForLtr(o.xPlus(g,1),u-2),O=sl(a.borderRadius);Object.values(O).some(B=>B!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,jf(t,{x:b,y:E,w:u,h:l,radius:O}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),jf(t,{x:M,y:E+1,w:u-2,h:l-2,radius:O}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(b,E,u,l),t.strokeRect(b,E,u,l),t.fillStyle=a.backgroundColor,t.fillRect(M,E+1,u-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:h}=r,p=kn(r.bodyFont),g=p.lineHeight,y=0,E=Xu(r.rtl,this.x,this.width),b=function(P){i.fillText(P,E.x(t.x+y),t.y+g/2),t.y+=g+s},M=E.textAlign(a),O,B,q,H,G,R,x;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,t.x=hC(this,M,r),i.fillStyle=r.bodyColor,Et(this.beforeBody,b),y=c&&M!=="right"?a==="center"?u/2+h:u+2+h:0,H=0,R=o.length;H<R;++H){for(O=o[H],B=this.labelTextColors[H],i.fillStyle=B,Et(O.before,b),q=O.lines,c&&q.length&&(this._drawColorBox(i,t,H,E,r),g=Math.max(p.lineHeight,l)),G=0,x=q.length;G<x;++G)b(q[G]),g=p.lineHeight;Et(O.after,b)}y=0,g=p.lineHeight,Et(this.afterBody,b),t.y-=s}drawFooter(t,i,r){let o=this.footer,s=o.length,a,c;if(s){let l=Xu(r.rtl,this.x,this.width);for(t.x=hC(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=kn(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,i,r,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:h}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:E}=sl(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+p,l),a==="top"&&this.drawCaret(t,i,r,o),i.lineTo(c+u-g,l),i.quadraticCurveTo(c+u,l,c+u,l+g),a==="center"&&s==="right"&&this.drawCaret(t,i,r,o),i.lineTo(c+u,l+h-E),i.quadraticCurveTo(c+u,l+h,c+u-E,l+h),a==="bottom"&&this.drawCaret(t,i,r,o),i.lineTo(c+y,l+h),i.quadraticCurveTo(c,l+h,c,l+h-y),a==="center"&&s==="left"&&this.drawCaret(t,i,r,o),i.lineTo(c,l+p),i.quadraticCurveTo(c,l,c+p,l),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=y_[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=Rz(this,t),l=Object.assign({},a,this._size),u=kz(i,t,l),h=Oz(t,l,u,i);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=si(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,o,i),ER(t,i.textDirection),s.y+=a.top,this.drawTitle(s,t,i),this.drawBody(s,t,i),this.drawFooter(s,t,i),wR(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let r=this._active,o=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),s=!l_(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,i,r),c=this._positionChanged(a,t),l=i||!l_(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,r,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(t,i){let{caretX:r,caretY:o,options:s}=this,a=y_[s.position].call(this,t,i);return a!==!1&&(r!==a.x||o!==a.y)}}return n})(),$ce={id:"tooltip",_element:Lz,positioners:y_,afterInit(n,e,t){t&&(n.tooltip=new Lz({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",ge(Y({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},zce=Object.freeze({__proto__:null,Colors:tce,Decimation:oce,Filler:xce,Legend:Pce,SubTitle:Oce,Title:kce,Tooltip:$ce}),Hce=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function qce(n,e,t,i){let r=n.indexOf(e);if(r===-1)return Hce(n,e,t,i);let o=n.lastIndexOf(e);return r!==o?t:r}var Wce=(n,e)=>n===null?null:qn(Math.round(n),0,e);function Vz(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var Gce=(()=>{class n extends ed{static id="category";static defaults={ticks:{callback:Vz}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(et(t))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:qce(r,t,Be(i,t),this._addedLabels),Wce(i,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let t=this.min,i=this.max,r=this.options.offset,o=[],s=this.getLabels();s=t===0&&i===s.length-1?s:s.slice(t,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=i;a++)o.push({value:a});return o}getLabelForValue(t){return Vz.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function Kce(n,e){let t=[],{bounds:r,step:o,min:s,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:p}=n,g=o||1,y=u-1,{min:E,max:b}=e,M=!et(s),O=!et(a),B=!et(l),q=(b-E)/(h+1),H=eR((b-E)/y/g)*g,G,R,x,P;if(H<1e-14&&!M&&!O)return[{value:E},{value:b}];P=Math.ceil(b/H)-Math.floor(E/H),P>y&&(H=eR(P*H/y/g)*g),et(c)||(G=Math.pow(10,c),H=Math.ceil(H*G)/G),r==="ticks"?(R=Math.floor(E/H)*H,x=Math.ceil(b/H)*H):(R=E,x=b),M&&O&&o&&I$((a-s)/o,H/1e3)?(P=Math.round(Math.min((a-s)/H,u)),H=(a-s)/P,R=s,x=a):B?(R=M?s:R,x=O?a:x,P=l-1,H=(x-R)/P):(P=(x-R)/H,Ff(P,Math.round(P),H/1e3)?P=Math.round(P):P=Math.ceil(P));let N=Math.max(nR(H),nR(R));G=Math.pow(10,et(c)?N:c),R=Math.round(R*G)/G,x=Math.round(x*G)/G;let F=0;for(M&&(p&&R!==s?(t.push({value:s}),R<s&&F++,Ff(Math.round((R+F*H)*G)/G,s,jz(s,q,n))&&F++):R<s&&F++);F<P;++F){let V=Math.round((R+F*H)*G)/G;if(O&&V>a)break;t.push({value:V})}return O&&p&&x!==a?t.length&&Ff(t[t.length-1].value,a,jz(a,q,n))?t[t.length-1].value=a:t.push({value:a}):(!O||x===a)&&t.push({value:x}),t}function jz(n,e,{horizontal:t,minRotation:i}){let r=Yr(i),o=(t?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}var zf=class extends ed{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return et(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,s=c=>r=t?r:c,a=c=>o=i?o:c;if(e){let c=ko(r),l=ko(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(r===o){let c=o===0?1:Math.abs(o*.05);a(o+c),e||s(r-c)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=Kce(r,o);return e.bounds==="ticks"&&tR(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Vf(e,this.chart.options.locale,this.options.ticks.format)}},JR=class extends zf{static id="linear";static defaults={ticks:{callback:u_.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=un(e)?e:0,this.max=un(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=Yr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},w_=n=>Math.floor(Ta(n)),Zu=(n,e)=>Math.pow(10,w_(n)+e);function Bz(n){return n/Math.pow(10,w_(n))===1}function Uz(n,e,t){let i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function Yce(n,e){let t=e-n,i=w_(t);for(;Uz(n,e,i)>10;)i++;for(;Uz(n,e,i)<10;)i--;return Math.min(i,w_(n))}function Qce(n,{min:e,max:t}){e=Zi(n.min,e);let i=[],r=w_(e),o=Yce(e,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=r>o?Math.pow(10,r):0,l=Math.round((e-c)*s)/s,u=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-u)/Math.pow(10,o)),p=Zi(n.min,Math.round((c+u+h*Math.pow(10,o))*s)/s);for(;p<t;)i.push({value:p,major:Bz(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),p=Math.round((c+u+h*Math.pow(10,o))*s)/s;let g=Zi(n.max,p);return i.push({value:g,major:Bz(g),significand:h}),i}var ZR=class extends ed{static id="logarithmic";static defaults={ticks:{callback:u_.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=zf.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return un(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=un(e)?Math.max(0,e):null,this.max=un(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!un(this._userMin)&&(this.min=e===Zu(this.min,0)?Zu(this.min,-1):Zu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,r=this.max,o=a=>i=e?i:a,s=a=>r=t?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Zu(i,-1)),s(Zu(r,1)))),i<=0&&o(Zu(r,-1)),r<=0&&s(Zu(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=Qce(t,this);return e.bounds==="ticks"&&tR(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Vf(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ta(e),this._valueRange=Ta(this.max)-Ta(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ta(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function ek(n){let e=n.ticks;if(e.display&&n.display){let t=si(e.backdropPadding);return Be(e.font&&e.font.size,Zt.font.size)+t.height}return 0}function Xce(n,e,t){return t=Ht(t)?t:[t],{w:k$(n,e.string,t),h:t.length*e.lineHeight}}function $z(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function Jce(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?ut/o:0;for(let c=0;c<o;c++){let l=s.setContext(n.getPointLabelContext(c));r[c]=l.padding;let u=n.getPointPosition(c,n.drawingArea+r[c],a),h=kn(l.font),p=Xce(n.ctx,h,n._pointLabels[c]);i[c]=p;let g=ri(n.getIndexAngle(c)+a),y=Math.round(Jw(g)),E=$z(y,u.x,p.w,0,180),b=$z(y,u.y,p.h,90,270);Zce(t,e,g,E,b)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=nle(n,i,r)}function Zce(n,e,t,i,r){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,c=0;i.start<e.l?(a=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/s,n.t=Math.min(n.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/s,n.b=Math.max(n.b,e.b+c))}function ele(n,e,t){let i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=t,c=n.getPointPosition(e,i+r+s,o),l=Math.round(Jw(ri(c.angle+mn))),u=ole(c.y,a.h,l),h=ile(l),p=rle(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:p,top:u,right:p+a.w,bottom:u+a.h}}function tle(n,e){if(!e)return!0;let{left:t,top:i,right:r,bottom:o}=n;return!(Ts({x:t,y:i},e)||Ts({x:t,y:o},e)||Ts({x:r,y:i},e)||Ts({x:r,y:o},e))}function nle(n,e,t){let i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:ek(o)/2,additionalAngle:s?ut/r:0},l;for(let u=0;u<r;u++){c.padding=t[u],c.size=e[u];let h=ele(n,u,c);i.push(h),a==="auto"&&(h.visible=tle(h,l),h.visible&&(l=h))}return i}function ile(n){return n===0||n===180?"center":n<180?"left":"right"}function rle(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function ole(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function sle(n,e,t){let{left:i,top:r,right:o,bottom:s}=t,{backdropColor:a}=e;if(!et(a)){let c=sl(e.borderRadius),l=si(e.backdropPadding);n.fillStyle=a;let u=i-l.left,h=r-l.top,p=o-i+l.width,g=s-r+l.height;Object.values(c).some(y=>y!==0)?(n.beginPath(),jf(n,{x:u,y:h,w:p,h:g,radius:c}),n.fill()):n.fillRect(u,h,p,g)}}function ale(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){let o=n._pointLabelItems[r];if(!o.visible)continue;let s=i.setContext(n.getPointLabelContext(r));sle(t,s,o);let a=kn(s.font),{x:c,y:l,textAlign:u}=o;ol(t,n._pointLabels[r],c,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function pH(n,e,t,i){let{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,qt);else{let o=n.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function cle(n,e,t,i,r){let o=n.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!i||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),pH(n,t,s,i),o.closePath(),o.stroke(),o.restore())}function lle(n,e,t){return Aa(n,{label:t,index:e,type:"pointLabel"})}var tk=class extends zf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:u_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=si(ek(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=un(e)&&!isNaN(e)?e:0,this.max=un(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ek(this.options))}generateTickLabels(e){zf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let r=Vt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?Jce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){let t=qt/(this._pointLabels.length||1),i=this.options.startAngle||0;return ri(e*t+Yr(i))}getDistanceFromCenterForValue(e){if(et(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(et(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return lle(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let r=this.getIndexAngle(e)-mn+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),pH(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:r,border:o}=t,s=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&ale(this,s),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let p=this.getContext(h),g=r.setContext(p),y=o.setContext(p);cle(this,g,c,s,y)}}),i.display){for(e.save(),a=s-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:p}=u;!p||!h||(e.lineWidth=p,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=i.setContext(this.getContext(c)),u=kn(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=si(l.backdropPadding);e.fillRect(-s/2-h.left,-o-u.size/2-h.top,s+h.width,u.size+h.height)}ol(e,a.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},IC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tr=Object.keys(IC);function zz(n,e){return n-e}function Hz(n,e){if(et(e))return null;let t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts,s=e;return typeof i=="function"&&(s=i(s)),un(s)||(s=typeof i=="string"?t.parse(s,i):t.parse(s)),s===null?null:(r&&(s=r==="week"&&(Qu(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,r)),+s)}function qz(n,e,t,i){let r=tr.length;for(let o=tr.indexOf(n);o<r-1;++o){let s=IC[tr[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=i)return tr[o]}return tr[r-1]}function ule(n,e,t,i,r){for(let o=tr.length-1;o>=tr.indexOf(t);o--){let s=tr[o];if(IC[s].common&&n._adapter.diff(r,i,s)>=e-1)return s}return tr[t?tr.indexOf(t):0]}function dle(n){for(let e=tr.indexOf(n)+1,t=tr.length;e<t;++e)if(IC[tr[e]].common)return tr[e]}function Wz(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:r}=Zw(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function hle(n,e,t,i){let r=n._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value,a,c;for(a=o;a<=s;a=+r.add(a,1,i))c=t[a],c>=0&&(e[c].major=!0);return e}function Gz(n,e,t){let i=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!t?i:hle(n,i,r,t)}var nk=(()=>{class n extends ed{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){let r=t.time||(t.time={}),o=this._adapter=new Cse._date(t.adapters.date);o.init(i),Of(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:Hz(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,r=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=un(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=un(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){let t=this.options,i=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=T$(o,s,a);return this._unit=i.unit||(r.autoSkip?qz(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):ule(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:dle(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),Gz(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?i=1-o:i=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;i=qn(i,0,a),r=qn(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let t=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||qz(s.minUnit,i,r,this._getLabelCapacity(i)),c=Be(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Qu(l)||l===!0,h={},p=i,g,y;if(u&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,u?"day":a),t.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);let E=o.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+t.add(g,c,a),y++)Wz(h,g,E);return(g===r||o.bounds==="ticks"||y===1)&&Wz(h,g,E),Object.keys(h).sort(zz).map(b=>+b)}getLabelForValue(t){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,i,r,o){let s=this.options,a=s.ticks.callback;if(a)return Vt(a,[t,i,r],this);let c=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&c[l],p=u&&c[u],g=r[i],y=u&&p&&g&&g.major;return this._adapter.format(t,o||(y?p:h))}generateTickLabels(t){let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],o.label=this._tickFormatFunction(o.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){let i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,r=this.ctx.measureText(t).width,o=Yr(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*a,h:r*a+c*s}}_getLabelCapacity(t){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(t,0,Gz(this,[t],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)t=t.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,r;if(t.length)return t;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)t.push(Hz(this,o[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return oR(t.sort(zz))}}return n})();function fC(n,e,t){let i=0,r=n.length-1,o,s,a,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Ds(n,"pos",e)),{pos:o,time:a}=n[i],{pos:s,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Ds(n,"time",e)),{time:o,pos:a}=n[i],{time:s,pos:c}=n[r]);let l=s-o;return l?a+(c-a)*(e-o)/l:a}var ik=class extends nk{static id="timeseries";static defaults=nk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=fC(t,this.min),this._tableRange=fC(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,r=[],o=[],s,a,c,l,u;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=i&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)u=r[s+1],c=r[s-1],l=r[s],Math.round((u+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(fC(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return fC(this._table,i*this._tableRange+this._minPos,!0)}},fle=Object.freeze({__proto__:null,CategoryScale:Gce,LinearScale:JR,LogarithmicScale:ZR,RadialLinearScale:tk,TimeScale:nk,TimeSeriesScale:ik}),gH=[wse,Kae,zce,fle];I_.register(...gH);var xC=class n{fs=z(Ro);auth=z(ni);colPath(e){return g4(this.fs,`users/${e}/transactions`)}monthKeyOf(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}listenMonth(e,t,i){let r=this.auth.currentUser;if(!r)throw new Error("not-authenticated");let o=`${e}-${String(t+1).padStart(2,"0")}`,s=AP(this.colPath(r.uid),pw("monthKey","==",o),pw("deletedAt","==",null),SP("date","desc"));return dw(s,c=>{let l=[];c.forEach(u=>l.push(Y({id:u.id},u.data()))),i(l)})}add(e){return A(this,null,function*(){let t=this.auth.currentUser;if(!t)throw new Error("not-authenticated");let i=e.date.toDate?e.date.toDate():e.date,r=ge(Y({},e),{uid:t.uid,monthKey:this.monthKeyOf(i),createdAt:Gr(),updatedAt:Gr(),deletedAt:null});yield p4(this.colPath(t.uid),r)})}softDelete(e){return A(this,null,function*(){let t=this.auth.currentUser;if(!t)throw new Error("not-authenticated");yield fw(Qc(this.fs,`users/${t.uid}/transactions/${e}`),{deletedAt:Gr(),updatedAt:Gr()})})}listTrash(e=50){return A(this,null,function*(){let t=this.auth.currentUser;if(!t)throw new Error("not-authenticated");let i=AP(this.colPath(t.uid),pw("deletedAt","!=",null),SP("deletedAt","desc"),y4(e));return(yield _4(i)).docs.map(o=>Y({id:o.id},o.data()))})}restore(e){return A(this,null,function*(){let t=this.auth.currentUser;if(!t)throw new Error("not-authenticated");yield fw(Qc(this.fs,`users/${t.uid}/transactions/${e}`),{deletedAt:null,updatedAt:Gr()})})}update(e,t){return A(this,null,function*(){let i=this.auth.currentUser;if(!i)throw new Error("not-authenticated");let r=Qc(this.fs,`users/${i.uid}/transactions/${e}`);yield fw(r,ge(Y({},t),{updatedAt:Gr()}))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var mH=(n,e)=>e.id,sk=(n,e)=>e.nome;function ple(n,e){if(n&1){let t=bt();I(0,"button",54),ce("click",function(){he(t);let r=ne();return fe(r.resetFiltro())}),C(1,"Remover filtro"),S()}}function gle(n,e){if(n&1){let t=bt();I(0,"div",30)(1,"button",55),ce("click",function(){he(t);let r=ne();return fe(r.setTheme("dark"))}),C(2,"Tema escuro"),S(),I(3,"button",56),ce("click",function(){he(t);let r=ne();return fe(r.setTheme("light"))}),C(4,"Tema claro"),S(),I(5,"button",57),ce("click",function(){he(t);let r=ne();return fe(r.setTheme(""))}),C(6,"Tema padr\xE3o"),S(),Ee(7,"hr"),I(8,"button",58),ce("click",function(){he(t);let r=ne();return fe(r.abrirLixeira())}),C(9,"Abrir lixeira"),S()()}}function mle(n,e){if(n&1&&(I(0,"small",14),C(1,"\u2014 "),I(2,"span",71),C(3),S()()),n&2){let t=ne().$implicit;L(3),Ie(t.obs)}}function _le(n,e){if(n&1){let t=bt();I(0,"div",44)(1,"div",59)(2,"div",60)(3,"span",61),C(4),S(),C(5," \u2022 "),I(6,"span",62),ce("click",function(r){let o=he(t).$implicit;return ne().abrirEditar(o),fe(r.stopPropagation())}),C(7,"Editar"),S()(),I(8,"small",14)(9,"span",63),C(10),fi(11,"titlecase"),S(),C(12," \u2022 "),I(13,"span",64),C(14),fi(15,"date"),S()(),$i(16,mle,4,1,"small",65),S(),I(17,"div",66)(18,"span",67),C(19),S(),C(20," R$ "),I(21,"span",68),C(22),fi(23,"number"),S()(),I(24,"button",69),ce("click",function(){let r=he(t).$implicit,o=ne();return fe(o.confirmarExcluir(r.id))}),Ee(25,"i",70),S()()}if(n&2){let t=e.$implicit;go("data-id",t.id),L(4),Ie(t.categoria),L(6),Ie(uc(11,11,t.meio)),L(4),Ie(vo(15,13,t.date.toDate(),"dd/MM")),L(2),Ae("ngIf",t.obs),L(),Ye("in",t.tipo==="entrada")("out",t.tipo==="saida"),L(2),Ie(t.tipo==="entrada"?"+":"-"),L(3),Ie(vo(23,16,t.valor,"1.2-2"))}}function vle(n,e){if(n&1&&(I(0,"option",85),C(1),S()),n&2){let t=e.$implicit;Ae("value",t.nome),L(),Hi("",t.emoji," ",t.nome)}}function yle(n,e){if(n&1){let t=bt();I(0,"div",72),ce("click",function(){he(t);let r=ne();return fe(r.fecharAdd())}),I(1,"div",73),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",74),C(3),S(),I(4,"div",75)(5,"label"),C(6,"Data "),I(7,"input",76),ce("change",function(r){he(t);let o=ne();return fe(o.onDateChange(r))}),S()(),I(8,"label"),C(9,"Meio "),I(10,"select",77),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.novo.meio,r)||(o.novo.meio=r),fe(r)}),I(11,"option",78),C(12,"PIX"),S(),I(13,"option",79),C(14,"Dinheiro"),S(),I(15,"option",80),C(16,"D\xE9bito"),S(),I(17,"option",81),C(18,"Cr\xE9dito"),S(),I(19,"option",82),C(20,"Boleto"),S(),I(21,"option",83),C(22,"Outro"),S()()(),I(23,"label"),C(24,"Categoria "),I(25,"select",84),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.novo.categoria,r)||(o.novo.categoria=r),fe(r)}),Qt(26,vle,2,3,"option",85,sk),S()(),I(28,"label"),C(29,"Valor (R$) "),I(30,"input",86),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.novo.valor,r)||(o.novo.valor=r),fe(r)}),S()(),I(31,"label",87),C(32,"Observa\xE7\xE3o "),I(33,"input",88),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.novo.obs,r)||(o.novo.obs=r),fe(r)}),S()()(),I(34,"div",89)(35,"button",90),ce("click",function(){he(t);let r=ne();return fe(r.fecharAdd())}),C(36,"Cancelar"),S(),I(37,"button",91),ce("click",function(){he(t);let r=ne();return fe(r.salvarTransacao())}),C(38,"Salvar"),S()()()()}if(n&2){let t=ne();L(3),Ze(" ",t.novo.tipo==="entrada"?"Nova Entrada":"Nova Despesa"," "),L(4),Ae("value",t.dateToInput(t.novo.date)),L(3),mo("ngModel",t.novo.meio),L(15),mo("ngModel",t.novo.categoria),L(),Xt(t.categorias),L(4),mo("ngModel",t.novo.valor),L(3),mo("ngModel",t.novo.obs)}}function ble(n,e){if(n&1){let t=bt();I(0,"div",92),ce("click",function(){he(t);let r=ne();return fe(r.cancelarExcluir())}),I(1,"div",93),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",94),C(3,"Confirmar exclus\xE3o"),S(),I(4,"p",95),C(5,"Deseja realmente enviar esta movimenta\xE7\xE3o para a lixeira?"),S(),I(6,"div",89)(7,"button",96),ce("click",function(){he(t);let r=ne();return fe(r.cancelarExcluir())}),C(8,"Cancelar"),S(),I(9,"button",97),ce("click",function(){he(t);let r=ne();return fe(r.excluirConfirmado())}),C(10,"Excluir"),S()()()()}}function Ele(n,e){if(n&1&&(I(0,"option",85),C(1),S()),n&2){let t=e.$implicit;Ae("value",t.nome),L(),Ie(t.nome)}}function wle(n,e){if(n&1){let t=bt();I(0,"button",111),ce("click",function(){he(t);let r=ne(2);return fe(r.resetFiltro())}),C(1,"Limpar"),S()}}function Cle(n,e){if(n&1){let t=bt();I(0,"div",98),ce("click",function(){he(t);let r=ne();return fe(r.fecharFiltro())}),I(1,"div",73),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",99),C(3,"Filtros"),S(),I(4,"div",75)(5,"label"),C(6,"Tipo "),I(7,"select",100),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("tipo",r))}),I(8,"option",101),C(9,"Todas"),S(),I(10,"option",102),C(11,"Entradas"),S(),I(12,"option",103),C(13,"Despesas"),S()()(),I(14,"label"),C(15,"Meio "),I(16,"select",104),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("meio",r))}),I(17,"option",105),C(18,"Todos"),S(),I(19,"option",78),C(20,"PIX"),S(),I(21,"option",79),C(22,"Dinheiro"),S(),I(23,"option",80),C(24,"D\xE9bito"),S(),I(25,"option",81),C(26,"Cr\xE9dito"),S(),I(27,"option",82),C(28,"Boleto"),S(),I(29,"option",83),C(30,"Outro"),S()()(),I(31,"label"),C(32,"Categoria "),I(33,"select",106),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("categoria",r))}),I(34,"option",101),C(35,"Todas"),S(),Qt(36,Ele,2,2,"option",85,sk),S()(),I(38,"label"),C(39,"De "),I(40,"input",107),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("start",r))}),S()(),I(41,"label"),C(42,"At\xE9 "),I(43,"input",108),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("end",r))}),S()()(),I(44,"div",89),Le(45,wle,2,0,"button",109),I(46,"button",110),ce("click",function(){he(t);let r=ne();return fe(r.fecharFiltro())}),C(47,"Fechar"),S()()()()}if(n&2){let t=ne();L(7),Ae("ngModel",t.filtro().tipo),L(9),Ae("ngModel",t.filtro().meio),L(17),Ae("ngModel",t.filtro().categoria),L(3),Xt(t.categorias),L(4),Ae("ngModel",t.filtro().start),L(3),Ae("ngModel",t.filtro().end),L(2),Ve(t.hasFilter()?45:-1)}}function Ile(n,e){if(n&1){let t=bt();I(0,"div",112),ce("click",function(){he(t);let r=ne();return fe(r.fecharBusca())}),I(1,"div",73),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",99),C(3,"Buscar"),S(),I(4,"div",75)(5,"label",87),C(6,"Texto na observa\xE7\xE3o "),I(7,"input",113),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.updateFiltro("q",r))}),S()(),I(8,"label"),C(9,"Valor igual a (R$) "),I(10,"input",114),ce("ngModelChange",function(r){he(t);let o=ne();return fe(o.onValorChange(r))}),S()()(),I(11,"div",89)(12,"button",115),ce("click",function(){he(t);let r=ne();return fe(r.fecharBusca())}),C(13,"Fechar"),S()()()()}if(n&2){let t=ne();L(7),Ae("ngModel",t.filtro().q),L(3),Ae("ngModel",t.filtro().valor)}}function xle(n,e){n&1&&(I(0,"p",117),C(1,"Carregando..."),S())}function Dle(n,e){n&1&&(I(0,"p",119),C(1,"Nenhum item na lixeira."),S())}function Tle(n,e){if(n&1&&(I(0,"small",14),C(1,"\u2014 "),I(2,"span",128),C(3),S()()),n&2){let t=ne().$implicit;L(3),Ie(t.obs)}}function Sle(n,e){if(n&1){let t=bt();I(0,"div",121)(1,"div",59)(2,"div",122),C(3),S(),I(4,"small",14)(5,"span",123),C(6),fi(7,"titlecase"),S(),C(8," \u2022 "),I(9,"span",124),C(10),fi(11,"date"),S()(),$i(12,Tle,4,1,"small",65),S(),I(13,"div",66),C(14),I(15,"span",125),C(16),fi(17,"number"),S()(),I(18,"button",126),ce("click",function(){let r=he(t).$implicit,o=ne(4);return fe(o.restaurar(r))}),Ee(19,"i",127),S()()}if(n&2){let t=e.$implicit;go("data-id",t.id),L(3),Ie(t.categoria),L(3),Ie(uc(7,11,t.meio)),L(4),Ie(vo(11,13,t.date.toDate(),"dd/MM")),L(2),Ae("ngIf",t.obs),L(),Ye("in",t.tipo==="entrada")("out",t.tipo==="saida"),L(),Ze(" ",t.tipo==="entrada"?"+":"-"," R$ "),L(2),Ie(vo(17,16,t.valor,"1.2-2"))}}function Ale(n,e){if(n&1&&(I(0,"div",120),Qt(1,Sle,20,19,"div",121,mH),S()),n&2){let t=ne(3);L(),Xt(t.trash())}}function Mle(n,e){if(n&1&&Le(0,Dle,2,0,"p",119)(1,Ale,3,0,"div",120),n&2){let t=ne(2);Ve(t.trash().length===0?0:1)}}function Ple(n,e){if(n&1){let t=bt();I(0,"div",116),ce("click",function(){he(t);let r=ne();return fe(r.fecharLixeira())}),I(1,"div",73),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",99),C(3,"Lixeira"),S(),Le(4,xle,2,0,"p",117)(5,Mle,2,1),I(6,"div",89)(7,"button",118),ce("click",function(){he(t);let r=ne();return fe(r.fecharLixeira())}),C(8,"Fechar"),S()()()()}if(n&2){let t=ne();L(4),Ve(t.trashLoading()?4:5)}}function Rle(n,e){if(n&1&&(I(0,"option",85),C(1),S()),n&2){let t=e.$implicit;Ae("value",t.nome),L(),Hi("",t.emoji," ",t.nome)}}function kle(n,e){if(n&1){let t=bt();I(0,"div",129),ce("click",function(){he(t);let r=ne();return fe(r.fecharEditar())}),I(1,"div",73),ce("click",function(r){return he(t),fe(r.stopPropagation())}),I(2,"h5",130),C(3,"Editar movimenta\xE7\xE3o"),S(),I(4,"div",75)(5,"label"),C(6,"Categoria "),I(7,"select",131),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.formEdit.categoria,r)||(o.formEdit.categoria=r),fe(r)}),Qt(8,Rle,2,3,"option",85,sk),S()(),I(10,"label"),C(11,"Valor (R$) "),I(12,"input",132),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.formEdit.valor,r)||(o.formEdit.valor=r),fe(r)}),S()(),I(13,"label"),C(14,"Meio "),I(15,"select",133),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.formEdit.meio,r)||(o.formEdit.meio=r),fe(r)}),I(16,"option",78),C(17,"PIX"),S(),I(18,"option",79),C(19,"Dinheiro"),S(),I(20,"option",80),C(21,"D\xE9bito"),S(),I(22,"option",81),C(23,"Cr\xE9dito"),S(),I(24,"option",82),C(25,"Boleto"),S(),I(26,"option",83),C(27,"Outro"),S()()(),I(28,"label",87),C(29,"Observa\xE7\xE3o "),I(30,"input",134),_o("ngModelChange",function(r){he(t);let o=ne();return rs(o.formEdit.obs,r)||(o.formEdit.obs=r),fe(r)}),S()()(),I(31,"div",89)(32,"button",135),ce("click",function(){he(t);let r=ne();return fe(r.fecharEditar())}),C(33,"Cancelar"),S(),I(34,"button",136),ce("click",function(){he(t);let r=ne();return fe(r.salvarEdicao())}),C(35,"Salvar"),S()()()()}if(n&2){let t=ne();L(7),mo("ngModel",t.formEdit.categoria),L(),Xt(t.categorias),L(4),mo("ngModel",t.formEdit.valor),L(3),mo("ngModel",t.formEdit.meio),L(15),mo("ngModel",t.formEdit.obs)}}var ok={tipo:"todas",meio:"todos",categoria:"todas",start:null,end:null,q:"",valor:null};var DC=class n{tx=z(xC);doc=z(Kt);mes=Pe(new Date().getMonth());ano=Pe(new Date().getFullYear());nomeMes=an(()=>`${["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][this.mes()]} ${this.ano()}`);showAdd=Pe(!1);showConfirm=Pe({open:!1});showFilter=Pe(!1);showSearch=Pe(!1);showMenu=Pe(!1);showTrash=Pe(!1);categorias=[{nome:"Mercado",emoji:"\u{1F6D2}",cor:"#00b894"},{nome:"Transporte",emoji:"\u{1F697}",cor:"#0984e3"},{nome:"Lazer",emoji:"\u{1F3AE}",cor:"#6c5ce7"},{nome:"Moradia",emoji:"\u{1F3E0}",cor:"#fdcb6e"},{nome:"Sa\xFAde",emoji:"\u{1F48A}",cor:"#e17055"},{nome:"Presentes",emoji:"\u{1F381}",cor:"#d63031"},{nome:"Educa\xE7\xE3o",emoji:"\u{1F393}",cor:"#e84393"},{nome:"Outros",emoji:"\u{1F4E6}",cor:"#636e72"}];unsub;rows=Pe([]);filtro=Pe(Y({},ok));updateFiltro(e,t){this.filtro.update(i=>ge(Y({},i),{[e]:t}))}hasFilter=an(()=>{let e=this.filtro(),t=ok;return e.tipo!==t.tipo||e.meio!==t.meio||e.categoria!==t.categoria||e.start!==t.start||e.end!==t.end||(e.q?.trim()??"")!==t.q||e.valor!==t.valor});resetFiltro(){this.filtro.set(Y({},ok))}novo={date:Ot.fromDate(new Date),tipo:"saida",categoria:"Mercado",valor:0,meio:"pix",obs:""};filtered=an(()=>{let e=this.rows(),t=this.filtro();return e.filter(i=>{if(i.deletedAt||t.tipo!=="todas"&&i.tipo!==t.tipo||t.meio!=="todos"&&i.meio!==t.meio||t.categoria!=="todas"&&i.categoria!==t.categoria)return!1;if(t.start){let r=new Date(t.start+"T00:00:00").getTime();if(i.date.toMillis()<r)return!1}if(t.end){let r=new Date(t.end+"T23:59:59").getTime();if(i.date.toMillis()>r)return!1}return!(t.q&&!`${i.obs??""}`.toLowerCase().includes(t.q.toLowerCase())||t.valor!=null&&t.valor!==0&&Math.abs(i.valor-t.valor)>1e-4)})});totalEntradas=an(()=>this.filtered().filter(e=>e.tipo==="entrada").reduce((e,t)=>e+t.valor,0));totalSaidas=an(()=>this.filtered().filter(e=>e.tipo==="saida").reduce((e,t)=>e+t.valor,0));saldo=an(()=>this.totalEntradas()-this.totalSaidas());gastosPorCategoria=an(()=>{let e=this.filtered().filter(r=>r.tipo==="saida"),t=e.reduce((r,o)=>r+o.valor,0)||1,i=new Map;return e.forEach(r=>i.set(r.categoria,(i.get(r.categoria)??0)+r.valor)),Array.from(i.entries()).map(([r,o])=>{let s=this.categorias.find(a=>a.nome===r)??{nome:r,emoji:"\u{1F4E6}",cor:"#636e72"};return{nome:s.nome,emoji:s.emoji,cor:s.cor,valor:o,pct:Math.round(100*o/t)}}).sort((r,o)=>o.valor-r.valor)});chart;ngAfterViewInit(){this.renderChart()}ngOnDestroy(){this.chart?.destroy(),this.unsub?.()}constructor(){eg(()=>{this.subscribeMonth()}),eg(()=>{this.renderChart()}),setTimeout(()=>this.initFabObserver(),0)}subscribeMonth(){this.unsub?.(),this.unsub=this.tx.listenMonth(this.ano(),this.mes(),e=>this.rows.set(e))}mudarMes(e){let t=new Date(this.ano(),this.mes(),1);t.setMonth(t.getMonth()+e),this.mes.set(t.getMonth()),this.ano.set(t.getFullYear()),this.subscribeMonth()}dateToInput(e){let t=e?.toDate?e.toDate():e instanceof Date?e:new Date;return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,10)}onDateChange(e){let t=e.target.value,i=new Date(t+"T00:00:00");this.novo.date=Ot.fromDate(i)}abrirAdd(e){this.novo={date:Ot.fromDate(new Date),tipo:e,categoria:"Mercado",valor:0,meio:"pix",obs:""},this.showAdd.set(!0)}fecharAdd(){this.showAdd.set(!1)}salvarTransacao(){return A(this,null,function*(){let e=this.novo;if(!e.tipo||!e.categoria||e.valor==null||!e.date||!e.meio){alert("Preencha todos os campos obrigat\xF3rios.");return}try{let t=Number(e.valor);if(Number.isNaN(t)||t<0){alert("Informe um valor v\xE1lido (n\xFAmero >= 0).");return}yield this.tx.add({date:e.date,tipo:e.tipo,categoria:e.categoria,valor:t,meio:e.meio,obs:e.obs??""});let i=e.date.toDate(),r=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`,o=`${this.ano()}-${String(this.mes()+1).padStart(2,"0")}`;r!==o&&(this.ano.set(i.getFullYear()),this.mes.set(i.getMonth()),this.subscribeMonth()),this.showAdd.set(!1)}catch(t){console.error(t),String(t?.message).includes("not-authenticated")?alert("Sua sess\xE3o expirou. Fa\xE7a login novamente."):alert("N\xE3o foi poss\xEDvel salvar. Tente novamente.")}})}confirmarExcluir(e){this.showConfirm.set({open:!0,id:e})}cancelarExcluir(){this.showConfirm.set({open:!1})}excluirConfirmado(){return A(this,null,function*(){let e=this.showConfirm().id;yield this.tx.softDelete(e),this.showConfirm.set({open:!1})})}renderChart(){let e=document.getElementById("ringChart");if(!e)return;let t=this.gastosPorCategoria().map(o=>`${o.emoji} ${o.nome}`),i=this.gastosPorCategoria().map(o=>o.valor),r=this.gastosPorCategoria().map(o=>o.cor);this.chart?.destroy(),this.chart=new I_(e,{type:"doughnut",data:{labels:t,datasets:[{data:i,backgroundColor:r,borderColor:"#101315",borderWidth:4,hoverOffset:6}]},options:{cutout:"62%",plugins:{legend:{display:!1}}}})}initFabObserver(){let e=document.querySelector(".saldo-bar"),t=document.querySelector(".fab-smart");if(!e||!t)return;new IntersectionObserver(([r])=>{r.isIntersecting?t.classList.remove("floating"):t.classList.add("floating")},{threshold:.01}).observe(e)}abrirFiltro(){this.showFilter.set(!0)}fecharFiltro(){this.showFilter.set(!1)}abrirBusca(){this.showSearch.set(!0)}fecharBusca(){this.showSearch.set(!1)}abrirMenu(){this.showMenu.set(!this.showMenu())}trash=Pe([]);trashLoading=Pe(!1);abrirLixeira(){return A(this,null,function*(){this.showMenu.set(!1),this.showTrash.set(!0),this.trashLoading.set(!0);try{let e=yield this.tx.listTrash(100);this.trash.set(e)}finally{this.trashLoading.set(!1)}})}fecharLixeira(){this.showTrash.set(!1)}restaurar(e){return A(this,null,function*(){try{yield this.tx.restore(e.id),this.trash.update(t=>t.filter(i=>i.id!==e.id))}catch(t){console.error(t),alert("N\xE3o foi poss\xEDvel restaurar. Tente novamente.")}})}setTheme(e){this.doc.body.dataset.theme=e,this.showMenu.set(!1)}onValorChange(e){let t=e===""||e===null||e===void 0?null:Number(e);this.updateFiltro("valor",t!==null&&Number.isNaN(t)?null:t)}showEdit=Pe(!1);formEdit={categoria:"",valor:0,meio:"pix",obs:null};abrirEditar(e){this.formEdit={id:e.id,categoria:e.categoria,valor:Number(e.valor)||0,meio:e.meio??"pix",obs:e.obs??null},this.showEdit.set(!0)}fecharEditar(){this.showEdit.set(!1)}salvarEdicao(){return A(this,null,function*(){let e=this.formEdit.id,t=Number(this.formEdit.valor),i=(this.formEdit.categoria||"").trim(),r=this.formEdit.meio,o=(this.formEdit.obs??"").trim();if(e){if(!i){alert("Informe a categoria.");return}if(!isFinite(t)||t<=0){alert("Informe um valor v\xE1lido.");return}if(!["pix","dinheiro","debito","credito","boleto","outro"].includes(r)){alert("Selecione um meio de pagamento v\xE1lido.");return}try{let s=Y({valor:t,categoria:i,meio:r},o?{obs:o}:{});yield this.tx.update(e,s),this.showEdit.set(!1)}catch(s){console.error(s),alert("N\xE3o foi poss\xEDvel salvar a edi\xE7\xE3o. Tente novamente.")}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-demonstrativos"]],decls:81,vars:21,consts:[[1,"board"],[1,"sidebar","d-flex","flex-column","p-3"],[1,"fw-bold","text-white","mb-4"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["routerLink","/home",1,"nav-link","text-white"],["routerLink","/trilha",1,"nav-link","text-white"],["routerLink","/demonstrativos","data-testid","nav-demonstrativos",1,"nav-link","aside","text-white","active"],[1,"nav-item"],["routerLink","/conquistas",1,"nav-link","text-white"],["data-testid","demonstrativos-root",1,"main"],[1,"topbar"],[1,"brand"],[1,"logo"],[1,"muted"],["data-testid","month-nav",1,"month-nav"],["data-testid","month-prev",1,"icon-btn",3,"click"],[1,"bi","bi-chevron-left"],["data-testid","month-name",1,"month"],["data-testid","month-next",1,"icon-btn",3,"click"],[1,"bi","bi-chevron-right"],[1,"actions"],["data-testid","filter-open",1,"icon-btn",3,"click"],[1,"bi","bi-funnel"],["data-testid","filter-clear",1,"pill-btn","clear"],["data-testid","search-open",1,"icon-btn",3,"click"],[1,"bi","bi-search"],["data-testid","menu-wrap",1,"menu-wrap"],["data-testid","menu-open",1,"icon-btn",3,"click"],[1,"bi","bi-three-dots-vertical"],["data-testid","menu-card",1,"menu-card"],["data-testid","ring-area",1,"ring-area"],[1,"ring-wrap"],["id","ringChart"],[1,"ring-center"],["data-testid","total-in",1,"in-label"],["data-testid","total-out",1,"out-label"],["data-testid","saldo-bar",1,"saldo-bar"],[1,"saldo-row"],["data-testid","add-expense-open",1,"mini-fab","minus",3,"click"],[1,"saldo-chip"],["data-testid","saldo-value"],["data-testid","add-income-open",1,"mini-fab","plus",3,"click"],["data-testid","history-list",1,"history"],["data-testid","history-item",1,"rowi"],["data-testid","fab-smart",1,"fab-smart"],["data-testid","fab-add-income",1,"fab","small","plus",3,"click"],["data-testid","fab-add-expense",1,"fab","small","minus",3,"click"],["data-testid","add-modal",1,"modal"],["data-testid","confirm-modal",1,"modal"],["data-testid","filter-modal",1,"modal"],["data-testid","search-modal",1,"modal"],["data-testid","trash-modal",1,"modal"],["data-testid","edit-modal",1,"modal"],["data-testid","filter-clear",1,"pill-btn","clear",3,"click"],["data-testid","menu-theme-dark",1,"menu-item",3,"click"],["data-testid","menu-theme-light",1,"menu-item",3,"click"],["data-testid","menu-theme-default",1,"menu-item",3,"click"],["data-testid","trash-open",1,"menu-item","danger",3,"click"],[1,"left"],[1,"cat"],["data-testid","item-category"],["data-testid","item-edit-open",1,"edit-link",3,"click"],["data-testid","item-meio"],["data-testid","item-date"],["class","muted",4,"ngIf"],[1,"right"],["data-testid","item-sign"],["data-testid","item-value"],["data-testid","item-delete",1,"trash",3,"click"],[1,"bi","bi-trash"],["data-testid","item-obs"],["data-testid","add-modal",1,"modal",3,"click"],[1,"modal-card",3,"click"],["data-testid","add-title",1,"mb-2","text-white"],[1,"grid"],["type","date","id","add-date","data-testid","add-date",3,"change","value"],["id","add-meio","data-testid","add-meio",3,"ngModelChange","ngModel"],["value","pix"],["value","dinheiro"],["value","debito"],["value","credito"],["value","boleto"],["value","outro"],["id","add-categoria","data-testid","add-categoria",3,"ngModelChange","ngModel"],[3,"value"],["type","number","step","0.01","min","0","id","add-valor","data-testid","add-valor",3,"ngModelChange","ngModel"],[1,"full"],["type","text","id","add-obs","data-testid","add-obs",3,"ngModelChange","ngModel"],[1,"modal-actions"],["data-testid","add-cancel",1,"btn","ghost",3,"click"],["data-testid","add-save",1,"btn","solid",3,"click"],["data-testid","confirm-modal",1,"modal",3,"click"],[1,"modal-card","confirm",3,"click"],[1,"mb-3"],[1,"text-white"],["data-testid","confirm-cancel",1,"btn","ghost",3,"click"],["data-testid","confirm-delete",1,"btn","danger",3,"click"],["data-testid","filter-modal",1,"modal",3,"click"],[1,"mb-2"],["data-testid","filter-tipo",3,"ngModelChange","ngModel"],["value","todas"],["value","entrada"],["value","saida"],["data-testid","filter-meio",3,"ngModelChange","ngModel"],["value","todos"],["data-testid","filter-categoria",3,"ngModelChange","ngModel"],["type","date","data-testid","filter-start",3,"ngModelChange","ngModel"],["type","date","data-testid","filter-end",3,"ngModelChange","ngModel"],["data-testid","filter-reset",1,"btn","ghost"],["data-testid","filter-close",1,"btn","ghost",3,"click"],["data-testid","filter-reset",1,"btn","ghost",3,"click"],["data-testid","search-modal",1,"modal",3,"click"],["type","text","data-testid","search-q",3,"ngModelChange","ngModel"],["type","number","step","0.01","data-testid","search-valor",3,"ngModelChange","ngModel"],["data-testid","search-close",1,"btn","ghost",3,"click"],["data-testid","trash-modal",1,"modal",3,"click"],["data-testid","trash-loading",1,"text-white"],["data-testid","trash-close",1,"btn","ghost",3,"click"],["data-testid","trash-empty",1,"text-white"],["data-testid","trash-list",1,"history"],["data-testid","trash-item",1,"rowi"],["data-testid","trash-item-category",1,"cat"],["data-testid","trash-item-meio"],["data-testid","trash-item-date"],["data-testid","trash-item-value"],["data-testid","trash-restore",1,"trash",3,"click"],[1,"bi","bi-arrow-counterclockwise"],["data-testid","trash-item-obs"],["data-testid","edit-modal",1,"modal",3,"click"],[1,"mb-2","text-white"],["id","edit-categoria","data-testid","edit-categoria",3,"ngModelChange","ngModel"],["type","number","step","0.01","min","0","id","edit-valor","data-testid","edit-valor",3,"ngModelChange","ngModel"],["id","edit-meio","data-testid","edit-meio",3,"ngModelChange","ngModel"],["type","text","id","edit-obs","data-testid","edit-obs",3,"ngModelChange","ngModel"],["data-testid","edit-cancel",1,"btn","ghost",3,"click"],["data-testid","edit-save",1,"btn","solid",3,"click"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"aside",1)(2,"h2",2),C(3,"MONEVA"),S(),I(4,"ul",3)(5,"li",4)(6,"a",5),C(7,"\u{1F3E0} Home"),S()(),I(8,"li",4)(9,"a",6),C(10,"\u{1F4B0} Trilha de Aprendizado"),S()(),I(11,"li",4)(12,"a",7),C(13,"\u{1F4CA} Demonstrativos"),S()(),I(14,"li",8)(15,"a",9),C(16,"\u{1F3C6} Conquistas"),S()()()(),I(17,"main",10)(18,"header",11)(19,"div",12)(20,"div",13),C(21,"Moneva"),S(),I(22,"small",14),C(23,"Todas as contas"),S()(),I(24,"div",15)(25,"button",16),ce("click",function(){return i.mudarMes(-1)}),Ee(26,"i",17),S(),I(27,"span",18),C(28),S(),I(29,"button",19),ce("click",function(){return i.mudarMes(1)}),Ee(30,"i",20),S()(),I(31,"div",21)(32,"button",22),ce("click",function(){return i.abrirFiltro()}),Ee(33,"i",23),S(),Le(34,ple,2,0,"button",24),I(35,"button",25),ce("click",function(){return i.abrirBusca()}),Ee(36,"i",26),S(),I(37,"div",27)(38,"button",28),ce("click",function(){return i.abrirMenu()}),Ee(39,"i",29),S(),Le(40,gle,10,0,"div",30),S()()(),I(41,"section",31)(42,"div",32),Ee(43,"canvas",33),I(44,"div",34)(45,"div",35),C(46,"Entradas"),Ee(47,"br"),C(48),fi(49,"number"),S(),I(50,"div",36),C(51,"Sa\xEDdas"),Ee(52,"br"),C(53),fi(54,"number"),S()()()(),I(55,"section",37)(56,"div",38)(57,"button",39),ce("click",function(){return i.abrirAdd("saida")}),C(58,"\u2212"),S(),I(59,"div",40)(60,"span"),C(61,"Saldo"),S(),I(62,"strong",41),C(63),fi(64,"number"),S()(),I(65,"button",42),ce("click",function(){return i.abrirAdd("entrada")}),C(66,"+"),S()()(),I(67,"section",43),Qt(68,_le,26,19,"div",44,mH),S(),I(70,"div",45)(71,"button",46),ce("click",function(){return i.abrirAdd("entrada")}),C(72,"+"),S(),I(73,"button",47),ce("click",function(){return i.abrirAdd("saida")}),C(74,"\u2212"),S()()()(),Le(75,yle,39,6,"div",48),Le(76,ble,11,0,"div",49),Le(77,Cle,48,6,"div",50),Le(78,Ile,14,2,"div",51),Le(79,Ple,9,1,"div",52),Le(80,kle,36,4,"div",53)),t&2&&(L(28),Ie(i.nomeMes()),L(6),Ve(i.hasFilter()?34:-1),L(6),Ve(i.showMenu()?40:-1),L(8),Ze("R$ ",vo(49,12,i.totalEntradas(),"1.2-2")),L(5),Ze("R$ ",vo(54,15,i.totalSaidas(),"1.2-2")),L(10),Ze("R$ ",vo(64,18,i.saldo(),"1.2-2")),L(5),Xt(i.filtered()),L(7),Ve(i.showAdd()?75:-1),L(),Ve(i.showConfirm().open?76:-1),L(),Ve(i.showFilter()?77:-1),L(),Ve(i.showSearch()?78:-1),L(),Ve(i.showTrash()?79:-1),L(),Ve(i.showEdit()?80:-1))},dependencies:[as,iu,Ki,Z4,Pw,Rw,Jc,Zm,Tf,Df,n_,UP,cg,PT,kT],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--bg-900:#0f1113;--bg-800:#1a1d20;--bg-700:#202428;--text:#f1f5f9;--muted:#a7b0b7;--green:#00c053;--red:#e74c3c}.board[_ngcontent-%COMP%]{min-height:100vh;display:flex;background:var(--bg-900)}.sidebar[_ngcontent-%COMP%]{width:250px;min-height:100vh;background:linear-gradient(180deg,#007a4d,#003822)}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:.95rem;padding:8px 12px;border-radius:8px;transition:.2s}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);transform:translate(4px)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,255,136,.15),transparent);font-weight:700;color:#0f8!important;border-left:4px solid #00ff88;border-radius:8px 0 0 8px}.main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;color:var(--text);background-color:#151617}.topbar[_ngcontent-%COMP%]{width:100%;max-width:920px;display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center;gap:10px;padding:18px 16px 6px}.brand[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font:700 24px/1 Poppins,sans-serif;color:#00c053}.brand[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#b7c2c9}.month-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;justify-self:center}.month[_ngcontent-%COMP%]{font-weight:600;color:#cbd5dc}.month-nav[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#fff}.actions[_ngcontent-%COMP%]{justify-self:end;display:flex;gap:6px}.icon-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;border:1px solid rgba(255,255,255,.1);background:#121518;color:#fff;display:grid;place-items:center;transition:.2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#171a1d;border-color:#fff3}.menu-wrap[_ngcontent-%COMP%]{position:relative}.menu-card[_ngcontent-%COMP%]{position:absolute;top:44px;right:0;background:#101315;border:1px solid rgba(255,255,255,.12);border-radius:10px;min-width:180px;box-shadow:0 10px 30px #0006;z-index:20}.menu-item[_ngcontent-%COMP%]{display:block;width:100%;text-align:left;padding:10px 12px;background:transparent;border:0;color:#e6eef4}.menu-item[_ngcontent-%COMP%]:hover{background:#161a1e}.menu-item.danger[_ngcontent-%COMP%]{color:#ffb0b0}.ring-area[_ngcontent-%COMP%]{width:100%;display:grid;place-items:center}.ring-wrap[_ngcontent-%COMP%]{position:relative;width:min(72vw,520px);aspect-ratio:1/1;display:grid;place-items:center}#ringChart[_ngcontent-%COMP%]{width:100%!important;height:100%!important}.ring-center[_ngcontent-%COMP%]{position:absolute;inset:10;display:grid;place-items:center;pointer-events:none}.ring-center[_ngcontent-%COMP%]   .in-label[_ngcontent-%COMP%]{color:#20d07f;font-weight:800}.ring-center[_ngcontent-%COMP%]   .out-label[_ngcontent-%COMP%]{margin-top:4px;color:#ff7f72;font-weight:700}.orbit[_ngcontent-%COMP%]{position:absolute;inset:0}.bubble[_ngcontent-%COMP%]{--R: calc(50% + 180px) ;position:absolute;left:50%;top:50%;transform:rotate(calc(360deg * var(--i) / var(--n))) translate(var(--R)) rotate(calc(-360deg * var(--i) / var(--n)));transform-origin:0 0;display:flex;align-items:center;gap:6px;color:#d8e2e8}.bubble[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:20px}.saldo-bar[_ngcontent-%COMP%]{width:100%;display:grid;place-items:center;margin:8px 0 10px}.saldo-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.saldo-chip[_ngcontent-%COMP%]{background:#122018;border:1px solid rgba(0,192,83,.35);color:#bfe9cf;padding:10px 18px;border-radius:10px;display:flex;gap:8px;align-items:baseline}.saldo-chip[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--green)}.mini-fab[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;border:6px solid rgba(255,255,255,.08);background:#0f1113;color:#fff;font:700 30px/1 Poppins,sans-serif;display:grid;place-items:center;box-shadow:0 8px 30px #0006;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease}.mini-fab.plus[_ngcontent-%COMP%]{border-color:#00c053}.mini-fab.minus[_ngcontent-%COMP%]{border-color:#a00000}.mini-fab.plus[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 0 15px #00c053}.mini-fab.minus[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 0 15px #c40000}.history[_ngcontent-%COMP%]{width:100%;max-width:920px;padding:8px 16px 110px}.rowi[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 40px;color:#fff;align-items:center;gap:12px;padding:10px 12px;border-radius:12px;background:#14181b;border:1px solid rgba(255,255,255,.06);margin-bottom:8px}.rowi[_ngcontent-%COMP%]   .cat[_ngcontent-%COMP%]{font-weight:600}.rowi[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#93a0ab}.right.in[_ngcontent-%COMP%]{color:#22d085;font-weight:700}.right.out[_ngcontent-%COMP%]{color:#ff7f72;font-weight:700}.trash[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#101315;color:#dfe6ea;display:grid;place-items:center}.fab-smart[_ngcontent-%COMP%]{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:10px;opacity:0;pointer-events:none;transform:translateY(10px);transition:.25s;z-index:30}.fab-smart.floating[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);pointer-events:auto}.fab.small[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;border:6px solid rgba(255,255,255,.08);background:#0f1113;color:#fff;font:700 28px/1 Poppins,sans-serif;display:grid;place-items:center;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease}.fab.small.plus[_ngcontent-%COMP%]{border-color:#00c053}.fab.small.minus[_ngcontent-%COMP%]{border-color:#a00000}.fab.small.plus[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 0 15px #00c053}.fab.small.minus[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 0 15px #c40000}.modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;background:#0000008c;z-index:1000}.modal-card[_ngcontent-%COMP%]{width:min(92vw,520px);background:#101315;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:18px;color:var(--text)}.modal-card.confirm[_ngcontent-%COMP%]{width:420px;text-align:center}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.grid[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;font-size:.92rem;color:#dfe6ea}.grid[_ngcontent-%COMP%]   label.full[_ngcontent-%COMP%]{grid-column:1/-1}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{background:#161a1e;color:var(--text);border:1px solid rgba(255,255,255,.12);border-radius:8px;padding:8px 10px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}.btn[_ngcontent-%COMP%]{padding:8px 14px;border-radius:10px;border:1px solid transparent}.btn.ghost[_ngcontent-%COMP%]{border-color:#ffffff2e;color:#dfe6ea;background:#121518}.btn.solid[_ngcontent-%COMP%]{background:#00c053;color:#fff;font-weight:700;border-radius:2px solid #202428}.btn.danger[_ngcontent-%COMP%]{background:#ff6b6b;color:#130c0c;font-weight:700}@media (max-width: 600px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.bubble[_ngcontent-%COMP%]{--R: calc(50% + 130px) }}.edit-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;color:#bfe9cf;font-weight:600;margin-right:6px;font-size:small}.edit-link[_ngcontent-%COMP%]:hover{color:#00c053}']})};var TC=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-conquistas"]],decls:91,vars:0,consts:[[1,"container-fluid","vh-100","bg-dark","text-white","p-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-success"],["routerLink","/home",1,"btn","btn-outline-success"],[1,"text-secondary","mb-4"],[1,"text-success","mb-3"],[1,"row","g-3","mb-5","text-white"],[1,"col-md-3"],[1,"card","achievement-card","unlocked","p-3","text-center","justify-content-center"],["src","/img/trofeuouro.png","alt","Trof\xE9u Ouro",1,"trophy-img","mb-3"],[1,"text-white"],[1,"text-white","small"],[1,"col-md-3","text-white"],[1,"card","achievement-card","unlocked","p-3","text-center"],["src","/img/trofeuprata.png","alt","Trof\xE9u Prata",1,"trophy-img","mb-3"],[1,"small","text-white"],["src","/img/trofeuouro.png","alt","Trof\xE9u Bronze",1,"trophy-img","mb-3"],[1,"text-secondary","mb-3"],[1,"row","g-3"],[1,"card","achievement-card","locked","p-3","text-center"],["src","/img/cadeado.png","alt","Bloqueado",1,"trophy-img","mb-3","opacity-50"]],template:function(t,i){t&1&&(I(0,"div",0)(1,"div",1)(2,"h2",2),C(3,"\u{1F3C6} Conquistas"),S(),I(4,"button",3),C(5,"\u2B05 Voltar"),S()(),I(6,"p",4),C(7," Complete desafios financeiros e desbloqueie conquistas exclusivas. Cada meta conclu\xEDda aumenta seu n\xEDvel de experi\xEAncia \u{1F4AA} "),S(),I(8,"h4",5),C(9,"Conquistas Desbloqueadas"),S(),I(10,"div",6)(11,"div",7)(12,"div",8),Ee(13,"img",9),I(14,"h6",10),C(15,"Primeiro Investimento"),S(),I(16,"p",11),C(17,"Voc\xEA registrou sua primeira aplica\xE7\xE3o!"),S()()(),I(18,"div",12)(19,"div",13),Ee(20,"img",14),I(21,"h6",10),C(22,"Organizado!"),S(),I(23,"p",15),C(24,"Voc\xEA categorizou 10 despesas."),S()()(),I(25,"div",12)(26,"div",13),Ee(27,"img",16),I(28,"h6",10),C(29,"Controle Total"),S(),I(30,"p",15),C(31,"Voc\xEA manteve suas finan\xE7as sob controle por 30 dias seguidos!"),S()()(),I(32,"div",12)(33,"div",13),Ee(34,"img",9),I(35,"h6",10),C(36,"Meta Cumprida!"),S(),I(37,"p",15),C(38,"Voc\xEA atingiu sua primeira meta financeira \u{1F3AF}"),S()()()(),I(39,"h4",17),C(40,"Conquistas Bloqueadas"),S(),I(41,"div",18)(42,"div",7)(43,"div",19),Ee(44,"img",20),I(45,"h6",10),C(46,"Mestre das Economias"),S(),I(47,"p",15),C(48,"Economize R$ 5.000 em sua conta."),S()()(),I(49,"div",7)(50,"div",19),Ee(51,"img",20),I(52,"h6",10),C(53,"Investidor Experiente"),S(),I(54,"p",15),C(55,"Realize 20 investimentos bem-sucedidos."),S()()(),I(56,"div",7)(57,"div",19),Ee(58,"img",20),I(59,"h6",10),C(60,"Desafiador Financeiro"),S(),I(61,"p",15),C(62,"Complete 10 desafios financeiros da comunidade."),S()()(),I(63,"div",7)(64,"div",19),Ee(65,"img",20),I(66,"h6",10),C(67,"Planejador Mestre"),S(),I(68,"p",15),C(69,"Mantenha seu or\xE7amento positivo por 3 meses seguidos."),S()()(),I(70,"div",7)(71,"div",19),Ee(72,"img",20),I(73,"h6",10),C(74,"Educador Financeiro"),S(),I(75,"p",15),C(76,"Compartilhe 5 dicas financeiras com outros usu\xE1rios."),S()()(),I(77,"div",7)(78,"div",19),Ee(79,"img",20),I(80,"h6",10),C(81,"Investidor Elite"),S(),I(82,"p",15),C(83,"Construa uma carteira de investimentos diversificada."),S()()(),I(84,"div",7)(85,"div",19),Ee(86,"img",20),I(87,"h6",10),C(88,"Aposentadoria dos Sonhos"),S(),I(89,"p",15),C(90,"Simule e alcance sua meta de aposentadoria."),S()()()()())},dependencies:[Ki],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif}.achievement-card[_ngcontent-%COMP%]{background-color:#181c1f;border-radius:12px;transition:transform .2s ease,box-shadow .3s ease}.achievement-card.unlocked[_ngcontent-%COMP%]{border:2px solid #00ff88;display:flex}.achievement-card.locked[_ngcontent-%COMP%]{border:1px dashed #444;opacity:.7}.achievement-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 0 12px #0f83}.trophy-img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:contain}@media (max-width: 768px){.trophy-img[_ngcontent-%COMP%]{width:60px;height:60px}}"]})};var Ole=(n,e)=>e.title,Nle=(n,e)=>e.id;function Fle(n,e){if(n&1&&(Z(0,"div",7)(1,"div",16),C(2),ee(),Z(3,"div",17),C(4),ee(),Z(5,"p",18),C(6),ee()()),n&2){let t=e.$implicit;L(2),Ie(t.icon),L(2),Ie(t.title),L(2),Ie(t.text)}}function Lle(n,e){if(n&1&&(Z(0,"div",22)(1,"span",23)(2,"span",24),C(3),ee(),Z(4,"span",25),C(5,"\u274C"),ee()(),Z(6,"p",26),C(7),ee()()),n&2){let t=ne().$implicit;L(3),Ze(" ",t.correct==="V"?"\xC9 VERDADEIRO":"\xC9 FALSO"," "),L(4),Ze(" ",t.explanation," ")}}function Vle(n,e){if(n&1){let t=bt();Z(0,"div",10)(1,"div",19),C(2),ee(),Z(3,"div",20)(4,"button",21),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("V",r))}),C(5," Verdadeiro "),ee(),Z(6,"button",21),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("F",r))}),C(7," Falso "),ee()(),Le(8,Lle,8,2,"div",22),ee()}if(n&2){let t=e.$implicit,i=ne();L(2),Ie(t.text),L(2),Ye("active",t.user==="V"),L(2),Ye("active",t.user==="F"),L(2),Ve(i.shouldShowStatus(t)?8:-1)}}function jle(n,e){n&1&&(Z(0,"div",11),C(1," \u274C Quase l\xE1! Responda todas as perguntas e confira as alternativas marcadas. "),ee())}function Ble(n,e){n&1&&(Z(0,"div",12),C(1," \u2705 Boa! Li\xE7\xE3o conclu\xEDda. Seu progresso foi atualizado na trilha. \u{1F49A} "),ee())}var SC=class n{constructor(e,t){this.trilha=e;this.router=t}steps=[{icon:"\u{1F9E0}",title:"Consci\xEAncia",text:"Saber para onde vai o dinheiro evita surpresas no fim do m\xEAs."},{icon:"\u{1F9FE}",title:"Previs\xE3o",text:"Planejar entradas e sa\xEDdas ajuda a tomar decis\xF5es melhores."},{icon:"\u{1F3AF}",title:"Objetivo",text:"Com metas claras, fica mais f\xE1cil manter o foco e a motiva\xE7\xE3o."}];_questions=Pe([{id:1,text:"Educa\xE7\xE3o financeira \xE9 importante apenas para quem ganha muito dinheiro.",correct:"F",user:null,explanation:"Mesmo com renda baixa, saber organizar e planejar o dinheiro faz MUITA diferen\xE7a no dia a dia."},{id:2,text:"Anotar seus gastos ajuda a descobrir por onde o dinheiro est\xE1 \u201Cescapando\u201D.",correct:"V",user:null,explanation:"Quando voc\xEA registra tudo, fica f\xE1cil enxergar gastos desnecess\xE1rios e ajustar o or\xE7amento."},{id:3,text:"Ter um objetivo claro (como quitar d\xEDvidas ou fazer uma viagem) ajuda a manter o foco nas finan\xE7as.",correct:"V",user:null,explanation:"Objetivos d\xE3o dire\xE7\xE3o: voc\xEA sabe por que est\xE1 economizando e fica mais motivado a continuar."}]);questions=this._questions.asReadonly();trilhaSubmit=!1;mark(e,t){this._questions.update(i=>{let r=[...i];return r[t]=ge(Y({},r[t]),{user:e}),r})}allAnswered(){return this._questions().every(e=>e.user!==null)}allCorrect(){return this._questions().every(e=>e.user===e.correct)}showFeedback(){return this.trilhaSubmit?this.allAnswered()&&this.allCorrect()?"ok":"erro":null}isQuestionCorrect(e){return e.user!==null&&e.user===e.correct}shouldShowStatus(e){return!this.trilhaSubmit||e.user===null?!1:e.user!==e.correct}concluir(){return A(this,null,function*(){this.trilhaSubmit=!0,!(!this.allAnswered()||!this.allCorrect())&&(yield this.trilha.completeById("sec1-n1"),setTimeout(()=>{this.router.navigate(["/trilha"])},1800))})}submitting=Pe(!1);voltar(){this.submitting()||this.router.navigate(["/trilha"])}static \u0275fac=function(t){return new(t||n)(me(Ji),me(pt))};static \u0275cmp=mt({type:n,selectors:[["app-introducao"]],decls:28,vars:4,consts:[[1,"intro-wrapper"],[1,"intro-header"],[1,"pill"],[1,"intro-title"],[1,"emoji"],[1,"intro-sub"],[1,"cards"],[1,"card-step"],[1,"quiz"],[1,"quiz-title"],[1,"quiz-item"],[1,"alert","alert-erro"],[1,"alert","alert-ok"],[1,"actions"],["type","button",1,"btn","btn-concluir",3,"click","disabled"],["type","button",1,"btn","btn-ghost",3,"click","disabled"],[1,"card-icon"],[1,"card-title"],[1,"card-text"],[1,"q-text"],[1,"q-actions"],["type","button",1,"btn","opt",3,"click"],[1,"inline-feedback"],[1,"pill-status","pill-status-error"],[1,"pill-truth"],[1,"pill-emoji"],[1,"q-explanation"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"header",1)(2,"div",2),C(3,"Li\xE7\xE3o 1 \u2014 Introdu\xE7\xE3o"),ee(),Z(4,"h1",3),C(5," Por que cuidar do seu dinheiro \xE9 "),Z(6,"strong"),C(7,"importante"),ee(),C(8,"? "),Z(9,"span",4),C(10,"\u{1F9ED}"),ee()(),Z(11,"p",5),C(12,"3 pontos-chave + um quiz rapidinho. Bora l\xE1! \u{1F680}"),ee()(),Z(13,"section",6),Qt(14,Fle,7,3,"div",7,Ole),ee(),Z(16,"section",8)(17,"h2",9),C(18,"Quiz r\xE1pido"),ee(),Qt(19,Vle,9,6,"div",10,Nle),Le(21,jle,2,0,"div",11),Le(22,Ble,2,0,"div",12),Z(23,"div",13)(24,"button",14),Jt("click",function(){return i.concluir()}),C(25," Concluir "),ee(),Z(26,"button",15),Jt("click",function(){return i.voltar()}),C(27," Voltar "),ee()()()()),t&2&&(L(14),Xt(i.steps),L(5),Xt(i.questions()),L(2),Ve(i.showFeedback()==="erro"?21:-1),L(),Ve(i.showFeedback()==="ok"?22:-1),L(2),Di("disabled",!i.allAnswered()),L(2),Di("disabled",i.submitting()))},styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif;overflow-x:hidden}.intro-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;min-height:100vh;width:100%;background-color:#000;color:#eafdf6;padding:40px 16px}.pill[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#00ff9a;border-radius:999px;font-weight:700;letter-spacing:.3px;margin-bottom:12px}.intro-title[_ngcontent-%COMP%]{font-size:clamp(20px,2.4vw,32px);font-weight:800;color:#fff;line-height:1.3;text-align:center}.intro-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#00ff9a}.intro-title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:28px;margin-left:6px}.intro-sub[_ngcontent-%COMP%]{margin-top:8px;color:#b9ffe7;opacity:.85;text-align:center}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:24px;width:100%;max-width:900px}.card-step[_ngcontent-%COMP%]{background:linear-gradient(180deg,#111a16,#0b120e);border:1px solid rgba(0,255,154,.18);border-radius:18px;padding:18px;display:grid;place-items:center;gap:10px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.card-step[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 0 16px #00ff9a40}.card-icon[_ngcontent-%COMP%]{font-size:34px}.card-title[_ngcontent-%COMP%]{font-weight:800;color:#cffff0}.card-text[_ngcontent-%COMP%]{color:#dfffee;opacity:.9;font-size:14px}.quiz[_ngcontent-%COMP%]{margin-top:40px;background:linear-gradient(180deg,#0a1410,#07100d);border:1px solid rgba(0,255,154,.15);border-radius:20px;padding:24px;width:100%;max-width:800px;box-shadow:0 0 12px #00ff9a14}.quiz-title[_ngcontent-%COMP%]{font-weight:900;color:#b9ffe7;margin-bottom:16px;text-align:center}.quiz-item[_ngcontent-%COMP%]{border:1px dashed rgba(0,255,154,.25);border-radius:14px;padding:14px;margin-bottom:14px;background:#00ff9a08}.q-text[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#eafff8}.q-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.btn.opt[_ngcontent-%COMP%]{background:#0f1c17;border:1px solid rgba(0,255,154,.25);color:#cffff0;padding:10px 14px;border-radius:12px;font-weight:800;transition:all .15s ease}.btn.opt.active[_ngcontent-%COMP%]{background:#012d1c;border-color:#00ff9a;box-shadow:0 0 0 2px #00ff9a40 inset}.btn.opt[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.alert[_ngcontent-%COMP%]{margin-top:12px;padding:12px;border-radius:12px;font-weight:700;text-align:center}.alert-erro[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.alert-ok[_ngcontent-%COMP%]{background:#0f2a1f;color:#d5ffef;border:1px solid #00ff9a}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:12px;justify-content:center}.btn-concluir[_ngcontent-%COMP%]{background:#00ff9a;color:#0a0a0a;font-weight:900;border-radius:12px;padding:10px 16px;border:none;transition:.2s}.btn-concluir[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-concluir[_ngcontent-%COMP%]:disabled{opacity:.5;filter:grayscale(1);cursor:not-allowed}.btn-ghost[_ngcontent-%COMP%]{color:#b9ffe7;text-decoration:none;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.14)}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff14}@media (max-width: 768px){.intro-wrapper[_ngcontent-%COMP%]{padding:24px 12px 60px}.cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.quiz[_ngcontent-%COMP%]{padding:18px}}.q-inline-feedback[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between}.pill-status[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:700;letter-spacing:.05em;text-transform:uppercase}.pill-status.ok[_ngcontent-%COMP%]{background:#00ff9a14;border:1px solid #00ff9a;color:#b9ffe7}.pill-status.err[_ngcontent-%COMP%]{background:#ff505014;border:1px solid #ff6b6b;color:#ffdcdc}.pill-truth[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;font-size:13px;font-weight:700;color:#eafff8}.pill-emoji[_ngcontent-%COMP%]{font-size:18px}.q-explanation[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#eafff8;opacity:.9}']})};var Ule=(n,e)=>e.text,$le=(n,e)=>e.id;function zle(n,e){if(n&1&&(Z(0,"div",7)(1,"span",17),C(2),ee(),Z(3,"span",18),C(4),ee()()),n&2){let t=e.$implicit;L(2),Ie(t.icon),L(2),Ie(t.text)}}function Hle(n,e){if(n&1&&(Z(0,"div",23)(1,"span",24)(2,"span",25),C(3),ee(),Z(4,"span",26),C(5,"\u274C"),ee()(),Z(6,"p",27),C(7),ee()()),n&2){let t=ne().$implicit;L(3),Ze(" ",t.answer==="V"?"\xC9 VERDADEIRO":"\xC9 FALSO"," "),L(4),Ze(" ",t.explanation," ")}}function qle(n,e){if(n&1){let t=bt();Z(0,"div",10)(1,"div",19)(2,"div",20),C(3),ee()(),Z(4,"div",21)(5,"button",22),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("V",r))}),C(6," V "),ee(),Z(7,"button",22),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("F",r))}),C(8," F "),ee()(),Le(9,Hle,8,2,"div",23),ee()}if(n&2){let t=e.$implicit,i=ne();L(3),Ie(t.text),L(2),Ye("active",t.user==="V"),L(2),Ye("active",t.user==="F"),L(2),Ve(i.shouldShowStatus(t)?9:-1)}}function Wle(n,e){if(n&1&&(Z(0,"div",12),C(1),ee()),n&2){let t=ne();L(),Hi(" \u274C Voc\xEA acertou ",t.correctCount(),"/",t.questions().length,". Revise os itens marcados como incorretos. ")}}function Gle(n,e){n&1&&(Z(0,"div",13),C(1," \u2705 Excelente! Atividade conclu\xEDda. Voltando \xE0 trilha\u2026 "),ee())}var AC=class n{constructor(e,t){this.router=e;this.progress=t}tips=[{icon:"\u{1F4A1}",text:"Responda V (verdadeiro) ou F (falso) para cada afirma\xE7\xE3o."},{icon:"\u{1F3AF}",text:"Para concluir, todas as respostas precisam estar corretas."}];_questions=Pe([{id:1,text:"Pagar s\xF3 o m\xEDnimo do cart\xE3o \xE9 uma boa estrat\xE9gia para economizar.",answer:"F",user:null,explanation:"Pagar s\xF3 o m\xEDnimo faz o restante virar d\xEDvida com juros altos. Isso geralmente aumenta o valor total da fatura."},{id:2,text:"Guardar um pouco todo m\xEAs ajuda a formar reserva de emerg\xEAncia.",answer:"V",user:null,explanation:"A reserva de emerg\xEAncia nasce justamente do h\xE1bito de guardar um pouco sempre, mesmo que seja um valor pequeno."},{id:3,text:"Anotar pequenos gastos pode revelar desperd\xEDcios no m\xEAs.",answer:"V",user:null,explanation:"Os \u201Cgastos formiguinha\u201D (pequenos, mas frequentes) costumam passar despercebidos, mas somados fazem diferen\xE7a no or\xE7amento."},{id:4,text:"Parcelar sem juros \xE9 sempre melhor do que pagar \xE0 vista.",answer:"F",user:null,explanation:"Mesmo sem juros, parcelar pode comprometer sua renda futura. Muitas vezes, pagar \xE0 vista evita excesso de parcelas acumuladas."},{id:5,text:"Ter um or\xE7amento mensal reduz \u201Capertos\u201D no fim do m\xEAs.",answer:"V",user:null,explanation:"Quando voc\xEA planeja quanto pode gastar em cada categoria, evita surpresas e apertos no fim do m\xEAs."}]);questions=this._questions.asReadonly();trilhaSubmit=!1;mark(e,t){this._questions.update(i=>{let r=[...i];return r[t]=ge(Y({},r[t]),{user:e}),r})}allAnswered(){return this._questions().every(e=>e.user!==null)}allCorrect(){return this._questions().every(e=>e.user===e.answer)}correctCount(){return this._questions().filter(e=>e.user===e.answer).length}showFeedback(){return this.trilhaSubmit?this.allAnswered()&&this.allCorrect()?"ok":"erro":null}isQuestionCorrect(e){return e.user!==null&&e.user===e.answer}shouldShowStatus(e){return!this.trilhaSubmit||e.user===null?!1:e.user!==e.answer}concluir(){this.trilhaSubmit=!0,this.allAnswered()&&this.allCorrect()&&(this.progress.completeById("sec1-n2"),setTimeout(()=>{this.router.navigate(["/trilha"])},1800))}submitting=Pe(!1);voltar(){this.submitting()||this.router.navigate(["/trilha"])}static \u0275fac=function(t){return new(t||n)(me(pt),me(Ji))};static \u0275cmp=mt({type:n,selectors:[["app-quiz-dinheiro"]],decls:26,vars:4,consts:[[1,"game-wrapper"],[1,"game-header"],[1,"pill"],[1,"game-title"],[1,"emoji"],[1,"game-sub"],[1,"tips"],[1,"tip"],[1,"quiz"],[1,"quiz-title"],[1,"quiz-item"],[1,"panel"],[1,"alert","alert-erro"],[1,"alert","alert-ok"],[1,"actions"],["type","button",1,"btn","btn-concluir",3,"click","disabled"],["type","button",1,"btn","btn-ghost",3,"click","disabled"],[1,"tip-icon"],[1,"tip-text"],[1,"q-row"],[1,"q-text"],[1,"q-actions"],["type","button",1,"btn","opt",3,"click"],[1,"inline-feedback"],[1,"pill-status","pill-status-error"],[1,"pill-truth"],[1,"pill-emoji"],[1,"q-explanation"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"header",1)(2,"div",2),C(3,"Fase 02 \u2014 Jogo"),ee(),Z(4,"h1",3),C(5," Voc\xEA sabe lidar com dinheiro? "),Z(6,"span",4),C(7,"\u{1F3AF}"),ee()(),Z(8,"p",5),C(9,"Responda V/F. Acerte tudo para concluir. \u{1F680}"),ee()(),Z(10,"section",6),Qt(11,zle,5,2,"div",7,Ule),ee(),Z(13,"section",8)(14,"h2",9),C(15,"Verdadeiro ou Falso?"),ee(),Qt(16,qle,10,6,"div",10,$le),ee(),Z(18,"section",11),Le(19,Wle,2,2,"div",12),Le(20,Gle,2,0,"div",13),Z(21,"div",14)(22,"button",15),Jt("click",function(){return i.concluir()}),C(23," Concluir "),ee(),Z(24,"button",16),Jt("click",function(){return i.voltar()}),C(25," Voltar "),ee()()()()),t&2&&(L(11),Xt(i.tips),L(5),Xt(i.questions()),L(3),Ve(i.showFeedback()==="erro"?19:-1),L(),Ve(i.showFeedback()==="ok"?20:-1),L(2),Di("disabled",!i.allAnswered()),L(2),Di("disabled",i.submitting()))},styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;background:#000;color:#fff;font-family:Poppins,sans-serif}.game-wrapper[_ngcontent-%COMP%]{min-height:100vh;width:100%;background:#000;color:#eafdf6;padding:40px 16px 64px;display:flex;flex-direction:column;align-items:center}.pill[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#00ff9a;border-radius:999px;font-weight:700;letter-spacing:.3px;margin-bottom:12px}.game-title[_ngcontent-%COMP%]{font-size:clamp(20px,2.4vw,32px);font-weight:800;text-align:center}.game-title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:28px;margin-left:6px}.game-sub[_ngcontent-%COMP%]{margin-top:8px;color:#b9ffe7;opacity:.85;text-align:center}.tips[_ngcontent-%COMP%]{width:100%;max-width:900px;margin-top:18px;display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}.tip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:linear-gradient(180deg,#111a16,#0b120e);border:1px solid rgba(0,255,154,.18);border-radius:14px;padding:12px 14px}.tip-icon[_ngcontent-%COMP%]{font-size:20px}.tip-text[_ngcontent-%COMP%]{color:#dfffee}.quiz[_ngcontent-%COMP%]{margin-top:24px;width:100%;max-width:900px;background:linear-gradient(180deg,#0a1410,#07100d);border:1px solid rgba(0,255,154,.15);border-radius:20px;padding:20px;box-shadow:0 0 12px #00ff9a14}.quiz-title[_ngcontent-%COMP%]{font-weight:900;color:#b9ffe7;margin-bottom:14px;text-align:center}.quiz-item[_ngcontent-%COMP%]{border:1px dashed rgba(0,255,154,.25);border-radius:14px;padding:12px;margin-bottom:12px;background:#00ff9a08}.q-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px}.q-text[_ngcontent-%COMP%]{font-weight:700;color:#eafff8}.q-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:10px}.btn.opt[_ngcontent-%COMP%]{background:#0f1c17;border:1px solid rgba(0,255,154,.25);color:#cffff0;padding:10px 14px;border-radius:12px;font-weight:800;transition:.15s}.btn.opt.active[_ngcontent-%COMP%]{background:#012d1c;border-color:#00ff9a;box-shadow:0 0 0 2px #00ff9a33 inset}.btn.opt[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.inline-feedback[_ngcontent-%COMP%]{margin-top:10px}.pill-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:800;letter-spacing:.08em;text-transform:uppercase}.pill-status-error[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.pill-emoji[_ngcontent-%COMP%]{font-size:16px}.q-explanation[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#b9ffe7;opacity:.9}.panel[_ngcontent-%COMP%]{width:100%;max-width:900px;margin-top:16px}.alert[_ngcontent-%COMP%]{margin-top:10px;padding:12px;border-radius:12px;font-weight:700;text-align:center}.alert-erro[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.alert-ok[_ngcontent-%COMP%]{background:#0f2a1f;color:#d5ffef;border:1px solid #00ff9a}.actions[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.btn-concluir[_ngcontent-%COMP%]{background:#00ff9a;color:#0a0a0a;font-weight:900;border-radius:12px;padding:10px 16px;border:none}.btn-concluir[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-concluir[_ngcontent-%COMP%]:disabled{opacity:.5;filter:grayscale(1);cursor:not-allowed}.btn-ghost[_ngcontent-%COMP%]{color:#b9ffe7;text-decoration:none;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.14)}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff14}@media (max-width: 768px){.game-wrapper[_ngcontent-%COMP%]{padding:24px 12px 60px}.tips[_ngcontent-%COMP%]{grid-template-columns:1fr}.quiz[_ngcontent-%COMP%]{padding:18px}}']})};var Kle=(n,e)=>e.title,Yle=(n,e)=>e.id;function Qle(n,e){if(n&1&&(Z(0,"div",7)(1,"div",16),C(2),ee(),Z(3,"div",17),C(4),ee(),Z(5,"p",18),C(6),ee()()),n&2){let t=e.$implicit;L(2),Ie(t.icon),L(2),Ie(t.title),L(2),Ie(t.text)}}function Xle(n,e){if(n&1&&(Z(0,"div",22)(1,"span",23)(2,"span",24),C(3),ee(),Z(4,"span",25),C(5,"\u274C"),ee()(),Z(6,"p",26),C(7),ee()()),n&2){let t=ne().$implicit;L(3),Ze(" ",t.correct==="V"?"\xC9 VERDADEIRO":"\xC9 FALSO"," "),L(4),Ze(" ",t.explanation," ")}}function Jle(n,e){if(n&1){let t=bt();Z(0,"div",10)(1,"div",19),C(2),ee(),Z(3,"div",20)(4,"button",21),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("V",r))}),C(5," Verdadeiro "),ee(),Z(6,"button",21),Jt("click",function(){let r=he(t).$index,o=ne();return fe(o.mark("F",r))}),C(7," Falso "),ee()(),Le(8,Xle,8,2,"div",22),ee()}if(n&2){let t=e.$implicit,i=ne();L(2),Ie(t.text),L(2),Ye("active",t.user==="V"),L(2),Ye("active",t.user==="F"),L(2),Ve(i.shouldShowStatus(t)?8:-1)}}function Zle(n,e){n&1&&(Z(0,"div",11),C(1," \u274C Quase l\xE1! Responda todas as perguntas e confira as alternativas marcadas. "),ee())}function eue(n,e){n&1&&(Z(0,"div",12),C(1," \u2705 Boa! Li\xE7\xE3o conclu\xEDda. Seu progresso foi atualizado na trilha. \u{1F49A} "),ee())}var MC=class n{constructor(e,t){this.router=e;this.trilha=t}steps=[{icon:"\u{1F4A1}",title:"Entendimento",text:"Com educa\xE7\xE3o financeira, voc\xEA entende o impacto das suas escolhas de consumo."},{icon:"\u{1F4C8}",title:"Crescimento",text:"Organiza\xE7\xE3o e const\xE2ncia permitem investir e realizar objetivos reais."},{icon:"\u{1F9D8}",title:"Tranquilidade",text:"Planejamento reduz o estresse e d\xE1 mais seguran\xE7a para o futuro."}];_questions=Pe([{id:1,text:"Educa\xE7\xE3o financeira envolve h\xE1bitos do dia a dia, n\xE3o apenas investimentos.",correct:"V",user:null,explanation:"Ela n\xE3o \xE9 s\xF3 sobre aplica\xE7\xF5es financeiras: envolve como voc\xEA gasta, poupa e se organiza no cotidiano."},{id:2,text:"Ter controle financeiro ajuda a tomar decis\xF5es melhores e mais conscientes.",correct:"V",user:null,explanation:"Quando voc\xEA sabe quanto entra e quanto sai, fica mais f\xE1cil decidir se pode gastar ou se \xE9 melhor esperar."},{id:3,text:"Se eu ganho pouco, n\xE3o faz diferen\xE7a anotar gastos ou planejar.",correct:"F",user:null,explanation:"Mesmo com renda baixa, anotar e planejar ajuda a cortar excessos e sair do aperto aos poucos."}]);questions=this._questions.asReadonly();trilhaSubmit=!1;mark(e,t){this._questions.update(i=>{let r=[...i];return r[t]=ge(Y({},r[t]),{user:e}),r})}allAnswered(){return this._questions().every(e=>e.user!==null)}allCorrect(){return this._questions().every(e=>e.user===e.correct)}showFeedback(){return this.trilhaSubmit?this.allAnswered()&&this.allCorrect()?"ok":"erro":null}isQuestionCorrect(e){return e.user!==null&&e.user===e.correct}shouldShowStatus(e){return!this.trilhaSubmit||e.user===null?!1:e.user!==e.correct}concluir(){return A(this,null,function*(){this.trilhaSubmit=!0,!(!this.allAnswered()||!this.allCorrect())&&(yield this.trilha.completeById("sec1-n3"),setTimeout(()=>{this.router.navigate(["/trilha"])},800))})}voltar(){this.router.navigate(["/trilha"])}static \u0275fac=function(t){return new(t||n)(me(pt),me(Ji))};static \u0275cmp=mt({type:n,selectors:[["app-educacao-financeira"]],decls:25,vars:3,consts:[[1,"intro-wrapper"],[1,"intro-header"],[1,"pill"],[1,"intro-title"],[1,"emoji"],[1,"intro-sub"],[1,"cards"],[1,"card-step"],[1,"quiz"],[1,"quiz-title"],[1,"quiz-item"],[1,"alert","alert-erro"],[1,"alert","alert-ok"],[1,"actions"],["type","button",1,"btn","btn-concluir",3,"click","disabled"],["type","button",1,"btn","btn-ghost",3,"click"],[1,"card-icon"],[1,"card-title"],[1,"card-text"],[1,"q-text"],[1,"q-actions"],["type","button",1,"btn","opt",3,"click"],[1,"inline-feedback"],[1,"pill-status","pill-status-error"],[1,"pill-truth"],[1,"pill-emoji"],[1,"q-explanation"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"header",1)(2,"div",2),C(3,"Li\xE7\xE3o 3 \u2014 Educa\xE7\xE3o Financeira"),ee(),Z(4,"h1",3),C(5," Como a educa\xE7\xE3o financeira muda sua vida "),Z(6,"span",4),C(7,"\u{1F4A1}"),ee()(),Z(8,"p",5),C(9,"3 pontos-chave + um quiz rapidinho. Bora l\xE1! \u{1F680}"),ee()(),Z(10,"section",6),Qt(11,Qle,7,3,"div",7,Kle),ee(),Z(13,"section",8)(14,"h2",9),C(15,"Quiz r\xE1pido"),ee(),Qt(16,Jle,9,6,"div",10,Yle),Le(18,Zle,2,0,"div",11),Le(19,eue,2,0,"div",12),Z(20,"div",13)(21,"button",14),Jt("click",function(){return i.concluir()}),C(22," Concluir "),ee(),Z(23,"button",15),Jt("click",function(){return i.voltar()}),C(24," Voltar "),ee()()()()),t&2&&(L(11),Xt(i.steps),L(5),Xt(i.questions()),L(2),Ve(i.showFeedback()==="erro"?18:-1),L(),Ve(i.showFeedback()==="ok"?19:-1),L(2),Di("disabled",!i.allAnswered()))},styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif;overflow-x:hidden}.intro-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;min-height:100vh;width:100%;background-color:#000;color:#eafdf6;padding:40px 16px}.pill[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#00ff9a;border-radius:999px;font-weight:700;letter-spacing:.3px;margin-bottom:12px}.intro-title[_ngcontent-%COMP%]{font-size:clamp(20px,2.4vw,32px);font-weight:800;color:#fff;line-height:1.3;text-align:center}.intro-title[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#00ff9a}.intro-title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:28px;margin-left:6px}.intro-sub[_ngcontent-%COMP%]{margin-top:8px;color:#b9ffe7;opacity:.85;text-align:center}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:24px;width:100%;max-width:900px}.card-step[_ngcontent-%COMP%]{background:linear-gradient(180deg,#111a16,#0b120e);border:1px solid rgba(0,255,154,.18);border-radius:18px;padding:18px;display:grid;place-items:center;gap:10px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.card-step[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 0 16px #00ff9a40}.card-icon[_ngcontent-%COMP%]{font-size:34px}.card-title[_ngcontent-%COMP%]{font-weight:800;color:#cffff0}.card-text[_ngcontent-%COMP%]{color:#dfffee;opacity:.9;font-size:14px}.quiz[_ngcontent-%COMP%]{margin-top:40px;background:linear-gradient(180deg,#0a1410,#07100d);border:1px solid rgba(0,255,154,.15);border-radius:20px;padding:24px;width:100%;max-width:800px;box-shadow:0 0 12px #00ff9a14}.quiz-title[_ngcontent-%COMP%]{font-weight:900;color:#b9ffe7;margin-bottom:16px;text-align:center}.quiz-item[_ngcontent-%COMP%]{border:1px dashed rgba(0,255,154,.25);border-radius:14px;padding:14px;margin-bottom:14px;background:#00ff9a08}.q-text[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;color:#eafff8}.q-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.btn.opt[_ngcontent-%COMP%]{background:#0f1c17;border:1px solid rgba(0,255,154,.25);color:#cffff0;padding:10px 14px;border-radius:12px;font-weight:800;transition:all .15s ease}.btn.opt.active[_ngcontent-%COMP%]{background:#012d1c;border-color:#00ff9a;box-shadow:0 0 0 2px #00ff9a40 inset}.btn.opt[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.inline-feedback[_ngcontent-%COMP%]{margin-top:10px}.pill-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;font-size:11px;text-transform:uppercase;letter-spacing:.14em}.pill-status-error[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.pill-truth[_ngcontent-%COMP%]{font-weight:700}.pill-emoji[_ngcontent-%COMP%]{font-size:14px}.q-explanation[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#dfffee;opacity:.9}.alert[_ngcontent-%COMP%]{margin-top:12px;padding:12px;border-radius:12px;font-weight:700;text-align:center}.alert-erro[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.alert-ok[_ngcontent-%COMP%]{background:#0f2a1f;color:#d5ffef;border:1px solid #00ff9a}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.btn-concluir[_ngcontent-%COMP%]{background:#00ff9a;color:#0a0a0a;font-weight:900;border-radius:12px;padding:10px 16px;border:none;transition:.2s}.btn-concluir[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-concluir[_ngcontent-%COMP%]:disabled{opacity:.5;filter:grayscale(1);cursor:not-allowed}.btn-ghost[_ngcontent-%COMP%]{color:#b9ffe7;text-decoration:none;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.14)}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff14}@media (max-width: 768px){.intro-wrapper[_ngcontent-%COMP%]{padding:24px 12px 60px}.cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.quiz[_ngcontent-%COMP%]{padding:18px}}']})};var tue=(n,e)=>e.title,_H=(n,e)=>e.id;function nue(n,e){if(n&1&&(Z(0,"div",7)(1,"div",16),C(2),ee(),Z(3,"div",17),C(4),ee(),Z(5,"p",18),C(6),ee()()),n&2){let t=e.$implicit;L(2),Ie(t.icon),L(2),Ie(t.title),L(2),Ie(t.text)}}function iue(n,e){if(n&1){let t=bt();Z(0,"button",26),Jt("click",function(){let r=he(t).$implicit,o=ne().$index,s=ne();return fe(s.selectOption(o,r.id))}),Z(1,"span",27),C(2),ee(),Z(3,"span",28),C(4),ee()()}if(n&2){let t=e.$implicit,i=ne().$implicit;Ye("active",i.user===t.id),L(2),Ze("",t.id,"."),L(2),Ie(t.text)}}function rue(n,e){if(n&1&&(Z(0,"div",25)(1,"span",29)(2,"span",30),C(3),ee(),Z(4,"span",31),C(5,"\u274C"),ee()(),Z(6,"p",32),C(7),ee()()),n&2){let t,i,r=ne().$implicit,o=ne();L(3),Hi(" Resposta correta: ",(t=o.correctOption(r))==null?null:t.id," \u2014 ",(t=o.correctOption(r))==null?null:t.text," "),L(4),Ze(" ",(i=o.correctOption(r))==null?null:i.explanation," ")}}function oue(n,e){if(n&1&&(Z(0,"div",10)(1,"div",19)(2,"div",20),C(3),ee(),Z(4,"p",21),C(5),ee()(),Z(6,"p",22),C(7),ee(),Z(8,"div",23),Qt(9,iue,5,4,"button",24,_H),ee(),Le(11,rue,8,3,"div",25),ee()),n&2){let t=e.$implicit,i=e.$index,r=ne();L(3),Ze("Hist\xF3ria ",i+1),L(2),Ze(" ",t.story," "),L(2),Ie(t.question),L(2),Xt(t.options),L(2),Ve(r.shouldShowStatus(t)?11:-1)}}function sue(n,e){if(n&1&&(Z(0,"div",11),C(1),ee()),n&2){let t=ne();L(),Hi(" \u274C Voc\xEA acertou ",t.correctCount(),"/",t.questions().length," hist\xF3rias. Revise os erros marcados e tente novamente. ")}}function aue(n,e){n&1&&(Z(0,"div",12),C(1," \u2705 Mandou bem! Voc\xEA identificou todos os erros financeiros. Li\xE7\xE3o conclu\xEDda. \u{1F49A} "),ee())}var PC=class n{constructor(e,t){this.trilha=e;this.router=t}steps=[{icon:"\u{1F50D}",title:"Identificar armadilhas",text:"Muitos erros parecem inofensivos no dia a dia, mas viram bola de neve no fim do m\xEAs."},{icon:"\u{1F6AB}",title:"Evitar h\xE1bitos ruins",text:"Reconhecer comportamentos perigosos \xE9 o primeiro passo para mudar."},{icon:"\u{1F501}",title:"Criar novos h\xE1bitos",text:"Trocar pequenos erros por escolhas melhores melhora muito sua vida financeira."}];_questions=Pe([{id:1,story:"Jo\xE3o recebeu o sal\xE1rio na sexta-feira e decidiu comemorar. Saiu para bares todos os dias do fim de semana, comprou roupas novas parceladas em 8x no cart\xE3o e, quando chegou a segunda-feira, percebeu que n\xE3o tinha separado dinheiro para pagar o aluguel.",question:"Qual \xE9 o principal erro financeiro que Jo\xE3o cometeu?",options:[{id:"A",text:"Usar o cart\xE3o de cr\xE9dito para comprar roupas.",isCorrect:!1,explanation:"O problema n\xE3o \xE9 s\xF3 usar o cart\xE3o, e sim gastar sem planejamento com lazer e compras parceladas, esquecendo contas essenciais."},{id:"B",text:"N\xE3o ter separado primeiro o dinheiro das contas fixas antes de gastar.",isCorrect:!0,explanation:"O maior erro foi n\xE3o priorizar o aluguel e outras contas essenciais antes de gastar com lazer e compras parceladas."},{id:"C",text:"Sair com os amigos no fim de semana.",isCorrect:!1,explanation:"Sair com amigos n\xE3o \xE9 o erro em si, o problema \xE9 gastar mais do que pode e antes de pagar o que \xE9 prioridade."},{id:"D",text:"Pagar o aluguel todo m\xEAs.",isCorrect:!1,explanation:"Pagar o aluguel \xE9 uma obriga\xE7\xE3o, n\xE3o um erro. O erro foi justamente n\xE3o reservar esse dinheiro."}],user:null},{id:2,story:"Ana tem um cart\xE3o de cr\xE9dito com limite de R$ 2.000. Todo m\xEAs, ela gasta quase o limite inteiro e paga apenas o valor m\xEDnimo da fatura, acreditando que assim \u201Cn\xE3o fica devendo\u201D ao banco.",question:"Qual \xE9 o erro financeiro que a Ana est\xE1 cometendo?",options:[{id:"A",text:"Usar cart\xE3o de cr\xE9dito para compras do dia a dia.",isCorrect:!1,explanation:"O maior problema aqui n\xE3o \xE9 o uso do cart\xE3o, mas o jeito que ela est\xE1 pagando a fatura."},{id:"B",text:"Pagar apenas o valor m\xEDnimo da fatura todo m\xEAs.",isCorrect:!0,explanation:"Pagar apenas o m\xEDnimo faz a d\xEDvida crescer com juros muito altos, virando uma bola de neve."},{id:"C",text:"Ter um limite de R$ 2.000 no cart\xE3o.",isCorrect:!1,explanation:"Ter limite n\xE3o \xE9 erro. O erro \xE9 usar quase tudo sem controle e n\xE3o quitar o valor total."},{id:"D",text:"Usar o cart\xE3o em compras parceladas sem juros.",isCorrect:!1,explanation:"Parcelar pode ser uma estrat\xE9gia, desde que caiba no or\xE7amento e n\xE3o dependa do pagamento m\xEDnimo."}],user:null},{id:3,story:"Carlos decidiu \u201Cse organizar\u201D. Ele assinou v\xE1rios cursos online caros, uma academia premium e um pacote de TV por assinatura. Por\xE9m, quase n\xE3o usa nada disso e vive reclamando que o dinheiro n\xE3o sobra para montar uma reserva.",question:"Qual \xE9 o principal erro financeiro do Carlos?",options:[{id:"A",text:"N\xE3o ganhar um sal\xE1rio maior.",isCorrect:!1,explanation:"O problema n\xE3o \xE9 o sal\xE1rio em si, e sim as escolhas de gastos fixos que ele nem usa direito."},{id:"B",text:"Ter despesas fixas altas com coisas que ele quase n\xE3o utiliza.",isCorrect:!0,explanation:"O erro est\xE1 em comprometer parte do or\xE7amento com assinaturas e gastos recorrentes que n\xE3o trazem benef\xEDcio real."},{id:"C",text:"Querer fazer cursos online.",isCorrect:!1,explanation:"Investir em conhecimento \xE9 \xF3timo, desde que caiba no or\xE7amento e seja realmente utilizado."},{id:"D",text:"Pensar em montar uma reserva financeira.",isCorrect:!1,explanation:"Querer ter reserva \xE9 algo positivo; o problema \xE9 n\xE3o ajustar os gastos para isso acontecer."}],user:null}]);questions=this._questions.asReadonly();trilhaSubmit=!1;selectOption(e,t){this._questions.update(i=>{let r=[...i];return r[e]=ge(Y({},r[e]),{user:t}),r})}allAnswered(){return this._questions().every(e=>e.user!==null)}isQuestionCorrect(e){return e.user?!!e.options.find(i=>i.id===e.user)?.isCorrect:!1}allCorrect(){return this._questions().every(e=>this.isQuestionCorrect(e))}correctCount(){return this._questions().filter(e=>this.isQuestionCorrect(e)).length}showFeedback(){return this.trilhaSubmit?this.allAnswered()&&this.allCorrect()?"ok":"erro":null}shouldShowStatus(e){return!this.trilhaSubmit||!e.user?!1:!this.isQuestionCorrect(e)}correctOption(e){return e.options.find(t=>t.isCorrect)}concluir(){return A(this,null,function*(){this.trilhaSubmit=!0,!(!this.allAnswered()||!this.allCorrect())&&(this.trilha.completeById("sec1-n4"),setTimeout(()=>{this.router.navigate(["/trilha"])},1200))})}voltar(){this.router.navigate(["/trilha"])}static \u0275fac=function(t){return new(t||n)(me(Ji),me(pt))};static \u0275cmp=mt({type:n,selectors:[["app-reserva"]],decls:25,vars:3,consts:[[1,"intro-wrapper"],[1,"intro-header"],[1,"pill"],[1,"intro-title"],[1,"emoji"],[1,"intro-sub"],[1,"cards"],[1,"card-step"],[1,"quiz"],[1,"quiz-title"],[1,"quiz-item"],[1,"alert","alert-erro"],[1,"alert","alert-ok"],[1,"actions"],["type","button",1,"btn","btn-concluir",3,"click","disabled"],["type","button",1,"btn","btn-ghost",3,"click"],[1,"card-icon"],[1,"card-title"],[1,"card-text"],[1,"story"],[1,"story-label"],[1,"story-text"],[1,"q-question"],[1,"q-options"],["type","button",1,"btn","opt",3,"active"],[1,"inline-feedback"],["type","button",1,"btn","opt",3,"click"],[1,"opt-letter"],[1,"opt-text"],[1,"pill-status","pill-status-error"],[1,"pill-truth"],[1,"pill-emoji"],[1,"q-explanation"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"header",1)(2,"div",2),C(3,"Li\xE7\xE3o 4 \u2014 Desafio"),ee(),Z(4,"h1",3),C(5," Desafio dos Erros Financeiros "),Z(6,"span",4),C(7,"\u2696\uFE0F"),ee()(),Z(8,"p",5),C(9,"Leia as hist\xF3rias e encontre o erro financeiro principal. \u{1F6A8}"),ee()(),Z(10,"section",6),Qt(11,nue,7,3,"div",7,tue),ee(),Z(13,"section",8)(14,"h2",9),C(15,"Ache o erro financeiro!"),ee(),Qt(16,oue,12,4,"div",10,_H),Le(18,sue,2,2,"div",11),Le(19,aue,2,0,"div",12),Z(20,"div",13)(21,"button",14),Jt("click",function(){return i.concluir()}),C(22," Concluir "),ee(),Z(23,"button",15),Jt("click",function(){return i.voltar()}),C(24," Voltar "),ee()()()()),t&2&&(L(11),Xt(i.steps),L(5),Xt(i.questions()),L(2),Ve(i.showFeedback()==="erro"?18:-1),L(),Ve(i.showFeedback()==="ok"?19:-1),L(2),Di("disabled",!i.allAnswered()))},styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif;overflow-x:hidden}.intro-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;min-height:100vh;width:100%;background-color:#000;color:#eafdf6;padding:40px 16px}.pill[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#00ff9a;border-radius:999px;font-weight:700;letter-spacing:.3px;margin-bottom:12px}.intro-title[_ngcontent-%COMP%]{font-size:clamp(20px,2.4vw,32px);font-weight:800;color:#fff;line-height:1.3;text-align:center}.intro-title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:28px;margin-left:6px}.intro-sub[_ngcontent-%COMP%]{margin-top:8px;color:#b9ffe7;opacity:.85;text-align:center}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:24px;width:100%;max-width:900px}.card-step[_ngcontent-%COMP%]{background:linear-gradient(180deg,#111a16,#0b120e);border:1px solid rgba(0,255,154,.18);border-radius:18px;padding:18px;display:grid;place-items:center;gap:10px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.card-step[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 0 16px #00ff9a40}.card-icon[_ngcontent-%COMP%]{font-size:34px}.card-title[_ngcontent-%COMP%]{font-weight:800;color:#cffff0}.card-text[_ngcontent-%COMP%]{color:#dfffee;opacity:.9;font-size:14px}.quiz[_ngcontent-%COMP%]{margin-top:40px;background:linear-gradient(180deg,#0a1410,#07100d);border:1px solid rgba(0,255,154,.15);border-radius:20px;padding:24px;width:100%;max-width:900px;box-shadow:0 0 12px #00ff9a14}.quiz-title[_ngcontent-%COMP%]{font-weight:900;color:#b9ffe7;margin-bottom:16px;text-align:center}.story[_ngcontent-%COMP%]{margin-bottom:12px}.story-label[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.15em;color:#b9ffe7cc;margin-bottom:4px}.story-text[_ngcontent-%COMP%]{font-size:14px;color:#eafff8;line-height:1.5}.quiz-item[_ngcontent-%COMP%]{border:1px dashed rgba(0,255,154,.25);border-radius:14px;padding:14px;margin-bottom:14px;background:#00ff9a08}.q-question[_ngcontent-%COMP%]{font-weight:700;margin:8px 0 10px;color:#eafff8}.q-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.btn.opt[_ngcontent-%COMP%]{background:#0f1c17;border:1px solid rgba(0,255,154,.25);color:#cffff0;padding:10px 14px;border-radius:12px;font-weight:600;text-align:left;display:flex;align-items:flex-start;gap:8px;transition:all .15s ease}.btn.opt[_ngcontent-%COMP%]   .opt-letter[_ngcontent-%COMP%]{font-weight:800;color:#00ff9a;margin-top:1px}.btn.opt[_ngcontent-%COMP%]   .opt-text[_ngcontent-%COMP%]{flex:1}.btn.opt.active[_ngcontent-%COMP%]{background:#012d1c;border-color:#00ff9a;box-shadow:0 0 0 2px #00ff9a40 inset}.btn.opt[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.inline-feedback[_ngcontent-%COMP%]{margin-top:10px}.pill-status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px 12px;border-radius:999px;font-size:12px;font-weight:700}.pill-status-error[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.pill-emoji[_ngcontent-%COMP%]{font-size:16px}.q-explanation[_ngcontent-%COMP%]{margin-top:6px;font-size:13px;color:#ffdcdc}.alert[_ngcontent-%COMP%]{margin-top:12px;padding:12px;border-radius:12px;font-weight:700;text-align:center}.alert-erro[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.alert-ok[_ngcontent-%COMP%]{background:#0f2a1f;color:#d5ffef;border:1px solid #00ff9a}.actions[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.btn-concluir[_ngcontent-%COMP%]{background:#00ff9a;color:#0a0a0a;font-weight:900;border-radius:12px;padding:10px 16px;border:none;transition:.2s}.btn-concluir[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-concluir[_ngcontent-%COMP%]:disabled{opacity:.5;filter:grayscale(1);cursor:not-allowed}.btn-ghost[_ngcontent-%COMP%]{color:#b9ffe7;text-decoration:none;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.14);background:transparent}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff14}@media (max-width: 768px){.intro-wrapper[_ngcontent-%COMP%]{padding:24px 12px 60px}.cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.quiz[_ngcontent-%COMP%]{padding:18px}}']})};var cue=(n,e)=>e.id;function lue(n,e){if(n&1){let t=bt();Z(0,"button",23),Jt("click",function(){let r=he(t).$implicit,o=ne();return fe(o.toggleStep(r.id))}),Z(1,"div",24)(2,"span",25),C(3),ee(),Z(4,"span",26),C(5),ee()(),Z(6,"h3",27),C(7),ee(),Z(8,"p",28),C(9),ee()()}if(n&2){let t=e.$implicit;Ye("step-card--selected",t.selected),L(3),Ie(t.tag),L(2),Ze(" ",t.selected?"\u2705":"\u2795"," "),L(2),Ie(t.title),L(2),Ie(t.description)}}function uue(n,e){n&1&&(Z(0,"div",18),C(1," \u274C Escolha pelo menos 3 passos para concluir a li\xE7\xE3o. "),ee())}function due(n,e){n&1&&(Z(0,"div",19),C(1," \u2705 Perfeito! Li\xE7\xE3o conclu\xEDda. Seus passos j\xE1 contam como progresso na trilha. \u{1F49A} "),ee())}var RC=class n{constructor(e,t){this.router=e;this.trilha=t}steps=Pe([{id:1,title:"Anotar tudo por 7 dias",description:"Registrar TUDO que gastar (at\xE9 o cafezinho) durante uma semana.",tag:"Consci\xEAncia",selected:!1},{id:2,title:"Definir 1 objetivo financeiro",description:"Escolher algo simples: quitar uma d\xEDvida pequena, montar reserva, ou juntar para algo espec\xEDfico.",tag:"Objetivo",selected:!1},{id:3,title:"Escolher um dia de \u201Crevis\xE3o\u201D na semana",description:"Separar 15 min na semana para olhar o extrato e ver onde o dinheiro foi.",tag:"Rotina",selected:!1},{id:4,title:"Cortar 1 gasto que n\xE3o faz tanta falta",description:"Identificar um gasto recorrente que n\xE3o \xE9 prioridade e reduzir ou eliminar.",tag:"Economia",selected:!1},{id:5,title:"Separar o dinheiro das contas logo que receber",description:"Assim que receber, j\xE1 reservar o valor das contas fixas do m\xEAs.",tag:"Organiza\xE7\xE3o",selected:!1}]);selectedCount=an(()=>this.steps().filter(e=>e.selected).length);canConclude=an(()=>this.selectedCount()>=3);feedback=Pe(null);submitting=Pe(!1);toggleStep(e){this.steps.update(t=>t.map(i=>i.id===e?ge(Y({},i),{selected:!i.selected}):i)),this.feedback.set(null)}concluir(){return A(this,null,function*(){if(!this.canConclude()){this.feedback.set("erro");return}if(!this.submitting()){this.submitting.set(!0);try{yield this.trilha.completeById("sec1-n5"),this.feedback.set("ok"),setTimeout(()=>{this.router.navigate(["/trilha"])},1200)}finally{this.submitting.set(!1)}}})}voltar(){this.submitting()||this.router.navigate(["/trilha"])}static \u0275fac=function(t){return new(t||n)(me(pt),me(Ji))};static \u0275cmp=mt({type:n,selectors:[["app-passos-simples"]],decls:59,vars:5,consts:[[1,"intro-wrapper"],[1,"intro-header"],[1,"pill"],[1,"intro-title"],[1,"emoji"],[1,"intro-sub"],[1,"cards"],[1,"card-step"],[1,"card-icon"],[1,"card-title"],[1,"card-text"],[1,"actions-section"],[1,"actions-title"],[1,"actions-sub"],[1,"steps-grid"],["type","button",1,"step-card",3,"step-card--selected"],[1,"panel"],[1,"panel-summary"],[1,"alert","alert-erro"],[1,"alert","alert-ok"],[1,"actions"],["type","button",1,"btn","btn-concluir",3,"click","disabled"],["type","button",1,"btn","btn-ghost",3,"click","disabled"],["type","button",1,"step-card",3,"click"],[1,"step-header"],[1,"step-tag"],[1,"step-check"],[1,"step-title"],[1,"step-desc"]],template:function(t,i){t&1&&(Z(0,"div",0)(1,"header",1)(2,"div",2),C(3,"Li\xE7\xE3o 5 \u2014 Passos simples"),ee(),Z(4,"h1",3),C(5," Passos simples para come\xE7ar hoje "),Z(6,"span",4),C(7,"\u{1F463}"),ee()(),Z(8,"p",5),C(9," Escolha pelo menos "),Z(10,"strong"),C(11,"3 a\xE7\xF5es"),ee(),C(12," que voc\xEA est\xE1 disposto(a) a praticar na vida real. "),ee()(),Z(13,"section",6)(14,"div",7)(15,"div",8),C(16,"\u{1F9E0}"),ee(),Z(17,"div",9),C(18,"Consci\xEAncia primeiro"),ee(),Z(19,"p",10),C(20," Antes de mudar tudo, \xE9 importante enxergar como o dinheiro entra e sai do seu dia a dia. "),ee()(),Z(21,"div",7)(22,"div",8),C(23,"\u{1F3AF}"),ee(),Z(24,"div",9),C(25,"Um passo de cada vez"),ee(),Z(26,"p",10),C(27," N\xE3o precisa virar \u201Cmestre das finan\xE7as\u201D hoje. Pequenos passos consistentes j\xE1 fazem diferen\xE7a. "),ee()(),Z(28,"div",7)(29,"div",8),C(30,"\u23F1\uFE0F"),ee(),Z(31,"div",9),C(32,"Aplicar, n\xE3o s\xF3 entender"),ee(),Z(33,"p",10),C(34," A ideia aqui \xE9 escolher atitudes que voc\xEA realmente consiga colocar em pr\xE1tica ainda essa semana. "),ee()()(),Z(35,"section",11)(36,"h2",12),C(37,"Escolha seus passos de a\xE7\xE3o"),ee(),Z(38,"p",13),C(39," Selecione pelo menos "),Z(40,"strong"),C(41,"3 passos"),ee(),C(42," que fazem sentido para voc\xEA agora. "),ee(),Z(43,"div",14),Qt(44,lue,10,6,"button",15,cue),ee()(),Z(46,"section",16)(47,"div",17)(48,"span"),C(49,"Passos selecionados:"),ee(),Z(50,"strong"),C(51),ee()(),Le(52,uue,2,0,"div",18),Le(53,due,2,0,"div",19),Z(54,"div",20)(55,"button",21),Jt("click",function(){return i.concluir()}),C(56," Concluir plano "),ee(),Z(57,"button",22),Jt("click",function(){return i.voltar()}),C(58," Voltar "),ee()()()()),t&2&&(L(44),Xt(i.steps()),L(7),Ze("",i.selectedCount(),"/5"),L(),Ve(i.feedback()==="erro"?52:-1),L(),Ve(i.feedback()==="ok"?53:-1),L(2),Di("disabled",!i.canConclude()||i.submitting()),L(2),Di("disabled",i.submitting()))},styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;color:#fff;font-family:Poppins,sans-serif;overflow-x:hidden}.intro-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;min-height:100vh;width:100%;background-color:#000;color:#eafdf6;padding:40px 16px 64px}.pill[_ngcontent-%COMP%]{display:inline-block;padding:6px 14px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#00ff9a;border-radius:999px;font-weight:700;letter-spacing:.3px;margin-bottom:12px}.intro-title[_ngcontent-%COMP%]{font-size:clamp(20px,2.4vw,32px);font-weight:800;color:#fff;line-height:1.3;text-align:center}.intro-title[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:28px;margin-left:6px}.intro-sub[_ngcontent-%COMP%]{margin-top:8px;color:#b9ffe7;opacity:.85;text-align:center}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-top:24px;width:100%;max-width:900px}.card-step[_ngcontent-%COMP%]{background:linear-gradient(180deg,#111a16,#0b120e);border:1px solid rgba(0,255,154,.18);border-radius:18px;padding:18px;display:grid;place-items:center;gap:10px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.card-step[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 0 16px #00ff9a40}.card-icon[_ngcontent-%COMP%]{font-size:34px}.card-title[_ngcontent-%COMP%]{font-weight:800;color:#cffff0}.card-text[_ngcontent-%COMP%]{color:#dfffee;opacity:.9;font-size:14px}.actions-section[_ngcontent-%COMP%]{margin-top:40px;width:100%;max-width:900px}.actions-title[_ngcontent-%COMP%]{font-weight:900;color:#b9ffe7;text-align:center;margin-bottom:6px}.actions-sub[_ngcontent-%COMP%]{text-align:center;color:#cffff0;opacity:.9;margin-bottom:18px}.steps-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.step-card[_ngcontent-%COMP%]{text-align:left;width:100%;background:linear-gradient(180deg,#111a16,#0b120e);border-radius:16px;border:1px solid rgba(0,255,154,.18);padding:14px 16px;cursor:pointer;display:flex;flex-direction:column;gap:8px;color:inherit;transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease,background .15s ease}.step-card--selected[_ngcontent-%COMP%]{background:radial-gradient(circle at top left,#00ff9a2e,#0b120e);border-color:#00ff9a;box-shadow:0 0 20px #00ff9a33}.step-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.step-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.step-tag[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.16em;padding:3px 10px;border-radius:99px;background:#0f1f17;border:1px solid rgba(0,255,154,.4);color:#b9ffe7}.step-check[_ngcontent-%COMP%]{font-size:20px}.step-title[_ngcontent-%COMP%]{font-size:16px;font-weight:800;color:#eafff8}.step-desc[_ngcontent-%COMP%]{font-size:13px;color:#dfffee;opacity:.9}.panel[_ngcontent-%COMP%]{width:100%;max-width:900px;margin-top:24px}.panel-summary[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;font-size:14px;color:#cffff0}.panel-summary[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#00ff9a}.alert[_ngcontent-%COMP%]{margin-top:12px;padding:12px;border-radius:12px;font-weight:700;text-align:center}.alert-erro[_ngcontent-%COMP%]{background:#2b1010;color:#ffdcdc;border:1px solid #ff6b6b}.alert-ok[_ngcontent-%COMP%]{background:#0f2a1f;color:#d5ffef;border:1px solid #00ff9a}.actions[_ngcontent-%COMP%]{margin-top:18px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.btn-concluir[_ngcontent-%COMP%]{background:#00ff9a;color:#0a0a0a;font-weight:900;border-radius:12px;padding:10px 16px;border:none;transition:.2s}.btn-concluir[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.btn-concluir[_ngcontent-%COMP%]:disabled{opacity:.5;filter:grayscale(1);cursor:not-allowed}.btn-ghost[_ngcontent-%COMP%]{color:#b9ffe7;text-decoration:none;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.14);background:transparent}.btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff14}@media (max-width: 768px){.intro-wrapper[_ngcontent-%COMP%]{padding:24px 12px 60px}.cards[_ngcontent-%COMP%], .steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var vH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Nw},{path:"onboarding",component:i_,canActivate:[Do,b4]},{path:"onboarding-dev",component:i_},{path:"home",component:Vw,canActivate:[Do,Is]},{path:"trilha",component:jw,canActivate:[Do,Is]},{path:"demonstrativos",component:DC,canActivate:[Do,Is]},{path:"conquistas",component:TC,canActivate:[Do,Is]},{path:"saiba-mais",component:Bw},{path:"trilha/Introducao",component:SC,canActivate:[Do,Is]},{path:"trilha/quiz-dinheiro",component:AC,canActivate:[Do,Is]},{path:"trilha/educacao-financeira",component:MC,canActivate:[Do,Is]},{path:"trilha/reserva",component:PC,canActivate:[Do,Is]},{path:"trilha/passos-simples",component:RC,canActivate:[Do,Is]},{path:"**",redirectTo:"login"}];var yH={apiKey:"AIzaSyDKisY2nK2bw0usbdmTNZKdzVNekP-mItI",authDomain:"moneva-18fae.firebaseapp.com",projectId:"moneva-18fae",storageBucket:"moneva-18fae.appspot.com",messagingSenderId:"32099205973",appId:"1:32099205973:web:88d3cde02e51fc52bf4",measurementId:"G-R8STLPMLE"};var bH={providers:[ES(vH),WT(),Oj(()=>Nj(yH)),jB(()=>UB()),f4(()=>{let n=v4();return m4(n).catch(()=>{console.warn("Firestore persistence not enabled (multi-tab?)")}),n})]};var kC=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&Ee(0,"router-outlet")},dependencies:[Pg,CS],encapsulation:2})};zT(kC,bH).catch(n=>console.error(n));
